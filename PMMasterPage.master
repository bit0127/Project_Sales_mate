<%@ Master Language="C#" AutoEventWireup="true" CodeFile="PMMasterPage.master.cs" Inherits="PMMasterPage" %>

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title>Sales-Mate</title>
    <link rel="shortcut icon" href="Nimages/logopran.gif" />
    <link href="Ncss/jquery-ui.css" rel="stylesheet" />    
   <%-- <link href="Ncss/bootstrap-min2.css" rel="stylesheet" type="text/css"/>--%>
   
     <script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=false"></script>

    <link rel="stylesheet" type="text/css" href="CSS/basic.css" />
    <link rel="stylesheet" type="text/css" href="CSS/lightbox.css" />
    <link rel="stylesheet" type="text/css" href="CSS/Format.css" />
    <link rel="stylesheet" type="text/css" href="CSS/styles.css" />
    <link rel="stylesheet" type="text/css" href="CSS/demo.css" />
    <link rel="stylesheet" type="text/css" href="CSS/sidemenu.css" />
    
    <script src="NScripts/jquery-2.1.4.min.js" type="text/javascript"></script>
    <script src="NScripts/bootstrap.min.js" type="text/javascript"></script>
    <script src="NJavaScript/jquery.min.js" type="text/javascript"></script>
    <script src="NJavaScript/jquery-1.10.2.js" type="text/javascript"></script>
    <script src="NJavaScript/jquery-ui.js" type="text/javascript"></script>
    <script src="NScripts/script.js" type="text/javascript"></script>    
  
    <!-- jQuery -->
    <script type="text/javascript" src="JS/slide-show-google-api.js"></script>
   

    <link href="NgridCss/dataTables.jqueryui.min.css" rel="stylesheet" />    
    <link href="NgridCss/buttons.jqueryui.min.css" rel="stylesheet" />
  
    <script src="NgridJs/jquery-1.12.0.min.js" type="text/javascript"></script>  
    <script src="NgridJs/jquery.dataTables.min.js" type="text/javascript"></script>  
    <script src="NgridJs/dataTables.jqueryui.min.js" type="text/javascript"></script>     
    <script src="NgridJs/dataTables.buttons.min.js" type="text/javascript"></script>     
    <script src="NgridJs/buttons.jqueryui.min.js" type="text/javascript"></script>    
    <script src="NgridJs/jszip.min.js" type="text/javascript"></script>    
    <script src="NgridJs/pdfmake.min.js" type="text/javascript"></script>
    <script src="NgridJs/vfs_fonts.js" type="text/javascript"></script>    
    <script src="NgridJs/buttons.html5.min.js" type="text/javascript"></script>    
    <script src="NgridJs/buttons.print.min.js" type="text/javascript"></script>


    <!-- FlexSlider -->    
    <script type="text/javascript" src="JS/jquery.flexslider-min.js"></script>
    <script type="text/javascript" src="JS/prototype.js"></script>
    <script type="text/javascript" src="JS/lightbox.js"></script>   
    
   
   <link rel="stylesheet" href="CSS/date-picker-css.css" />
  <%-- <script type="text/javascript" src="JSfordate/jquery-1.10.2.js"></script>--%>
    <script type="text/javascript" src="JSfordate/jquery-ui.js"></script>

    <style type="text/css">
        .ui-datepicker {
            width: 17em;
            padding: .2em .2em 0;
            display: none;
            background: #846733;
        }

            .ui-datepicker .ui-datepicker-title {
                margin: 0 2.3em;
                line-height: 1.8em;
                text-align: center;
                color: #FFFFFF;
                background: #846733;
            }

            .ui-datepicker table {
                width: 100%;
                font-size: .7em;
                border-collapse: collapse;
                font-family: verdana;
                margin: 0 0 .4em;
                color: #000000;
                background: #FDF8E4;
            }

            .ui-datepicker td {
                border: 0;
                padding: 1px;
            }

                .ui-datepicker td span, .ui-datepicker td a {
                    display: block;
                    padding: .8em;
                    text-align: right;
                    text-decoration: none;
                }
    </style>
 
    <style type="text/css">
        
        .table-striped tbody tr:nth-of-type(2n+1) {
            background-color: #f9f9f9;
        }
        .table-bordered {
            border: 1px solid #eceeef;
        }

        .table-hover tbody tr:hover {
            background-color: #f5f5f5;
        }
        .table-hover .table-active:hover {
            background-color: #e8e8e8;
        }
        .table-hover .table-active:hover > td, .table-hover .table-active:hover > th {
            background-color: #e8e8e8;
        }
        .table-success, .table-success > th, .table-success > td {
            background-color: #dff0d8;
        }
        .table-hover .table-success:hover {
            background-color: #d0e9c6;
        }
        .table-hover .table-success:hover > td, .table-hover .table-success:hover > th {
            background-color: #d0e9c6;
        }

        .datepicker {
           margin: 10px;
           padding: 2px;
           position: absolute;
           width: 261px;
           background-color: #fff;
           border: 1px solid #ccc;
           -webkit-border-radius: 4px;
           -moz-border-radius: 4px;
           border-radius: 4px;
        }
        div#month-wrap {
           height: 30px;
           background-color: #ddd;
           border: 1px solid black;
           -webkit-border-radius: 4px;
           -moz-border-radius: 4px;
           border-radius: 4px;
        }
        div#bn_prev {
           margin: 3px;
           float: left;
           width: 24px;
           height: 24px;
        }
        div#bn_next {
           margin: 3px;
           float: right;
           width: 24px;
           height: 24px;
        }

        div#bn_prev:hover,
        div#bn_prev:focus,
        div#bn_next:hover,
        div#bn_next:focus {
           margin: 2px;
           background-color: #fc3;
           border: 1px solid #800;
           -webkit-border-radius: 4px;
           -moz-border-radius: 4px;
           border-radius: 4px;
        }
        img.bn_img {
           margin: 0;
           padding: 2px;
        }
        div#month {
           float: left;
           padding-top: 6px;
           width: 199px;
           height: 24px;
           text-align: center;
           font-weight: bold;
           font-size: 1.2em;
        }
        table#cal {
           width: 261px;
           font-size: 1.2em;
           text-align: center;
        }
        table#cal th,
        table#cal td {
           width: 35px;
           height: 30px;
           padding: 0;
        }
        table#cal td {
           background-color: #ddd;
           border: 1px solid #999;
        }

        table#cal td.today {
           background-color: #FFF0C4;
           border: 1px solid #999;
        }

        table#cal td.empty {
           background-color: #f9f9f9;
           border: 1px solid #eee;
        }

        table#cal td:hover,
        table#cal td.focus {
           border-color: #800;
           background-color: #fc3;
        }

        table#cal td.empty:hover {
           background-color: #f9f9f9;
           border: 1px solid #eee;
        }

        .offscreen {
           position: absolute;
           left: -200em;
           top: -100em;
        }
        [aria-hidden="true"] {
           display: none;
        }


        .plc::-webkit-input-placeholder
        {
            color:#b2cde0;
        }
        
        .btn-success {
            background-color: #5cb85c;
            border-color: #4cae4c;
            color: #fff;
            
        }
        .boxbg5
        {
            background-color: #FFF;
            padding: 1px;
            height: 50px;
            color: #ffffff;
            text-align: center;
            font-size: 14px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
            border-radius: 5px;
            margin-top: -30px;
        }
        .btn {
            -moz-user-select: none;
            background-image: none;
            border: 1px solid transparent;
            border-radius: 4px;
            cursor: pointer;
            display: inline-block;
            font-size: 14px;
            font-weight: 400;
            line-height: 1.42857;
            margin-bottom: 0;
            padding: 6px 12px;
            text-align: center;
            vertical-align: middle;
            white-space: nowrap;
        }
        ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #607d8b;
        }

        ul li {
            float: left;
            border-right:1px solid #bbb;
        }

        ul li:last-child {
            border-right: none;
        }

        ul li a {
            display: block;
            color: white;
            text-align: center;
            padding: 14px 16px;
            font-size: 14px;
            text-decoration: none;
        }

        ul li a:hover:not(.active) {
            background-color: #8dc060;
        }

        .active {
            background-color: #8dc060;
        }
        
        #content {
	        float: left;
            padding-top: 10px;
            padding-left: 5px;
            width: 95.5%;
        }

        #middle {
	        width: 580px; /* Account for margins + border values */
	        float: left;
	        padding: 5px;	        
        }

        #sidebar {
	        width: 97%;
	        padding-top: 10px;
	        float: right;
            padding-right: 5px;
        }
        #pagewrap {
	        padding-top: 5px;
	        width: 1135px;
	        margin: -14px auto;
        }
        
        .border-bottom
        {
            border-bottom: 1px solid #bbb;
        }
        
        .title{
            display: inline-block;
            height: 25px;
        }
        
        .txtColor
        {
            border:1px solid #5cb85c;       
            height:23px;      
        }
        
     </style>

    <script type="text/javascript" charset="utf-8">
        var $j = jQuery.noConflict();
        $j(document).ready(function () {
            $j('.flexslider').flexslider({
                animation: "fade"
            });



            $j(function () {
                $j('.show_menu').click(function () {
                    $j('.menu').fadeIn();
                    $j('.show_menu').fadeOut();
                    $j('.hide_menu').fadeIn();
                });
                $j('.hide_menu').click(function () {
                    $j('.menu').fadeOut();
                    $j('.show_menu').fadeIn();
                    $j('.hide_menu').fadeOut();
                });

                $j('marquee').mouseover(function () {
                    $j(this).attr('scrollamount', 0);
                }).mouseout(function () {
                    $j(this).attr('scrollamount', 5);
                });

            });



            $j("#lnkLogout").click(function (e) {
                e.preventDefault();
                window.location = "login.aspx";
            });


            $j("#lnkOrderMemoReports").click(function (e) {
                e.preventDefault();
                window.location = "ordermemo.aspx";
            });


            var topsr = "sr";
            $j.ajax({
                type: "POST",
                url: "pmdashboard.aspx/GetTopRatedSR",
                data: "{topsr:'" + topsr + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                async: false,
                success: function (response) {

                    $j("#mrqTopRatedSR").html("");
                    $j('#mrqTopRatedSR').html(response.d);
                },
                failure: function (response) {
                    alert(response.d);
                }
            });


            $j.ajax({
                type: "POST",
                url: "pmdashboard.aspx/GetTopSoldProduct",
                data: "{topsr:'" + topsr + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                async: false,
                success: function (response) {

                    $j("#mrqTopSoldProducts").html("");
                    $j('#mrqTopSoldProducts').html(response.d);
                },
                failure: function (response) {
                    alert(response.d);
                }
            });

            $j.ajax({
                type: "POST",
                url: "pmdashboard.aspx/CheckUserName",
                data: "{uid:'" + topsr + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                async: false,
                success: function (response) {

                    $j("#logeduser").html("Welcome " + response.d);
                },
                failure: function (response) {
                    alert(response.d);
                }
            });

            

            //---dashboard--------------------------------------------
            var groupId = "";
            var companyName = "";
            $j.ajax({
                type: "POST",
                url: "pmdashboard.aspx/GetDashboard",
                data: "{companyName:'" + companyName + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                async: false,
                success: function (response) {

                    $j("#tblData").html("");
                    $j('#dvMiddleContent').html('');
                    $j('#dvMiddleContent').html(response.d);

                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetTopRatedHOS",
                        data: "{topsr:'" + topsr + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {

                            $j("#mrqTopRatedDivision").html("");
                            $j('#mrqTopRatedDivision').html(response.d);
                        },
                        failure: function (response) {
                            alert(response.d);
                        }
                    });

                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetTopRatedRM",
                        data: "{topsr:'" + topsr + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {

                            $j("#mrqTopRatedZone").html("");
                            $j('#mrqTopRatedZone').html(response.d);
                        },
                        failure: function (response) {
                            alert(response.d);
                        }
                    });

                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetTopRatedTSM",
                        data: "{topsr:'" + topsr + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {

                            $j("#mrqTopRatedTSM").html("");
                            $j('#mrqTopRatedTSM').html(response.d);
                        },
                        failure: function (response) {
                            alert(response.d);
                        }
                    });


                    $j('#dvMiddleContent').on('click', '.groupid', function () {
                        groupId = this.id;
                        $j.ajax({
                            type: "POST",
                            url: "pmdashboard.aspx/GetDivisionWiseDashboard",
                            data: "{groupIds:'" + groupId + "'}",
                            contentType: "application/json; charset=utf-8",
                            dataType: "json",
                            async: false,
                            success: function (response) {

                                $j("#tblData").html("");
                                $j('#dvMiddleContent').html('');
                                $j('#dvMiddleContent').html(response.d);

                                $j('#dvMiddleContent').on('click', '.divisionid', function () {
                                    var groupDivId = this.id;
                                    var divInfo = groupDivId.split(';');
                                    var group = divInfo[0];
                                    var division = divInfo[1];
                                    $j.ajax({
                                        type: "POST",
                                        url: "pmdashboard.aspx/GetDivisionAndZoneWiseDashboard",
                                        data: "{group:'" + group + "',division:'" + division + "'}",
                                        contentType: "application/json; charset=utf-8",
                                        dataType: "json",
                                        async: false,
                                        success: function (response) {

                                            $j("#tblData").html("");
                                            $j('#dvMiddleContent').html('');
                                            $j('#dvMiddleContent').html(response.d);

                                            $j('#btnBack').click(function () {
                                                $j.ajax({
                                                    type: "POST",
                                                    url: "pmdashboard.aspx/GetDivisionWiseDashboard",
                                                    data: "{groupIds:'" + groupId + "'}",
                                                    contentType: "application/json; charset=utf-8",
                                                    dataType: "json",
                                                    async: false,
                                                    success: function (response) {

                                                        $j("#tblData").html("");
                                                        $j('#dvMiddleContent').html('');
                                                        $j('#dvMiddleContent').html(response.d);

                                                        $j('#btnBack').click(function () {
                                                            var companyNames = "";
                                                            $j.ajax({
                                                                type: "POST",
                                                                url: "pmdashboard.aspx/GetDashboard",
                                                                data: "{companyName:'" + companyNames + "'}",
                                                                contentType: "application/json; charset=utf-8",
                                                                dataType: "json",
                                                                async: false,
                                                                success: function (response) {

                                                                    $j("#tblData").html("");
                                                                    $j('#dvMiddleContent').html('');
                                                                    $j('#dvMiddleContent').html(response.d);

                                                                    $j('#btnRefresh').click(function () {
                                                                        var companyNames = "";
                                                                        $j.ajax({
                                                                            type: "POST",
                                                                            url: "pmdashboard.aspx/GetDashboard",
                                                                            data: "{companyName:'" + companyNames + "'}",
                                                                            contentType: "application/json; charset=utf-8",
                                                                            dataType: "json",
                                                                            async: false,
                                                                            success: function (response) {

                                                                                $j("#tblData").html("");
                                                                                $j('#dvMiddleContent').html('');
                                                                                $j('#dvMiddleContent').html(response.d);
                                                                            },
                                                                            failure: function (response) {
                                                                                alert(response.d);
                                                                            }
                                                                        });

                                                                    });
                                                                },
                                                                failure: function (response) {
                                                                    alert(response.d);
                                                                }
                                                            });

                                                        });
                                                        $j('#btnRefresh').click(function () {
                                                            $j.ajax({
                                                                type: "POST",
                                                                url: "pmdashboard.aspx/GetDivisionAndZoneWiseDashboard",
                                                                data: "{group:'" + group + "',division:'" + division + "'}",
                                                                contentType: "application/json; charset=utf-8",
                                                                dataType: "json",
                                                                async: false,
                                                                success: function (response) {

                                                                    $j("#tblData").html("");
                                                                    $j('#dvMiddleContent').html('');
                                                                    $j('#dvMiddleContent').html(response.d);

                                                                },
                                                                failure: function (response) {
                                                                    alert(response.d);
                                                                }
                                                            });

                                                        });
                                                    },
                                                    failure: function (response) {
                                                        alert(response.d);
                                                    }
                                                });

                                            });
                                        },
                                        failure: function (response) {
                                            alert(response.d);
                                        }
                                    });
                                });

                                $j('#btnBack').click(function () {
                                    var companyNames = "";
                                    $j.ajax({
                                        type: "POST",
                                        url: "pmdashboard.aspx/GetDashboard",
                                        data: "{companyName:'" + companyNames + "'}",
                                        contentType: "application/json; charset=utf-8",
                                        dataType: "json",
                                        async: false,
                                        success: function (response) {

                                            $j("#tblData").html("");
                                            $j('#dvMiddleContent').html('');
                                            $j('#dvMiddleContent').html(response.d);

                                            $j.ajax({
                                                type: "POST",
                                                url: "pmdashboard.aspx/GetTopRatedHOS",
                                                data: "{topsr:'" + topsr + "'}",
                                                contentType: "application/json; charset=utf-8",
                                                dataType: "json",
                                                async: false,
                                                success: function (response) {

                                                    $j("#mrqTopRatedDivision").html("");
                                                    $j('#mrqTopRatedDivision').html(response.d);
                                                },
                                                failure: function (response) {
                                                    alert(response.d);
                                                }
                                            });

                                            $j.ajax({
                                                type: "POST",
                                                url: "pmdashboard.aspx/GetTopRatedRM",
                                                data: "{topsr:'" + topsr + "'}",
                                                contentType: "application/json; charset=utf-8",
                                                dataType: "json",
                                                async: false,
                                                success: function (response) {

                                                    $j("#mrqTopRatedZone").html("");
                                                    $j('#mrqTopRatedZone').html(response.d);
                                                },
                                                failure: function (response) {
                                                    alert(response.d);
                                                }
                                            });

                                            $j.ajax({
                                                type: "POST",
                                                url: "pmdashboard.aspx/GetTopRatedTSM",
                                                data: "{topsr:'" + topsr + "'}",
                                                contentType: "application/json; charset=utf-8",
                                                dataType: "json",
                                                async: false,
                                                success: function (response) {

                                                    $j("#mrqTopRatedTSM").html("");
                                                    $j('#mrqTopRatedTSM').html(response.d);
                                                },
                                                failure: function (response) {
                                                    alert(response.d);
                                                }
                                            });
                                            $j.ajax({
                                                type: "POST",
                                                url: "pmdashboard.aspx/GetTopRatedSR",
                                                data: "{topsr:'" + topsr + "'}",
                                                contentType: "application/json; charset=utf-8",
                                                dataType: "json",
                                                async: false,
                                                success: function (response) {

                                                    $j("#mrqTopRatedSR").html("");
                                                    $j('#mrqTopRatedSR').html(response.d);
                                                },
                                                failure: function (response) {
                                                    alert(response.d);
                                                }
                                            });


                                            $j.ajax({
                                                type: "POST",
                                                url: "pmdashboard.aspx/GetTopSoldProduct",
                                                data: "{topsr:'" + topsr + "'}",
                                                contentType: "application/json; charset=utf-8",
                                                dataType: "json",
                                                async: false,
                                                success: function (response) {

                                                    $j("#mrqTopSoldProducts").html("");
                                                    $j('#mrqTopSoldProducts').html(response.d);
                                                },
                                                failure: function (response) {
                                                    alert(response.d);
                                                }
                                            });

                                            $j('#btnRefresh').click(function () {
                                                var companyNames = "";
                                                $j.ajax({
                                                    type: "POST",
                                                    url: "pmdashboard.aspx/GetDashboard",
                                                    data: "{companyName:'" + companyNames + "'}",
                                                    contentType: "application/json; charset=utf-8",
                                                    dataType: "json",
                                                    async: false,
                                                    success: function (response) {

                                                        $j("#tblData").html("");
                                                        $j('#dvMiddleContent').html('');
                                                        $j('#dvMiddleContent').html(response.d);

                                                        $j.ajax({
                                                            type: "POST",
                                                            url: "pmdashboard.aspx/GetTopRatedHOS",
                                                            data: "{topsr:'" + topsr + "'}",
                                                            contentType: "application/json; charset=utf-8",
                                                            dataType: "json",
                                                            async: false,
                                                            success: function (response) {

                                                                $j("#mrqTopRatedDivision").html("");
                                                                $j('#mrqTopRatedDivision').html(response.d);
                                                            },
                                                            failure: function (response) {
                                                                alert(response.d);
                                                            }
                                                        });

                                                        $j.ajax({
                                                            type: "POST",
                                                            url: "pmdashboard.aspx/GetTopRatedRM",
                                                            data: "{topsr:'" + topsr + "'}",
                                                            contentType: "application/json; charset=utf-8",
                                                            dataType: "json",
                                                            async: false,
                                                            success: function (response) {

                                                                $j("#mrqTopRatedZone").html("");
                                                                $j('#mrqTopRatedZone').html(response.d);
                                                            },
                                                            failure: function (response) {
                                                                alert(response.d);
                                                            }
                                                        });

                                                        $j.ajax({
                                                            type: "POST",
                                                            url: "pmdashboard.aspx/GetTopRatedTSM",
                                                            data: "{topsr:'" + topsr + "'}",
                                                            contentType: "application/json; charset=utf-8",
                                                            dataType: "json",
                                                            async: false,
                                                            success: function (response) {

                                                                $j("#mrqTopRatedTSM").html("");
                                                                $j('#mrqTopRatedTSM').html(response.d);
                                                            },
                                                            failure: function (response) {
                                                                alert(response.d);
                                                            }
                                                        });
                                                        $j.ajax({
                                                            type: "POST",
                                                            url: "pmdashboard.aspx/GetTopRatedSR",
                                                            data: "{topsr:'" + topsr + "'}",
                                                            contentType: "application/json; charset=utf-8",
                                                            dataType: "json",
                                                            async: false,
                                                            success: function (response) {

                                                                $j("#mrqTopRatedSR").html("");
                                                                $j('#mrqTopRatedSR').html(response.d);
                                                            },
                                                            failure: function (response) {
                                                                alert(response.d);
                                                            }
                                                        });


                                                        $j.ajax({
                                                            type: "POST",
                                                            url: "pmdashboard.aspx/GetTopSoldProduct",
                                                            data: "{topsr:'" + topsr + "'}",
                                                            contentType: "application/json; charset=utf-8",
                                                            dataType: "json",
                                                            async: false,
                                                            success: function (response) {

                                                                $j("#mrqTopSoldProducts").html("");
                                                                $j('#mrqTopSoldProducts').html(response.d);
                                                            },
                                                            failure: function (response) {
                                                                alert(response.d);
                                                            }
                                                        });
                                                    },
                                                    failure: function (response) {
                                                        alert(response.d);
                                                    }
                                                });

                                            });
                                        },
                                        failure: function (response) {
                                            alert(response.d);
                                        }
                                    });

                                });

                            },
                            failure: function (response) {
                                alert(response.d);
                            }
                        });
                    });

                    $j('#btnRefresh').click(function () {
                        var companyNames = "";
                        $j.ajax({
                            type: "POST",
                            url: "pmdashboard.aspx/GetDashboard",
                            data: "{companyName:'" + companyNames + "'}",
                            contentType: "application/json; charset=utf-8",
                            dataType: "json",
                            async: false,
                            success: function (response) {

                                $j("#tblData").html("");
                                $j('#dvMiddleContent').html('');
                                $j('#dvMiddleContent').html(response.d);

                                $j.ajax({
                                    type: "POST",
                                    url: "pmdashboard.aspx/GetTopRatedHOS",
                                    data: "{topsr:'" + topsr + "'}",
                                    contentType: "application/json; charset=utf-8",
                                    dataType: "json",
                                    async: false,
                                    success: function (response) {

                                        $j("#mrqTopRatedDivision").html("");
                                        $j('#mrqTopRatedDivision').html(response.d);
                                    },
                                    failure: function (response) {
                                        alert(response.d);
                                    }
                                });

                                $j.ajax({
                                    type: "POST",
                                    url: "pmdashboard.aspx/GetTopRatedRM",
                                    data: "{topsr:'" + topsr + "'}",
                                    contentType: "application/json; charset=utf-8",
                                    dataType: "json",
                                    async: false,
                                    success: function (response) {

                                        $j("#mrqTopRatedZone").html("");
                                        $j('#mrqTopRatedZone').html(response.d);
                                    },
                                    failure: function (response) {
                                        alert(response.d);
                                    }
                                });

                                $j.ajax({
                                    type: "POST",
                                    url: "pmdashboard.aspx/GetTopRatedTSM",
                                    data: "{topsr:'" + topsr + "'}",
                                    contentType: "application/json; charset=utf-8",
                                    dataType: "json",
                                    async: false,
                                    success: function (response) {

                                        $j("#mrqTopRatedTSM").html("");
                                        $j('#mrqTopRatedTSM').html(response.d);
                                    },
                                    failure: function (response) {
                                        alert(response.d);
                                    }
                                });
                                $j.ajax({
                                    type: "POST",
                                    url: "pmdashboard.aspx/GetTopRatedSR",
                                    data: "{topsr:'" + topsr + "'}",
                                    contentType: "application/json; charset=utf-8",
                                    dataType: "json",
                                    async: false,
                                    success: function (response) {

                                        $j("#mrqTopRatedSR").html("");
                                        $j('#mrqTopRatedSR').html(response.d);
                                    },
                                    failure: function (response) {
                                        alert(response.d);
                                    }
                                });


                                $j.ajax({
                                    type: "POST",
                                    url: "pmdashboard.aspx/GetTopSoldProduct",
                                    data: "{topsr:'" + topsr + "'}",
                                    contentType: "application/json; charset=utf-8",
                                    dataType: "json",
                                    async: false,
                                    success: function (response) {

                                        $j("#mrqTopSoldProducts").html("");
                                        $j('#mrqTopSoldProducts').html(response.d);
                                    },
                                    failure: function (response) {
                                        alert(response.d);
                                    }
                                });
                            },
                            failure: function (response) {
                                alert(response.d);
                            }
                        });

                    });

                },
                failure: function (response) {
                    alert(response.d);
                }
            });




            //---end dashboard------------------------------------------------------------------



            function loadDivision() {
                //$j("#ddlCountry").change(function () {
                var countryName = "";//$j("#ddlCountry option:selected").text();
                $j.ajax({
                    type: "POST",
                    url: "pmdashboard.aspx/GetDivision",
                    data: "{countryName:'" + countryName + "'}",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    async: false,
                    success: function (response) {

                        var companyInfo = response.d.split(';');
                        var opt = "<option value='-1'>...Select...</option>";
                        opt = opt + "<option value='All'>All</option>";
                        for (var i = 1; i < companyInfo.length; i = i + 2) {
                            var groupId = companyInfo[i];
                            var groupName = companyInfo[i + 1];
                            opt = opt + "<option value='" + groupId + "'>" + groupName + "</option>";
                        }
                        $j("#ddlDivision").html('');
                        $j("#ddlDivision").append(opt);

                    },
                    failure: function (response) {
                        alert(response.d);
                    }
                });
                //});
            }

            function loadZone() {
                $j("#ddlDivision").change(function () {
                    var division = $j("#ddlDivision").val();
                    $j.ajax({
                        type: "POST",
                        url: "operation.aspx/GetZone",
                        data: "{division:'" + division + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {

                            var companyInfo = response.d.split(';');
                            var opt = "<option value='-1'>...Select...</option>";
                            opt = opt + "<option value='All'>All</option>";
                            for (var i = 1; i < companyInfo.length; i = i + 2) {
                                var groupId = companyInfo[i];
                                var groupName = companyInfo[i + 1];
                                opt = opt + "<option value='" + groupId + "'>" + groupName + "</option>";
                            }
                            $j("#ddlZone").html('');
                            $j("#ddlZone").append(opt);

                        },
                        failure: function (response) {
                            alert(response.d);
                        }
                    });
                });
            }


            $j("#lnkUserLog").click(function (e) {
                e.preventDefault();
                $j("#dvSalesContent").css("display", "none");
                $j("#dvSalesSRItemContent").css("display", "none");
                $j("#tblData").html("");
                $j('#dvMiddleContent').html('');
                $j('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>User Login Info </span></div>" +
                                   "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'>" +
                                      "<table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +

                                        //"<tr><td>Mother Company :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlMotherCompany' name='ddlMotherCompany'><option value='-1'>...Select...</option><option value='PRAN'>PRAN</option><option value='RFL'>RFL</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                        //"<tr><td>Company Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlOwnCompany' name='ddlOwnCompany'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        //"<tr><td>Country Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlCountry' name='ddlCountry'><option value='-1'>...Select...</option><option value='Bangladesh'>Bangladesh</option><option value='India'>India</option><option value='Nepal'>Nepal</option><option value='Malaysia'>Malaysia</option><option value='Oman'>Oman</option><option value='UAE'>UAE</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        //"<tr><td>Division Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDivision' name='ddlCountry'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        //"<tr><td>Zone :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlZone' name='ddlZone'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        "<tr><td>Date :</td><td><input type='text' id='txtDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +

                                        "<tr><td style='width:140px;'></td><td style='text-align:right;'> <button type='button' id='btnSearchActiveSR' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Search</button> </td></tr>" +
                                      "</table>" +
                                    "</div>");


                var d = new Date();
                var month = d.getMonth() + 1;
                var day = d.getDate();
                var currentDate = (day < 10 ? '0' : '') + day + '/' + (month < 10 ? '0' : '') + month + '/' + d.getFullYear();
                $j("#txtDate").val(currentDate);
                $j("#txtDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });


                $j("#btnSearchActiveSR").click(function () {
                    var company = "";
                    $j("#tblData").html("");
                    $j("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='images/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                    var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'style='padding-top:10px;'>";
                    var thead = "<thead><tr><th>Staff ID</th><th>Name</th><th>Mobile No</th><th>Login Time</th><th>Working Activities Name</th></tr></thead>";

                    var row = "";

                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetUserLogInfo",
                        data: "{currentDate:'" + $j("#txtDate").val() + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {
                            var srInfo = response.d.split(';');

                            for (var i = 1; i < srInfo.length; i = i + 5) {

                                var SR_ID = srInfo[i];
                                var SR_NAME = srInfo[i + 1];
                                var PHONE = srInfo[i + 2];
                                var GROUP = srInfo[i + 3];
                                var loginTime = srInfo[i + 4];

                                row = row + "<tr style='text-align:left'><td>" + SR_ID + "</td><td>" + SR_NAME + "</td><td>" + PHONE + "</td><td>" + loginTime + "</td><td>" + GROUP + "</td></tr>";
                            }

                            tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";

                            //$j("#loader").css("display", "none");
                            $j("#tblData").html("");
                            $j("#tblData").html(tbl);

                            var table = $j('#example').DataTable({
                                lengthChange: true,
                                "scrollX": true,
                                buttons: true
                            });

                            table.buttons().container().insertBefore('#example_filter');


                        },
                        failure: function (response) {
                            alert(response.d);
                        }
                    });

                });
            });

            $j("#lnkSampleReport").click(function (e) {
                e.preventDefault();
                $j("#dvSalesContent").css("display", "none");
                $j("#dvSalesSRItemContent").css("display", "none");
                $j("#tblData").html("");
                $j('#dvMiddleContent').html('');
                $j('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>Sample Report </span></div>" +
                                   "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'>" +
                                      "<table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +

                                        //"<tr><td>Mother Company :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlMotherCompany' name='ddlMotherCompany'><option value='-1'>...Select...</option><option value='PRAN'>PRAN</option><option value='RFL'>RFL</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                        //"<tr><td>Company Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlOwnCompany' name='ddlOwnCompany'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        //"<tr><td>Country Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlCountry' name='ddlCountry'><option value='-1'>...Select...</option><option value='Bangladesh'>Bangladesh</option><option value='India'>India</option><option value='Nepal'>Nepal</option><option value='Malaysia'>Malaysia</option><option value='Oman'>Oman</option><option value='UAE'>UAE</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        //"<tr><td>Division Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDivision' name='ddlCountry'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        //"<tr><td>Zone :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlZone' name='ddlZone'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        "<tr><td>Date :</td><td><input type='text' id='txtDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +

                                        "<tr><td style='width:140px;'></td><td style='text-align:right;'> <button type='button' id='btnSearchActiveSR' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Search</button> </td></tr>" +
                                      "</table>" +
                                    "</div>");


                var d = new Date();
                var month = d.getMonth() + 1;
                var day = d.getDate();
                var currentDate = (day < 10 ? '0' : '') + day + '/' + (month < 10 ? '0' : '') + month + '/' + d.getFullYear();
                $j("#txtDate").val(currentDate);
                $j("#txtDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });

                $j("#btnSearchActiveSR").click(function () {
                    var company = "";
                    $j("#tblData").html("");
                    $j("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='images/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                    var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'style='padding-top:10px;'>";
                    var thead = "<thead><tr><th>SR ID</th><th>SR Name</th><th>Item ID</th><th>Item Name</th><th>Carton</th><th>Piece</th><th>Price</th><th>Total</th><th>Outlet Name</th><th>Route Name</th><th>Zone Name</th></tr></thead>";

                    var row = "";

                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetSampleInfo",
                        data: "{currentDate:'" + $j("#txtDate").val() + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {
                            var srInfo = response.d.split(';');

                            for (var i = 1; i < srInfo.length; i = i + 11) {

                                var SR_ID = srInfo[i];
                                var SR_NAME = srInfo[i + 1];
                                var ITEM_ID = srInfo[i + 2];
                                var ITEM_NAME = srInfo[i + 3];
                                var ITEM_CTN = srInfo[i + 4];
                                var ITEM_PCS = srInfo[i + 5];
                                var ITEM_PRICE = srInfo[i + 6];
                                var TOTAL_AMT = srInfo[i + 7];
                                var OUTLET_NAME = srInfo[i + 8];
                                var ROUTE_NAME = srInfo[i + 9];
                                var ZONE_NAME = srInfo[i + 10];

                                row = row + "<tr style='text-align:left'><td>" + SR_ID + "</td><td>" + SR_NAME + "</td><td>" + ITEM_ID + "</td><td>" + ITEM_NAME + "</td><td>" + ITEM_CTN + "</td><td>" + ITEM_PCS + "</td><td>" + ITEM_PRICE + "</td><td>" + TOTAL_AMT + "</td><td>" + OUTLET_NAME + "</td><td>" + ROUTE_NAME + "</td><td>" + ZONE_NAME + "</td></tr>";
                            }

                            tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";

                            //$j("#loader").css("display", "none");
                            $j("#tblData").html("");
                            $j("#tblData").html(tbl);

                            var table = $j('#example').DataTable({
                                lengthChange: true,
                                "scrollX": true,
                                buttons: true
                            });

                            table.buttons().container().insertBefore('#example_filter');


                        },
                        failure: function (response) {
                            alert(response.d);
                        }
                    });

                });
            });

            $j("#lnkSROutlet").click(function (e) {
                e.preventDefault();
                $j("#dvSalesContent").css("display", "none");
                $j("#dvSalesSRItemContent").css("display", "none");
                $j("#tblData").html("");
                $j('#dvMiddleContent').html('');
                $j('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>SR's Total Outlet </span></div>" +
                                   "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'>" +
                                      "<table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +

                                        //"<tr><td>Mother Company :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlMotherCompany' name='ddlMotherCompany'><option value='-1'>...Select...</option><option value='PRAN'>PRAN</option><option value='RFL'>RFL</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                        //"<tr><td>Company Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlOwnCompany' name='ddlOwnCompany'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        //"<tr><td>Country Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlCountry' name='ddlCountry'><option value='-1'>...Select...</option><option value='Bangladesh'>Bangladesh</option><option value='India'>India</option><option value='Nepal'>Nepal</option><option value='Malaysia'>Malaysia</option><option value='Oman'>Oman</option><option value='UAE'>UAE</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        //"<tr><td>Division Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDivision' name='ddlCountry'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        //"<tr><td>Zone :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlZone' name='ddlZone'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        //"<tr><td>Date :</td><td><input type='text' id='txtDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +

                                        "<tr><td style='width:140px;'></td><td style='text-align:right;'> <button type='button' id='btnSearchActiveSR' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Search</button> </td></tr>" +
                                      "</table>" +
                                    "</div>");



                $j("#btnSearchActiveSR").click(function () {
                    var company = "";
                    $j("#tblData").html("");
                    $j("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='images/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                    var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'style='padding-top:10px;'>";
                    var thead = "<thead><tr><th>SR ID</th><th>SR Name</th><th>Total Outlet</th><th>Route Name</th><th>Zone Name</th><th>Group Name</th></tr></thead>";

                    var row = "";

                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetSRWiseOutletInfo",
                        data: "{company:'" + company + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {
                            var srInfo = response.d.split(';');

                            for (var i = 1; i < srInfo.length; i = i + 6) {

                                var SR_ID = srInfo[i];
                                var SR_NAME = srInfo[i + 1];
                                var ROUTE_NAME = srInfo[i + 2];
                                var OUTLET = srInfo[i + 3];
                                var ITEM_GROUP = srInfo[i + 4];
                                var ZONE_NAME = srInfo[i + 5];

                                row = row + "<tr style='text-align:left'><td>" + SR_ID + "</td><td>" + SR_NAME + "</td><td>" + OUTLET + "</td><td>" + ROUTE_NAME + "</td><td>" + ZONE_NAME + "</td><td>" + ITEM_GROUP + "</td></tr>";
                            }

                            tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";

                            //$j("#loader").css("display", "none");
                            $j("#tblData").html("");
                            $j("#tblData").html(tbl);

                            var table = $j('#example').DataTable({
                                lengthChange: true,
                                "scrollX": true,
                                buttons: true
                            });

                            table.buttons().container().insertBefore('#example_filter');


                        },
                        failure: function (response) {
                            alert(response.d);
                        }
                    });

                });
            });


            $j("#lnkAllSR").click(function (e) {
                e.preventDefault();
                $j("#dvSalesContent").css("display", "none");
                $j("#dvSalesSRItemContent").css("display", "none");
                $j("#tblData").html("");
                $j('#dvMiddleContent').html('');
                $j('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>All SR Info</span></div>" +
                                   "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'>" +
                                      "<table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +

                                        //"<tr><td>Mother Company :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlMotherCompany' name='ddlMotherCompany'><option value='-1'>...Select...</option><option value='PRAN'>PRAN</option><option value='RFL'>RFL</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                        //"<tr><td>Company Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlOwnCompany' name='ddlOwnCompany'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        //"<tr><td>Country Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlCountry' name='ddlCountry'><option value='-1'>...Select...</option><option value='Bangladesh'>Bangladesh</option><option value='India'>India</option><option value='Nepal'>Nepal</option><option value='Malaysia'>Malaysia</option><option value='Oman'>Oman</option><option value='UAE'>UAE</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        //"<tr><td>Division Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDivision' name='ddlCountry'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        //"<tr><td>Zone :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlZone' name='ddlZone'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        //"<tr><td>Date :</td><td><input type='text' id='txtDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +

                                        "<tr><td style='width:140px;'></td><td style='text-align:right;'> <button type='button' id='btnSearchActiveSR' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Search</button> </td></tr>" +
                                      "</table>" +
                                    "</div>");

                $j("#btnSearchActiveSR").click(function () {

                    var company = "";

                    $j("#tblData").html("");
                    $j("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='images/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                    var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'style='padding-top:10px;'>";
                    var thead = "<thead><tr><th>Group Name</th><th>SR ID</th><th>SR Name</th><th>Mobile No</th><th>Distributor Code</th><th>Zone</th><th>Division</th></tr></thead>";

                    var row = "";

                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetSRInfo",
                        data: "{company:'" + company + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {
                            var srInfo = response.d.split(';');

                            for (var i = 1; i < srInfo.length; i = i + 7) {
                                var ITEM_GROUP = srInfo[i];
                                var SR_ID = srInfo[i + 1];
                                var SR_NAME = srInfo[i + 2];
                                var MOBILE_NO = srInfo[i + 3];
                                var DIST_ID = srInfo[i + 4];
                                var ZONE_NAME = srInfo[i + 5];
                                var DIVISION_NAME = srInfo[i + 6];

                                row = row + "<tr style='text-align:left'><td>" + ITEM_GROUP + "</td><td>" + SR_ID + "</td><td>" + SR_NAME + "</td><td>" + MOBILE_NO + "</td><td>" + DIST_ID + "</td><td>" + ZONE_NAME + "</td><td>" + DIVISION_NAME + "</td></tr>";
                            }

                            tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";

                            //$j("#loader").css("display", "none");
                            $j("#tblData").html("");
                            $j("#tblData").html(tbl);

                            var table = $j('#example').DataTable({
                                lengthChange: true,
                                "scrollX": true,
                                buttons: true
                            });

                            table.buttons().container().insertBefore('#example_filter');


                        },
                        failure: function (response) {
                            alert(response.d);
                        }
                    });

                });
            });


            $j("#lnkActiveSR").click(function (e) {
                e.preventDefault();
                $j("#dvSalesContent").css("display", "none");
                $j("#dvSalesSRItemContent").css("display", "none");
                $j("#tblData").html("");
                $j('#dvMiddleContent').html('');
                $j('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>All Active SR</span></div>" +
                                   "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'>" +
                                      "<table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +

                                        //"<tr><td>Mother Company :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlMotherCompany' name='ddlMotherCompany'><option value='-1'>...Select...</option><option value='PRAN'>PRAN</option><option value='RFL'>RFL</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                        //"<tr><td>Company Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlOwnCompany' name='ddlOwnCompany'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        //"<tr><td>Country Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlCountry' name='ddlCountry'><option value='-1'>...Select...</option><option value='Bangladesh'>Bangladesh</option><option value='India'>India</option><option value='Nepal'>Nepal</option><option value='Malaysia'>Malaysia</option><option value='Oman'>Oman</option><option value='UAE'>UAE</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        "<tr><td>Division Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDivision' name='ddlCountry'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        "<tr><td>Zone :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlZone' name='ddlZone'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        "<tr><td>Date :</td><td><input type='text' id='txtDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +

                                        "<tr><td></td><td style='text-align:right;'> <button type='button' id='btnSearchActiveSR' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Search</button> </td></tr>" +
                                      "</table>" +
                                    "</div>");

                loadDivision();
                loadZone();

                /*$j("#ddlMotherCompany").change(function (e) {
                    var motherCompany = $j("#ddlMotherCompany option:selected").text();
                    $j.ajax({
                        type: "POST",
                        url: "operation.aspx/GetCompany",
                        data: "{motherCompany:'" + motherCompany + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {

                            var companyInfo = response.d.split(';');
                            var opt = "<option value='-1'>...Select...</option>";
                            opt = opt + "<option value='All'>All Company</option>";
                            for (var i = 1; i < companyInfo.length; i = i + 2) {
                                var comId = companyInfo[i];
                                var comName = companyInfo[i + 1];
                                opt = opt + "<option value='" + comId + "'>" + comName + "</option>";
                            }
                            $j("#ddlOwnCompany").html('');
                            $j("#ddlOwnCompany").append(opt);                            

                        },
                        failure: function (response) {
                            alert(response.d);
                        }
                    });
                });*/

                var d = new Date();
                var month = d.getMonth() + 1;
                var day = d.getDate();
                var currentDate = (day < 10 ? '0' : '') + day + '/' + (month < 10 ? '0' : '') + month + '/' + d.getFullYear();
                $j("#txtDate").val(currentDate);
                $j("#txtDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });

                $j("#btnSearchActiveSR").click(function () {

                    var mCompany = "";//$j("#ddlMotherCompany").val();
                    var company = "";//$j("#ddlOwnCompany").val();
                    var country = "";//$j("#ddlCountry").val();
                    var division = $j("#ddlDivision").val();
                    var zone = $j("#ddlZone").val();
                    var txtDate = $j("#txtDate").val();

                    //if (mCompany == "-1") {
                    //    alert('Select Company');
                    //    return;
                    //}
                    //if (company == "-1") {
                    //    alert('Select Own Company');
                    //    return;
                    //}
                    //else 
                    if (division == "-1") {
                        alert('Select Division');
                        return;
                    }
                    else if (zone == "-1") {
                        alert('Select Zone');
                        return;
                    }
                    else if (txtDate == "") {
                        alert('Enter Date');
                        return;
                    }

                    $j("#tblData").html("");
                    $j("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='images/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                    var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'style='padding-top:10px;'>";
                    var thead = "<thead><tr><th>Group Name</th><th>SR ID</th><th>SR Name</th><th>Mobile No</th><th>TSM</th><th>Zone</th><th>Division</th></tr></thead>";

                    var row = "";

                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetActiveSRInfo",
                        data: "{company:'" + company + "',division:'" + division + "',zone:'" + zone + "',txtDate:'" + txtDate + "',country:'" + country + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {
                            var srInfo = response.d.split(';');

                            for (var i = 1; i < srInfo.length; i = i + 7) {
                                var group = srInfo[i];
                                var srId = srInfo[i + 1];
                                var srName = srInfo[i + 2];
                                var phone = srInfo[i + 3];
                                var tsm = srInfo[i + 4];
                                var zone = srInfo[i + 5];
                                var division = srInfo[i + 6];

                                row = row + "<tr style='text-align:left'><td>" + group + "</td><td>" + srId + "</td><td>" + srName + "</td><td>" + phone + "</td><td>" + tsm + "</td><td>" + zone + "</td><td>" + division + "</td></tr>";
                            }

                            tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";

                            //$j("#loader").css("display", "none");
                            $j("#tblData").html("");
                            $j("#tblData").html(tbl);

                            var table = $j('#example').DataTable({
                                lengthChange: true,
                                "scrollX": true,
                                buttons: true
                            });

                            table.buttons().container().insertBefore('#example_filter');


                        },
                        failure: function (response) {
                            alert(response.d);
                        }
                    });

                });
            });

            $j("#lnkInActiveSR").click(function (e) {
                e.preventDefault();
                $j("#dvSalesContent").css("display", "none");
                $j("#dvSalesSRItemContent").css("display", "none");
                $j("#tblData").html("");
                $j('#dvMiddleContent').html('');
                $j('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>All InActive SR</span></div>" +
                                   "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'>" +
                                      "<table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +

                                        //"<tr><td>Mother Company :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlMotherCompany' name='ddlMotherCompany'><option value='-1'>...Select...</option><option value='PRAN'>PRAN</option><option value='RFL'>RFL</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                        //"<tr><td>Company Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlOwnCompany' name='ddlOwnCompany'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        //"<tr><td>Country Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlCountry' name='ddlCountry'><option value='-1'>...Select...</option><option value='Bangladesh'>Bangladesh</option><option value='India'>India</option><option value='Nepal'>Nepal</option><option value='Malaysia'>Malaysia</option><option value='Oman'>Oman</option><option value='UAE'>UAE</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        "<tr><td>Division Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDivision' name='ddlCountry'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        "<tr><td>Zone :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlZone' name='ddlZone'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +


                                        "<tr><td>Date :</td><td><input type='text' id='txtDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +


                                        "<tr><td></td><td style='text-align:right;'> <button type='button' id='btnSearchActiveSR' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Search</button> </td></tr>" +
                                      "</table>" +
                                    "</div>");

                loadDivision();
                loadZone();

                /*$j("#ddlMotherCompany").change(function (e) {
                    var motherCompany = $j("#ddlMotherCompany option:selected").text();
                    $j.ajax({
                        type: "POST",
                        url: "operation.aspx/GetCompany",
                        data: "{motherCompany:'" + motherCompany + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {

                            var companyInfo = response.d.split(';');
                            var opt = "<option value='-1'>...Select...</option>";
                            opt = opt + "<option value='All'>All Company</option>";
                            for (var i = 1; i < companyInfo.length; i = i + 2) {
                                var comId = companyInfo[i];
                                var comName = companyInfo[i + 1];
                                opt = opt + "<option value='" + comId + "'>" + comName + "</option>";
                            }
                            $j("#ddlOwnCompany").html('');
                            $j("#ddlOwnCompany").append(opt);

                        },
                        failure: function (response) {
                            alert(response.d);
                        }
                    });
                });*/

                var d = new Date();
                var month = d.getMonth() + 1;
                var day = d.getDate();
                var currentDate = (day < 10 ? '0' : '') + day + '/' + (month < 10 ? '0' : '') + month + '/' + d.getFullYear();
                $j("#txtDate").val(currentDate);
                $j("#txtDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });

                $j("#btnSearchActiveSR").click(function () {

                    var mCompany = "";//$j("#ddlMotherCompany").val();
                    var company = "";//$j("#ddlOwnCompany").val();
                    var country = "";//$j("#ddlCountry").val();
                    var division = $j("#ddlDivision").val();
                    var zone = $j("#ddlZone").val();
                    var txtDate = $j("#txtDate").val();


                    /*if (mCompany == "-1") {
                        alert('Select Company');
                        return;
                    }
                    if (company == "-1") {
                        alert('Select Own Company');
                        return;
                    }*/
                    //else
                    if (division == "-1") {
                        alert('Select Division');
                        return;
                    }
                    else if (zone == "-1") {
                        alert('Select Zone');
                        return;
                    }
                    else if (txtDate == "") {
                        alert('Enter Date');
                        return;
                    }

                    $j("#tblData").html("");
                    $j("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='images/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                    var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'style='padding-top:10px;'>";
                    var thead = "<thead><tr><th>Group Name</th><th>SR ID</th><th>SR Name</th><th>Mobile No</th><th>TSM</th><th>Zone</th><th>Division</th><th>Remarks</th></tr></thead>";

                    var row = "";

                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetInActiveSRInfo",
                        data: "{company:'" + company + "',division:'" + division + "',zone:'" + zone + "',txtDate:'" + txtDate + "',country:'" + country + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {
                            var srInfo = response.d.split(';');

                            for (var i = 1; i < srInfo.length; i = i + 8) {
                                var group = srInfo[i];
                                var srId = srInfo[i + 1];
                                var srName = srInfo[i + 2];
                                var phone = srInfo[i + 3];
                                var tsm = srInfo[i + 4];
                                var zone = srInfo[i + 5];
                                var division = srInfo[i + 6];
                                var remarks = srInfo[i + 7];

                                row = row + "<tr style='text-align:left'><td>" + group + "</td><td>" + srId + "</td><td>" + srName + "</td><td>" + phone + "</td><td>" + tsm + "</td><td>" + zone + "</td><td>" + division + "</td><td>" + remarks + "</td></tr>";
                            }

                            tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";

                            //$j("#loader").css("display", "none");
                            $j("#tblData").html("");
                            $j("#tblData").html(tbl);

                            var table = $j('#example').DataTable({
                                lengthChange: true,
                                "scrollX": true,
                                buttons: true
                            });

                            table.buttons().container().insertBefore('#example_filter');


                        },
                        failure: function (response) {
                            alert(response.d);
                        }
                    });

                });
            });

            $j("#lnkSRLeave").click(function (e) {
                e.preventDefault();
                $j("#dvSalesContent").css("display", "none");
                $j("#dvSalesSRItemContent").css("display", "none");
                $j("#tblData").html("");
                $j('#dvMiddleContent').html('');
                $j('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>SR Leave Information</span></div>" +
                                   "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'>" +
                                      "<table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +

                                        //"<tr><td>Mother Company :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlMotherCompany' name='ddlMotherCompany'><option value='-1'>...Select...</option><option value='PRAN'>PRAN</option><option value='RFL'>RFL</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                        //"<tr><td>Company Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlOwnCompany' name='ddlOwnCompany'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        //"<tr><td>Country Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlCountry' name='ddlCountry'><option value='-1'>...Select...</option><option value='Bangladesh'>Bangladesh</option><option value='India'>India</option><option value='Nepal'>Nepal</option><option value='Malaysia'>Malaysia</option><option value='Oman'>Oman</option><option value='UAE'>UAE</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        "<tr><td>Division Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDivision' name='ddlCountry'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        "<tr><td>Zone :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlZone' name='ddlZone'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +


                                        "<tr><td>Date :</td><td><input type='text' id='txtDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +


                                        "<tr><td></td><td style='text-align:right;'> <button type='button' id='btnSearchActiveSR' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Search</button> </td></tr>" +
                                      "</table>" +
                                    "</div>");

                loadDivision();
                loadZone();

                /*$j("#ddlMotherCompany").change(function (e) {
                    var motherCompany = $j("#ddlMotherCompany option:selected").text();
                    $j.ajax({
                        type: "POST",
                        url: "operation.aspx/GetCompany",
                        data: "{motherCompany:'" + motherCompany + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {

                            var companyInfo = response.d.split(';');
                            var opt = "<option value='-1'>...Select...</option>";
                            for (var i = 1; i < companyInfo.length; i = i + 2) {
                                var comId = companyInfo[i];
                                var comName = companyInfo[i + 1];
                                opt = opt + "<option value='" + comId + "'>" + comName + "</option>";
                            }
                            $j("#ddlOwnCompany").html('');
                            $j("#ddlOwnCompany").append(opt);

                        },
                        failure: function (response) {
                            alert(response.d);
                        }
                    });
                });*/


                var d = new Date();
                var month = d.getMonth() + 1;
                var day = d.getDate();
                var currentDate = (day < 10 ? '0' : '') + day + '/' + (month < 10 ? '0' : '') + month + '/' + d.getFullYear();
                $j("#txtDate").val(currentDate);
                $j("#txtDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });

                $j("#btnSearchActiveSR").click(function () {

                    var mCompany = "";//$j("#ddlMotherCompany").val();
                    var company = "";//$j("#ddlOwnCompany").val();
                    var division = $j("#ddlDivision").val();
                    var zone = $j("#ddlZone").val();
                    var txtDate = $j("#txtDate").val();


                    /*if (mCompany == "-1") {
                        alert('Select Company');
                        return;
                    }
                    if (company == "-1") {
                        alert('Select Own Company');
                        return;
                    }*/
                    //else
                    if (division == "-1") {
                        alert('Select Division');
                        return;
                    }
                    else if (zone == "-1") {
                        alert('Select Zone');
                        return;
                    }
                    else if (txtDate == "") {
                        alert('Enter Date');
                        return;
                    }

                    $j("#tblData").html("");
                    $j("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='images/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                    var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'style='padding-top:10px;'>";
                    var thead = "<thead><tr><th>Group Name</th><th>SR ID</th><th>SR Name</th><th>Mobile No</th><th>Reason</th><th>TSM</th><th>Zone</th><th>Division</th></tr></thead>";

                    var row = "";

                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetSRLeaveInfo",
                        data: "{company:'" + company + "',division:'" + division + "',zone:'" + zone + "',txtDate:'" + txtDate + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {
                            var srInfo = response.d.split(';');

                            for (var i = 1; i < srInfo.length; i = i + 8) {
                                var group = srInfo[i];
                                var srId = srInfo[i + 1];
                                var srName = srInfo[i + 2];
                                var phone = srInfo[i + 3];
                                var tsm = srInfo[i + 4];
                                var zone = srInfo[i + 5];
                                var division = srInfo[i + 6];
                                var reason = srInfo[i + 7];

                                row = row + "<tr style='text-align:left'><td>" + group + "</td><td>" + srId + "</td><td>" + srName + "</td><td>" + phone + "</td><td>" + reason + "</td><td>" + tsm + "</td><td>" + zone + "</td><td>" + division + "</td></tr>";
                            }

                            tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";

                            //$j("#loader").css("display", "none");
                            $j("#tblData").html("");
                            $j("#tblData").html(tbl);

                            var table = $j('#example').DataTable({
                                lengthChange: true,
                                "scrollX": true,
                                buttons: true
                            });

                            table.buttons().container().insertBefore('#example_filter');


                        },
                        failure: function (response) {
                            alert(response.d);
                        }
                    });

                });
            });


            //--SR Tracking --------------------------------------------

            $j("#lnkSRLocation").click(function (e) {
                e.preventDefault();
                $j("#dvSalesContent").css("display", "none");
                $j("#dvSalesSRItemContent").css("display", "none");
                $j("#tblData").html("");
                $j('#dvMiddleContent').html('');
                $j('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>SR Tracking</span></div>" +
                                   "<div style='width:97.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:1%;'>" +
                                      "<table style='padding-top:10px;padding-bottom: 10px;padding-left:5%'>" +

                                        "<tr><td>Division Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDivision' name='ddlCountry'></select></td>" +
                                        "<td>Zone :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlZone' name='ddlZone'></select></td>" +
                                        "<td>Date :</td><td><input type='text' id='txtDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td>" +
                                        "<td></td><td style='text-align:right;'> <button type='button' id='btnSearchActiveSR' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Search</button> </td></tr>" +

                                        //"<tr><td>Zone :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlZone' name='ddlZone'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +


                                        //"<tr><td>Date :</td><td><input type='text' id='txtDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +


                                        //"<tr><td></td><td style='text-align:right;'> <button type='button' id='btnSearchActiveSR' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Search</button> </td></tr>" +
                                      "</table>" +
                                    "</div>");

                loadDivision();
                loadZone();



                var d = new Date();
                var month = d.getMonth() + 1;
                var day = d.getDate();
                var currentDate = (day < 10 ? '0' : '') + day + '/' + (month < 10 ? '0' : '') + month + '/' + d.getFullYear();
                $j("#txtDate").val(currentDate);
                $j("#txtDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });


                $j("#btnSearchActiveSR").click(function () {


                    var division = $j("#ddlDivision").val();
                    var zone = $j("#ddlZone").val();
                    var txtDate = $j("#txtDate").val();


                    if (division == "-1") {
                        alert('Select Division');
                        return;
                    }
                    else if (zone == "-1") {
                        alert('Select Zone');
                        return;
                    }
                    else if (txtDate == "") {
                        alert('Enter Date');
                        return;
                    }
                    else {
                        //window.location = "srtracking.aspx?currentdate=" + txtDate;
                        var url = "srtracking.aspx?currentdate=" + txtDate;
                        window.open('srtracking.aspx?currentdate=' + txtDate + '&division=' + division + '&zone=' + zone + '', '_blank');
                    }


                });
            });


            //----------------------------------------------------------




            $j("#lnkOutletList").click(function (e) {
                e.preventDefault();
                $j("#dvSalesContent").css("display", "none");
                $j("#dvSalesSRItemContent").css("display", "none");
                $j("#tblData").html("");
                $j('#dvMiddleContent').html('');
                $j('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>Outlet Information</span></div>" +
                                   "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'>" +
                                      "<table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +

                                        //"<tr><td>Mother Company :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlMotherCompany' name='ddlMotherCompany'><option value='-1'>...Select...</option><option value='PRAN'>PRAN</option><option value='RFL'>RFL</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                        //"<tr><td>Company Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlOwnCompany' name='ddlOwnCompany'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        //"<tr><td>Country Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlCountry' name='ddlCountry'><option value='-1'>...Select...</option><option value='Bangladesh'>Bangladesh</option><option value='India'>India</option><option value='Nepal'>Nepal</option><option value='Malaysia'>Malaysia</option><option value='Oman'>Oman</option><option value='UAE'>UAE</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        "<tr><td>Division Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDivision' name='ddlCountry'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        "<tr><td>Zone :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlZone' name='ddlZone'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        "<tr><td>Item Group :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlItemGroup' name='ddlItemGroup'></select></td><td><span style='color:#ec407a;'>*</span></td></tr><tr>" +

                                        "<tr><td></td><td style='text-align:right;'> <button type='button' id='btnSearchActiveSR' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Search</button> </td></tr>" +
                                      "</table>" +
                                    "</div>");

                loadDivision();
                loadZone();

                $j.getScript("JS/loadGroup.js");

                $j("#btnSearchActiveSR").click(function () {


                    var division = $j("#ddlDivision").val();
                    var zone = $j("#ddlZone").val();
                    var group = $j("#ddlItemGroup").val();

                    if (division == "-1") {
                        alert('Select Division');
                        return;
                    }
                    else if (zone == "-1") {
                        alert('Select Zone');
                        return;
                    }
                    else if (group == "-1") {
                        alert('Select Group');
                        return;
                    }

                    $j("#tblData").html("");
                    $j("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='images/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                    var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'style='padding-top:10px;'>";
                    var thead = "<thead><tr><th>Outlet Name</th><th>Outlet Address</th><th>Propritor Name</th><th>Mobile No</th><th>Route Name</th><th>Zone Name</th><th>Division Name</th></tr></thead>";

                    var row = "";

                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetOutletInfo",
                        data: "{division:'" + division + "',zone:'" + zone + "',group:'" + group + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {
                            var srInfo = response.d.split(';');

                            for (var i = 1; i < srInfo.length; i = i + 7) {
                                var OUTLET_NAME = srInfo[i];
                                var OUTLET_ADDRESS = srInfo[i + 1];
                                var PROPRITOR_NAME = srInfo[i + 2];
                                var MOBILE_NUMBER = srInfo[i + 3];
                                var ROUTE_NAME = srInfo[i + 4];
                                var ZONE_NAME = srInfo[i + 5];
                                var DIVISION_NAME = srInfo[i + 6];

                                row = row + "<tr style='text-align:left'><td>" + OUTLET_NAME + "</td><td>" + OUTLET_ADDRESS + "</td><td>" + PROPRITOR_NAME + "</td><td>" + MOBILE_NUMBER + "</td><td>" + ROUTE_NAME + "</td><td>" + ZONE_NAME + "</td><td>" + DIVISION_NAME + "</td></tr>";
                            }

                            tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";

                            //$j("#loader").css("display", "none");
                            $j("#tblData").html("");
                            $j("#tblData").html(tbl);

                            var table = $j('#example').DataTable({
                                lengthChange: true,
                                "scrollX": true,
                                buttons: true
                            });

                            table.buttons().container().insertBefore('#example_filter');


                        },
                        failure: function (response) {
                            alert(response.d);
                        }
                    });

                });
            });

            //--SR MONTHLY ATTENDANCE----------------------------------------------            
            $j("#lnkSRAttendance").on('click', function (e) {
                e.preventDefault();
                $j("#dvSalesContent").css("display", "none");
                $j("#dvSalesSRItemContent").css("display", "none");
                $j("#tblData").html("");
                $j('#dvMiddleContent').html('');
                $j('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>SR's Attendance</span></div>" +
                                   "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'>" +
                                      "<table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +

                                        //"<tr><td>Mother Company :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlMotherCompany' name='ddlMotherCompany'><option value='-1'>...Select...</option><option value='PRAN'>PRAN</option><option value='RFL'>RFL</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                        //"<tr><td>Company Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlOwnCompany' name='ddlOwnCompany'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                        "<tr><td>Group Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlGroup' name='ddlGroup'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        "<tr><td>From Date :</td><td><input type='text' id='txtFromDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +
                                        "<tr><td>To Date :</td><td><input type='text' id='txtToDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +

                                        "<tr><td></td><td style='text-align:right;'> <button type='button' id='btnShow' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Show</button> </td></tr>" +
                                      "</table>" +
                                    "</div>");


                /*$j("#ddlMotherCompany").change(function (e) {
                    var motherCompany = $j("#ddlMotherCompany option:selected").text();
                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetCompany",
                        data: "{motherCompany:'" + motherCompany + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {

                            var companyInfo = response.d.split(';');
                            var opt = "<option value='-1'>...Select...</option>";
                            for (var i = 1; i < companyInfo.length; i = i + 2) {
                                var comId = companyInfo[i];
                                var comName = companyInfo[i + 1];
                                opt = opt + "<option value='" + comId + "'>" + comName + "</option>";
                            }
                            $j("#ddlOwnCompany").html('');
                            $j("#ddlOwnCompany").append(opt);

                        },
                        failure: function (response) {
                            alert(response.d);
                        }
                    });
                });*/

                //$j("#ddlOwnCompany").change(function (e) {
                var ownCompany = "";//$j("#ddlOwnCompany").val();
                $j.ajax({
                    type: "POST",
                    url: "pmdashboard.aspx/GetCompanyGroup",
                    data: "{ownCompany:'" + ownCompany + "'}",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    async: false,
                    success: function (response) {

                        var companyInfo = response.d.split(';');
                        var opt = "<option value='-1'>...Select...</option>";
                        for (var i = 1; i < companyInfo.length; i = i + 2) {
                            var comId = companyInfo[i];
                            var comName = companyInfo[i + 1];
                            opt = opt + "<option value='" + comId + "'>" + comName + "</option>";
                        }
                        $j("#ddlGroup").html('');
                        $j("#ddlGroup").append(opt);

                    },
                    failure: function (response) {
                        alert(response.d);
                    }
                });
                //});

                var d = new Date();
                var month = d.getMonth() + 1;
                var day = d.getDate();
                var currentDate = (day < 10 ? '0' : '') + day + '/' + (month < 10 ? '0' : '') + month + '/' + d.getFullYear();
                $j("#txtFromDate").val(currentDate);
                $j("#txtToDate").val(currentDate);
                $j("#txtFromDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });
                $j("#txtToDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });

                $j("#btnShow").click(function () {

                    var mCompany = "";//$j("#ddlMotherCompany").val();
                    var company = "";//$j("#ddlOwnCompany").val();
                    var group = $j("#ddlGroup").val();

                    var fDate = $j("#txtFromDate").val();
                    var tDate = $j("#txtToDate").val();


                    /*if (mCompany == "-1") {
                        alert('Select Company');
                        return;
                    }
                    if (company == "-1") {
                        alert('Select Own Company');
                        return;
                    }*/
                    if (group == "-1") {
                        alert('Select Group');
                        return;
                    }
                    else if (fDate == "") {
                        alert('Enter From Date');
                        return;
                    }
                    else if (tDate == "") {
                        alert('Enter To Date');
                        return;
                    }

                    $j("#tblData").html("");
                    $j("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='Nimages/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                    var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'>";
                    //var thead = "<thead><tr><th>SR Name</th><th>Mobile Number</th><th>Total Amt</th><th>Avg Amt</th><th>Total Memo</th><th>Avg Memo</th><th>Visited Outlet</th><th>In Time</th><th>Leave</th><th>LWP</th><th>Zone</th><th>Company & Group</th></tr></thead>";
                    var thead = "<thead><tr><th>Company & Group</th><th>SR Name</th><th>Mobile Number</th><th>Total Amt</th><th>Avg. Amt</th><th>Total Memo</th><th>Avg. Memo</th><th>LPC</th><th>Total Outlet</th><th>Visited Outlet</th><th>Visited Olt(%) </th><th>In Time</th><th>Leave</th><th>LWP</th><th>Zone Name</th><th>Division Name</th></tr></thead>";
                    var row = "";
                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetSRAttendance",
                        data: "{groupId:'" + group + "',fdate:'" + fDate + "',tdate:'" + tDate + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {
                            var pmdashboardData = response.d.split(';');

                            for (var i = 1; i < pmdashboardData.length; i = i + 16) {

                                var srName = pmdashboardData[i];
                                var srMobileNo = pmdashboardData[i + 1];
                                var totalAmt = pmdashboardData[i + 2];
                                var avgAmt = pmdashboardData[i + 3];
                                var totalMemo = pmdashboardData[i + 4];
                                var avgMemo = pmdashboardData[i + 5];

                                var leave = pmdashboardData[i + 6];
                                var lwp = pmdashboardData[i + 7];
                                var company = pmdashboardData[i + 8];
                                var zoneName = pmdashboardData[i + 9];
                                var vOltPcnt = pmdashboardData[i + 10];
                                var intime = pmdashboardData[i + 11];

                                var lpc = pmdashboardData[i + 12];
                                var totalOutlet = pmdashboardData[i + 13];
                                var visitedOutlet = pmdashboardData[i + 14];
                                var divisionName = pmdashboardData[i + 15];

                                row = row + "<tr style='text-align:left'><td>" + company + "</td><td>" + srName + "</td><td>" + srMobileNo + "</td><td>" + totalAmt + "</td><td>" + avgAmt + "</td><td>" + totalMemo + "</td><td>" + avgMemo + "</td><td>" + lpc + "</td><td>" + totalOutlet + "</td><td>" + visitedOutlet + "</td><td>" + vOltPcnt + "</td><td>" + intime + "</td><td>" + leave + "</td><td>" + lwp + "</td><td>" + zoneName + "</td><td>" + divisionName + "</td></tr>";


                            }

                            tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";


                            $j("#tblData").html("");
                            $j("#tblData").html(tbl);

                            var table = $j('#example').DataTable({
                                lengthChange: true,
                                "scrollX": true,
                                buttons: true
                            });

                            table.buttons().container().insertBefore('#example_filter');

                        },
                        failure: function (response) {
                            $j("#spTotalAmt").text(response.d);
                        }
                    });

                });

            });

            //---outlet wise SKU-------------------------------------------------
            $j("#lnkOutletWiseSKU").on('click', function (e) {
                e.preventDefault();
                $j("#dvSalesContent").css("display", "none");
                $j("#dvSalesSRItemContent").css("display", "none");
                $j("#tblData").html("");
                $j('#dvMiddleContent').html('');
                $j('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>Outlet wise SKU</span></div>" +
                                   "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'>" +
                                      "<table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +

                                        //"<tr><td>Mother Company :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlMotherCompany' name='ddlMotherCompany'><option value='-1'>...Select...</option><option value='PRAN'>PRAN</option><option value='RFL'>RFL</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                        //"<tr><td>Company Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlOwnCompany' name='ddlOwnCompany'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                        "<tr><td>Group Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlGroup' name='ddlGroup'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        "<tr><td>From Date :</td><td><input type='text' id='txtFromDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +
                                        "<tr><td>To Date :</td><td><input type='text' id='txtToDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +

                                        "<tr><td></td><td style='text-align:right;'> <button type='button' id='btnShow' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Show</button> </td></tr>" +
                                      "</table>" +
                                    "</div>");


                var ownCompany = "";//$j("#ddlOwnCompany").val();
                $j.ajax({
                    type: "POST",
                    url: "pmdashboard.aspx/GetCompanyGroup",
                    data: "{ownCompany:'" + ownCompany + "'}",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    async: false,
                    success: function (response) {

                        var companyInfo = response.d.split(';');
                        var opt = "<option value='-1'>...Select...</option>";
                        for (var i = 1; i < companyInfo.length; i = i + 2) {
                            var comId = companyInfo[i];
                            var comName = companyInfo[i + 1];
                            opt = opt + "<option value='" + comId + "'>" + comName + "</option>";
                        }
                        $j("#ddlGroup").html('');
                        $j("#ddlGroup").append(opt);

                    },
                    failure: function (response) {
                        alert(response.d);
                    }
                });
                //});

                var d = new Date();
                var month = d.getMonth() + 1;
                var day = d.getDate();
                var currentDate = (day < 10 ? '0' : '') + day + '/' + (month < 10 ? '0' : '') + month + '/' + d.getFullYear();
                $j("#txtFromDate").val(currentDate);
                $j("#txtToDate").val(currentDate);
                $j("#txtFromDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });
                $j("#txtToDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });

                $j("#btnShow").click(function () {

                    var mCompany = "";//$j("#ddlMotherCompany").val();
                    var company = "";//$j("#ddlOwnCompany").val();
                    var group = $j("#ddlGroup").val();

                    var fDate = $j("#txtFromDate").val();
                    var tDate = $j("#txtToDate").val();


                    /*if (mCompany == "-1") {
                        alert('Select Company');
                        return;
                    }
                    if (company == "-1") {
                        alert('Select Own Company');
                        return;
                    }*/
                    if (group == "-1") {
                        alert('Select Group');
                        return;
                    }
                    else if (fDate == "") {
                        alert('Enter From Date');
                        return;
                    }
                    else if (tDate == "") {
                        alert('Enter To Date');
                        return;
                    }

                    $j("#tblData").html("");
                    $j("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='Nimages/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                    var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'>";

                    var thead = "<thead><tr><th>SR ID</th><th>SR Name</th><th>Mobile Number</th><th>Outlet Name</th><th>SKU</th><th>Route Name</th><th>Zone Name</th></tr></thead>";
                    var row = "";
                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetOutletSKU",
                        data: "{groupId:'" + group + "',fdate:'" + fDate + "',tdate:'" + tDate + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {
                            var pmdashboardData = response.d.split(';');

                            for (var i = 1; i < pmdashboardData.length; i = i + 7) {

                                var srId = pmdashboardData[i];
                                var srName = pmdashboardData[i + 1];
                                var mobile = pmdashboardData[i + 2];
                                var outlet = pmdashboardData[i + 3];
                                var sku = pmdashboardData[i + 4];
                                var route = pmdashboardData[i + 5];
                                var zone = pmdashboardData[i + 6];

                                row = row + "<tr style='text-align:left'><td>" + srId + "</td><td>" + srName + "</td><td>" + mobile + "</td><td>" + outlet + "</td><td>" + sku + "</td><td>" + route + "</td><td>" + zone + "</td></tr>";

                            }

                            tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";


                            $j("#tblData").html("");
                            $j("#tblData").html(tbl);

                            var table = $j('#example').DataTable({
                                lengthChange: true,
                                "scrollX": true,
                                buttons: true
                            });

                            table.buttons().container().insertBefore('#example_filter');

                        },
                        failure: function (response) {
                            $j("#spTotalAmt").text(response.d);
                        }
                    });

                });

            });



            //--sr contribution----------------------------------------------------
            $j("#lnkOutletwisesoldproducts").on('click', function (e) {
                e.preventDefault();
                $j("#dvSalesContent").css("display", "none");
                $j("#dvSalesSRItemContent").css("display", "none");
                $j("#tblData").html("");
                $j('#dvMiddleContent').html('');
                $j('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>Product wise SR's Contribution</span></div>" +
                                   "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'>" +
                                      "<table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +

                                        //"<tr><td>Mother Company :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlMotherCompany' name='ddlMotherCompany'><option value='-1'>...Select...</option><option value='PRAN'>PRAN</option><option value='RFL'>RFL</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                        //"<tr><td>Company Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlOwnCompany' name='ddlOwnCompany'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                        "<tr><td>Group Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlGroup' name='ddlGroup'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        "<tr><td>From Date :</td><td><input type='text' id='txtFromDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +
                                        "<tr><td>To Date :</td><td><input type='text' id='txtToDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +

                                        "<tr><td></td><td style='text-align:right;'> <button type='button' id='btnShow' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Show</button> </td></tr>" +
                                      "</table>" +
                                    "</div>");


                /*$j("#ddlMotherCompany").change(function (e) {
                    var motherCompany = $j("#ddlMotherCompany option:selected").text();
                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetCompany",
                        data: "{motherCompany:'" + motherCompany + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {

                            var companyInfo = response.d.split(';');
                            var opt = "<option value='-1'>...Select...</option>";
                            for (var i = 1; i < companyInfo.length; i = i + 2) {
                                var comId = companyInfo[i];
                                var comName = companyInfo[i + 1];
                                opt = opt + "<option value='" + comId + "'>" + comName + "</option>";
                            }
                            $j("#ddlOwnCompany").html('');
                            $j("#ddlOwnCompany").append(opt);

                        },
                        failure: function (response) {
                            alert(response.d);
                        }
                    });
                });*/

                //$j("#ddlOwnCompany").change(function (e) {
                var ownCompany = "";//$j("#ddlOwnCompany").val();
                $j.ajax({
                    type: "POST",
                    url: "pmdashboard.aspx/GetCompanyGroup",
                    data: "{ownCompany:'" + ownCompany + "'}",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    async: false,
                    success: function (response) {

                        var companyInfo = response.d.split(';');
                        var opt = "<option value='-1'>...Select...</option>";
                        for (var i = 1; i < companyInfo.length; i = i + 2) {
                            var comId = companyInfo[i];
                            var comName = companyInfo[i + 1];
                            opt = opt + "<option value='" + comId + "'>" + comName + "</option>";
                        }
                        $j("#ddlGroup").html('');
                        $j("#ddlGroup").append(opt);

                    },
                    failure: function (response) {
                        alert(response.d);
                    }
                });
                //});

                var d = new Date();
                var month = d.getMonth() + 1;
                var day = d.getDate();
                var currentDate = (day < 10 ? '0' : '') + day + '/' + (month < 10 ? '0' : '') + month + '/' + d.getFullYear();
                $j("#txtFromDate").val(currentDate);
                $j("#txtToDate").val(currentDate);
                $j("#txtFromDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });
                $j("#txtToDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });

                $j("#btnShow").click(function () {

                    var mCompany = "";//$j("#ddlMotherCompany").val();
                    var company = "";//$j("#ddlOwnCompany").val();
                    var group = $j("#ddlGroup").val();

                    var fDate = $j("#txtFromDate").val();
                    var tDate = $j("#txtToDate").val();


                    /*if (mCompany == "-1") {
                        alert('Select Company');
                        return;
                    }
                    if (company == "-1") {
                        alert('Select Own Company');
                        return;
                    }*/
                    if (group == "-1") {
                        alert('Select Group');
                        return;
                    }
                    else if (fDate == "") {
                        alert('Enter From Date');
                        return;
                    }
                    else if (tDate == "") {
                        alert('Enter To Date');
                        return;
                    }

                    $j("#tblData").html("");
                    $j("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='Nimages/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                    var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'>";
                    //var thead = "<thead><tr><th>SR Name</th><th>Mobile Number</th><th>Total Amt</th><th>Avg Amt</th><th>Total Memo</th><th>Avg Memo</th><th>Visited Outlet</th><th>In Time</th><th>Leave</th><th>LWP</th><th>Zone</th><th>Company & Group</th></tr></thead>";
                    var thead = "<thead><tr><th>Company & Group</th><th>SR Name</th><th>Mobile Number</th><th>Date-Time</th><th>Item Name</th><th>Price</th><th>Catron/Box/Jar</th><th>Piece</th><th>Total Amount</th><th>Outlet Name</th><th>Route Name</th><th>Zone Name</th><th>Division Name</th></tr></thead>";
                    var row = "";
                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetRouteWiseSoldProducts",
                        data: "{groupId:'" + group + "',fdate:'" + fDate + "',tdate:'" + tDate + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {
                            var pmdashboardData = response.d.split(';');

                            for (var i = 1; i < pmdashboardData.length; i = i + 13) {

                                var company = pmdashboardData[i];
                                var srName = pmdashboardData[i + 1];
                                var srMobileNo = pmdashboardData[i + 2];

                                var itemName = pmdashboardData[i + 3];
                                var itemPrice = pmdashboardData[i + 4];
                                var carton = pmdashboardData[i + 5];
                                var piece = pmdashboardData[i + 6];
                                var totalAmt = pmdashboardData[i + 7];

                                var outletName = pmdashboardData[i + 8];
                                var route = pmdashboardData[i + 9];
                                var zoneName = pmdashboardData[i + 10];
                                var divisionName = pmdashboardData[i + 11];
                                var dateTime = pmdashboardData[i + 12];

                                row = row + "<tr style='text-align:left'><td>" + company + "</td><td>" + srName + "</td><td>" + srMobileNo + "</td><td>" + dateTime + "</td><td>" + itemName + "</td><td>" + itemPrice + "</td><td>" + carton + "</td><td>" + piece + "</td><td>" + totalAmt + "</td><td>" + outletName + "</td><td>" + route + "</td><td>" + zoneName + "</td><td>" + divisionName + "</td></tr>";

                            }

                            tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";


                            $j("#tblData").html("");
                            $j("#tblData").html(tbl);

                            var table = $j('#example').DataTable({
                                lengthChange: true,
                                "scrollX": true,
                                buttons: true
                            });

                            table.buttons().container().insertBefore('#example_filter');

                        },
                        failure: function (response) {
                            $j("#spTotalAmt").text(response.d);
                        }
                    });

                });

            });

            //--sr today's memo----------------------------------------------------
            $j("#lnkSRTodaysMemo").on('click', function (e) {
                e.preventDefault();
                $j("#dvSalesContent").css("display", "none");
                $j("#dvSalesSRItemContent").css("display", "none");
                $j("#tblData").html("");
                $j('#dvMiddleContent').html('');
                $j('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>SR's Today's Memo</span></div>" +
                                   "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'>" +
                                      "<table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +

                                        //"<tr><td>Mother Company :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlMotherCompany' name='ddlMotherCompany'><option value='-1'>...Select...</option><option value='PRAN'>PRAN</option><option value='RFL'>RFL</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                        //"<tr><td>Company Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlOwnCompany' name='ddlOwnCompany'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                        "<tr><td>Group Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlGroup' name='ddlGroup'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        "<tr><td>From Date :</td><td><input type='text' id='txtFromDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +
                                        "<tr><td>To Date :</td><td><input type='text' id='txtToDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +

                                        "<tr><td></td><td style='text-align:right;'> <button type='button' id='btnShow' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Show</button> </td></tr>" +
                                      "</table>" +
                                    "</div>");


                /*$j("#ddlMotherCompany").change(function (e) {
                    var motherCompany = $j("#ddlMotherCompany option:selected").text();
                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetCompany",
                        data: "{motherCompany:'" + motherCompany + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {

                            var companyInfo = response.d.split(';');
                            var opt = "<option value='-1'>...Select...</option>";
                            for (var i = 1; i < companyInfo.length; i = i + 2) {
                                var comId = companyInfo[i];
                                var comName = companyInfo[i + 1];
                                opt = opt + "<option value='" + comId + "'>" + comName + "</option>";
                            }
                            $j("#ddlOwnCompany").html('');
                            $j("#ddlOwnCompany").append(opt);

                        },
                        failure: function (response) {
                            alert(response.d);
                        }
                    });
                });*/

                //$j("#ddlOwnCompany").change(function (e) {
                var ownCompany = "";//$j("#ddlOwnCompany").val();
                $j.ajax({
                    type: "POST",
                    url: "pmdashboard.aspx/GetCompanyGroup",
                    data: "{ownCompany:'" + ownCompany + "'}",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    async: false,
                    success: function (response) {

                        var companyInfo = response.d.split(';');
                        var opt = "<option value='-1'>...Select...</option>";
                        for (var i = 1; i < companyInfo.length; i = i + 2) {
                            var comId = companyInfo[i];
                            var comName = companyInfo[i + 1];
                            opt = opt + "<option value='" + comId + "'>" + comName + "</option>";
                        }
                        $j("#ddlGroup").html('');
                        $j("#ddlGroup").append(opt);

                    },
                    failure: function (response) {
                        alert(response.d);
                    }
                });
                //});

                var d = new Date();
                var month = d.getMonth() + 1;
                var day = d.getDate();
                var currentDate = (day < 10 ? '0' : '') + day + '/' + (month < 10 ? '0' : '') + month + '/' + d.getFullYear();
                $j("#txtFromDate").val(currentDate);
                $j("#txtToDate").val(currentDate);
                $j("#txtFromDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });
                $j("#txtToDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });

                $j("#btnShow").click(function () {

                    var mCompany = "";//$j("#ddlMotherCompany").val();
                    var company = "";//$j("#ddlOwnCompany").val();
                    var group = $j("#ddlGroup").val();

                    var fDate = $j("#txtFromDate").val();
                    var tDate = $j("#txtToDate").val();


                    /*if (mCompany == "-1") {
                        alert('Select Company');
                        return;
                    }
                    if (company == "-1") {
                        alert('Select Own Company');
                        return;
                    }*/
                    if (group == "-1") {
                        alert('Select Group');
                        return;
                    }
                    else if (fDate == "") {
                        alert('Enter From Date');
                        return;
                    }
                    else if (tDate == "") {
                        alert('Enter To Date');
                        return;
                    }

                    $j("#tblData").html("");
                    $j("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='Nimages/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                    var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'>";
                    //var thead = "<thead><tr><th>SR Name</th><th>Mobile Number</th><th>Total Amt</th><th>Avg Amt</th><th>Total Memo</th><th>Avg Memo</th><th>Visited Outlet</th><th>In Time</th><th>Leave</th><th>LWP</th><th>Zone</th><th>Company & Group</th></tr></thead>";
                    var thead = "<thead><tr><th>SR Name</th><th>Mobile Number</th><th>Total Amt</th><th>Total Memo</th><th>LPC</th><th>Total Outlet</th><th>Visited Outlet</th><th>Visited Olt(%) </th><th>Pending Outlet</th><th>In Time</th><th>Leave</th><th>LWP</th><th>Route</th><th>Zone</th><th>Company & Group</th></tr></thead>";
                    var row = "";
                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetTodaysSRAttendance",
                        data: "{groupId:'" + group + "',fdate:'" + fDate + "',tdate:'" + tDate + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {
                            var pmdashboardData = response.d.split(';');

                            for (var i = 1; i < pmdashboardData.length; i = i + 16) {
                                var srName = pmdashboardData[i];
                                var mobile = pmdashboardData[i + 1];
                                var totalAmt = pmdashboardData[i + 2];
                                var avgAmt = pmdashboardData[i + 3];
                                var totalMemo = pmdashboardData[i + 4];
                                var route = pmdashboardData[i + 5];
                                var leave = pmdashboardData[i + 6];
                                var lwp = pmdashboardData[i + 7];
                                var company = pmdashboardData[i + 8];
                                var zone = pmdashboardData[i + 9];
                                var outlet = pmdashboardData[i + 10];
                                var intime = pmdashboardData[i + 11];
                                var pendingOlt = pmdashboardData[i + 12];
                                var lpc = pmdashboardData[i + 13];
                                var totalOlt = pmdashboardData[i + 14];
                                var visitedOlt = pmdashboardData[i + 15];

                                row = row + "<tr style='text-align:left'><td>" + srName + "</td><td>" + mobile + "</td><td>" + totalAmt + "</td><td>" + totalMemo + "</td><td>" + lpc + "</td><td>" + totalOlt + "</td><td>" + visitedOlt + "</td><td>" + outlet + "</td><td>" + pendingOlt + "</td><td>" + intime + "</td><td>" + leave + "</td><td>" + lwp + "</td><td>" + route + "</td><td>" + zone + "</td><td>" + company + "</td></tr>";


                            }

                            tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";


                            $j("#tblData").html("");
                            $j("#tblData").html(tbl);

                            var table = $j('#example').DataTable({
                                lengthChange: true,
                                "scrollX": true,
                                buttons: true
                            });

                            table.buttons().container().insertBefore('#example_filter');

                        },
                        failure: function (response) {
                            $j("#spTotalAmt").text(response.d);
                        }
                    });

                });

            });


            //--productivity report------------------------------------------------
            $j("#lnkProductivityReport").on('click', function (e) {
                e.preventDefault();
                $j("#dvSalesContent").css("display", "none");
                $j("#dvSalesSRItemContent").css("display", "none");
                $j("#tblData").html("");
                $j('#dvMiddleContent').html('');
                $j('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>Productivity Report</span></div>" +
                                   "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'>" +
                                      "<table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +

                                        //"<tr><td>Mother Company :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlMotherCompany' name='ddlMotherCompany'><option value='-1'>...Select...</option><option value='PRAN'>PRAN</option><option value='RFL'>RFL</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                        "<tr><td>Group Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlGroup' name='ddlGroup'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        "<tr><td>From Date :</td><td><input type='text' id='txtFromDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +
                                        "<tr><td>To Date :</td><td><input type='text' id='txtToDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +

                                        "<tr><td></td><td style='text-align:right;'> <button type='button' id='btnShow' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Show</button> </td></tr>" +
                                      "</table>" +
                                    "</div>");


                /*$j("#ddlMotherCompany").change(function (e) {
                    var motherCompany = $j("#ddlMotherCompany option:selected").text();
                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetCompany",
                        data: "{motherCompany:'" + motherCompany + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {

                            var companyInfo = response.d.split(';');
                            var opt = "<option value='-1'>...Select...</option>";
                            opt = opt + "<option value='All'>All Company</option>";
                            for (var i = 1; i < companyInfo.length; i = i + 2) {
                                var comId = companyInfo[i];
                                var comName = companyInfo[i + 1];
                                opt = opt + "<option value='" + comId + "'>" + comName + "</option>";
                            }
                            $j("#ddlOwnCompany").html('');
                            $j("#ddlOwnCompany").append(opt);

                        },
                        failure: function (response) {
                            alert(response.d);
                        }
                    });
                });*/

                var ownCompany = "";//$j("#ddlOwnCompany").val();
                $j.ajax({
                    type: "POST",
                    url: "pmdashboard.aspx/GetCompanyGroup",
                    data: "{ownCompany:'" + ownCompany + "'}",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    async: false,
                    success: function (response) {

                        var companyInfo = response.d.split(';');
                        var opt = "<option value='-1'>...Select...</option>";
                        opt = opt + "<option value='All'>All Group</option>";
                        for (var i = 1; i < companyInfo.length; i = i + 2) {
                            var comId = companyInfo[i];
                            var comName = companyInfo[i + 1];
                            opt = opt + "<option value='" + comId + "'>" + comName + "</option>";
                        }
                        $j("#ddlGroup").html('');
                        $j("#ddlGroup").append(opt);

                    },
                    failure: function (response) {
                        alert(response.d);
                    }
                });

                var d = new Date();
                var month = d.getMonth() + 1;
                var day = d.getDate();
                var currentDate = (day < 10 ? '0' : '') + day + '/' + (month < 10 ? '0' : '') + month + '/' + d.getFullYear();
                $j("#txtFromDate").val(currentDate);
                $j("#txtToDate").val(currentDate);
                $j("#txtFromDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });
                $j("#txtToDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });

                $j("#btnShow").click(function () {

                    var mCompany = "";//$j("#ddlMotherCompany").val();
                    var company = "";//$j("#ddlOwnCompany").val();
                    var group = $j("#ddlGroup").val();
                    var fDate = $j("#txtFromDate").val();
                    var tDate = $j("#txtToDate").val();


                    /*if (mCompany == "-1") {
                        alert('Select Company');
                        return;
                    }
                    if (company == "-1") {
                        alert('Select Own Company');
                        return;
                    }*/
                    //else
                    if (group == "-1") {
                        alert('Select Group');
                        return;
                    }
                    else if (fDate == "") {
                        alert('Enter From Date');
                        return;
                    }
                    else if (tDate == "") {
                        alert('Enter To Date');
                        return;
                    }

                    $j("#tblData").html("");
                    $j("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='Nimages/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                    var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'>";
                    var thead = "<thead><tr><th>Company</th><th>Group Name</th><th>Total SR</th><th>Active SR</th><th>Active SR(%)</th><th>Inactive SR</th><th>Inactive SR(%)</th><th>Total Outlet</th><th>Visited Outlet</th><th>Visited(%)</th><th>Pending Outlet</th><th>Pending(%)</th><th>Avg. Vist. Outlet</th><th>Memo(%)</th><th>Successful Call</th><th>Non Successful Call</th><th>LPC</th><th>Total Order</th><th>Avg.Order</th><th>Avg.Work Time</th></tr></thead>";
                    var row = "";

                    var fdate = $j("#txtFromDate").val();
                    var tdate = $j("#txtToDate").val();
                    var count = "0";

                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetProductivityReport",
                        data: "{group:'" + group + "',fdate:'" + fdate + "',tdate:'" + tdate + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {
                            var pmdashboardData = response.d.split(';');
                            for (var i = 1; i < pmdashboardData.length; i = i + 19) {
                                var groupName = pmdashboardData[i];
                                var totalOutlet = pmdashboardData[i + 1];
                                var visitedOutlet = pmdashboardData[i + 2];
                                var pendingOutlet = pmdashboardData[i + 3];
                                var successCall = pmdashboardData[i + 4];
                                var nonSuccessCall = pmdashboardData[i + 5];
                                var company = pmdashboardData[i + 6];
                                var tSR = pmdashboardData[i + 7];
                                var actSR = pmdashboardData[i + 8];
                                var actPrcnt = pmdashboardData[i + 9];
                                var inacSR = pmdashboardData[i + 10];
                                var inactPrcnt = pmdashboardData[i + 11];
                                var vstOltPrcnt = pmdashboardData[i + 12];
                                var memoPrcnt = pmdashboardData[i + 13];
                                var lpc = pmdashboardData[i + 14];
                                var totalOrd = pmdashboardData[i + 15];
                                var avgOrd = pmdashboardData[i + 16];
                                var avgOlt = pmdashboardData[i + 17];
                                var penOlt = pmdashboardData[i + 18];
                                var avgOrk = "7 Hour";
                                row = row + "<tr style='text-align:left'><td>" + company + "</td><td>" + groupName + "</td><td>" + tSR + "</td><td>" + actSR + "</td><td>" + actPrcnt + "</td><td>" + inacSR + "</td><td>" + inactPrcnt + "</td><td>" + totalOutlet + "</td><td>" + visitedOutlet + "</td><td>" + vstOltPrcnt + "</td><td>" + pendingOutlet + "</td><td>" + penOlt + "</td><td>" + avgOlt + "</td><td>" + memoPrcnt + "</td><td>" + successCall + "</td><td>" + nonSuccessCall + "</td><td>" + lpc + "</td><td>" + totalOrd + "</td><td>" + avgOrd + "</td><td>" + avgOrk + "</td></tr>";
                            }

                            tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";

                            $j("#loader").css("display", "none");
                            $j("#spPercentage").css("display", "none");
                            $j("#tblData").html("");
                            $j("#tblData").html(tbl);

                            var table = $j('#example').DataTable({
                                lengthChange: true,
                                "scrollX": true,
                                buttons: true
                            });

                            table.buttons().container().insertBefore('#example_filter');

                        },
                        failure: function (response) {
                            $j("#spTotalAmt").text(response.d);
                        }
                    });

                });

            });


            //--non productivity report------------------------------------------------
            $j("#lnkNonProductivityReport").on('click', function (e) {
                e.preventDefault();
                $j("#dvSalesContent").css("display", "none");
                $j("#dvSalesSRItemContent").css("display", "none");
                $j("#tblData").html("");
                $j('#dvMiddleContent').html('');
                $j('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>Non Productive Report</span></div>" +
                                   "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'>" +
                                      "<table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +

                                        //"<tr><td>Mother Company :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlMotherCompany' name='ddlMotherCompany'><option value='-1'>...Select...</option><option value='PRAN'>PRAN</option><option value='RFL'>RFL</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                        "<tr><td>Group Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlGroup' name='ddlGroup'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        "<tr><td>From Date :</td><td><input type='text' id='txtFromDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +
                                        "<tr><td>To Date :</td><td><input type='text' id='txtToDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +

                                        "<tr><td></td><td style='text-align:right;'> <button type='button' id='btnShow' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Show</button> </td></tr>" +
                                      "</table>" +
                                    "</div>");


                var ownCompany = "";//$j("#ddlOwnCompany").val();
                $j.ajax({
                    type: "POST",
                    url: "pmdashboard.aspx/GetCompanyGroup",
                    data: "{ownCompany:'" + ownCompany + "'}",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    async: false,
                    success: function (response) {

                        var companyInfo = response.d.split(';');
                        var opt = "<option value='-1'>...Select...</option>";
                        opt = opt + "<option value='All'>All Group</option>";
                        for (var i = 1; i < companyInfo.length; i = i + 2) {
                            var comId = companyInfo[i];
                            var comName = companyInfo[i + 1];
                            opt = opt + "<option value='" + comId + "'>" + comName + "</option>";
                        }
                        $j("#ddlGroup").html('');
                        $j("#ddlGroup").append(opt);

                    },
                    failure: function (response) {
                        alert(response.d);
                    }
                });

                var d = new Date();
                var month = d.getMonth() + 1;
                var day = d.getDate();
                var currentDate = (day < 10 ? '0' : '') + day + '/' + (month < 10 ? '0' : '') + month + '/' + d.getFullYear();
                $j("#txtFromDate").val(currentDate);
                $j("#txtToDate").val(currentDate);
                $j("#txtFromDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });
                $j("#txtToDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });

                $j("#btnShow").click(function () {

                    var mCompany = "";//$j("#ddlMotherCompany").val();
                    var company = "";//$j("#ddlOwnCompany").val();
                    var group = $j("#ddlGroup").val();
                    var fDate = $j("#txtFromDate").val();
                    var tDate = $j("#txtToDate").val();


                    if (group == "-1") {
                        alert('Select Group');
                        return;
                    }
                    else if (fDate == "") {
                        alert('Enter From Date');
                        return;
                    }
                    else if (tDate == "") {
                        alert('Enter To Date');
                        return;
                    }

                    $j("#tblData").html("");
                    $j("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='Nimages/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                    var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'>";
                    var thead = "<thead><tr><th>Entry Date</th><th>SR ID</th><th>SR Name</th><th>SR Mobile Number</th><th>Outlet Name</th><th>Outlet Contact Number</th><th>Outlet Address</th><th>Reason</th><th>Route Name</th><th>Zone Name</th><th>Division</th></tr></thead>";
                    var row = "";


                    var fdate = $j("#txtFromDate").val();
                    var tdate = $j("#txtToDate").val();
                    var count = "0";

                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetNonProductivityReport",
                        data: "{group:'" + group + "',fdate:'" + fdate + "',tdate:'" + tdate + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {
                            var pmdashboardData = response.d.split(';');

                            for (var i = 1; i < pmdashboardData.length; i = i + 11) {
                                var ENTRY_DATE = pmdashboardData[i];
                                var SR_ID = pmdashboardData[i + 1];
                                var SR_NAME = pmdashboardData[i + 2];
                                var SR_PHONE = pmdashboardData[i + 3];
                                var OUTLET_NAME = pmdashboardData[i + 4];
                                var OLT_PHONE = pmdashboardData[i + 5];
                                var OUTLET_ADDRESS = pmdashboardData[i + 6];
                                var REASON = pmdashboardData[i + 7];
                                var ROUTE_NAME = pmdashboardData[i + 8];
                                var ZONE_NAME = pmdashboardData[i + 9];
                                var DIVISION_NAME = pmdashboardData[i + 10];

                                row = row + "<tr style='text-align:left'><td>" + ENTRY_DATE + "</td><td>" + SR_ID + "</td><td>" + SR_NAME + "</td><td>" + SR_PHONE + "</td><td>" + OUTLET_NAME + "</td><td>" + OLT_PHONE + "</td><td>" + OUTLET_ADDRESS + "</td><td>" + REASON + "</td><td>" + ROUTE_NAME + "</td><td>" + ZONE_NAME + "</td><td>" + DIVISION_NAME + "</td></tr>";
                            }

                            tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";

                            $j("#loader").css("display", "none");
                            $j("#spPercentage").css("display", "none");
                            $j("#tblData").html("");
                            $j("#tblData").html(tbl);

                            var table = $j('#example').DataTable({
                                lengthChange: true,
                                "scrollX": true,
                                buttons: true
                            });

                            table.buttons().container().insertBefore('#example_filter');

                        },
                        failure: function (response) {
                            $j("#spTotalAmt").text(response.d);
                        }
                    });

                });

            });


            //--delivery report------------------------------------------------
            $j("#lnkDeliveryReport").on('click', function (e) {
                e.preventDefault();
                $j("#dvSalesContent").css("display", "none");
                $j("#dvSalesSRItemContent").css("display", "none");
                $j("#tblData").html("");
                $j('#dvMiddleContent').html('');
                $j('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>Delivery Report</span></div>" +
                                   "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'>" +
                                      "<table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +

                                        //"<tr><td>Mother Company :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlMotherCompany' name='ddlMotherCompany'><option value='-1'>...Select...</option><option value='PRAN'>PRAN</option><option value='RFL'>RFL</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                        //"<tr><td>Company Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlOwnCompany' name='ddlOwnCompany'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        "<tr><td>From Date :</td><td><input type='text' id='txtFromDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +
                                        "<tr><td>To Date :</td><td><input type='text' id='txtToDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +

                                        "<tr><td></td><td style='text-align:right;'> <button type='button' id='btnShow' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Show</button> </td></tr>" +
                                      "</table>" +
                                    "</div>");


                /*$j("#ddlMotherCompany").change(function (e) {
                    var motherCompany = $j("#ddlMotherCompany option:selected").text();
                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetCompany",
                        data: "{motherCompany:'" + motherCompany + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {

                            var companyInfo = response.d.split(';');
                            var opt = "<option value='-1'>...Select...</option>";
                            opt = opt + "<option value='All'>All Company</option>";
                            for (var i = 1; i < companyInfo.length; i = i + 2) {
                                var comId = companyInfo[i];
                                var comName = companyInfo[i + 1];
                                opt = opt + "<option value='" + comId + "'>" + comName + "</option>";
                            }
                            $j("#ddlOwnCompany").html('');
                            $j("#ddlOwnCompany").append(opt);

                        },
                        failure: function (response) {
                            alert(response.d);
                        }
                    });
                });*/


                var d = new Date();
                var month = d.getMonth() + 1;
                var day = d.getDate();
                var currentDate = (day < 10 ? '0' : '') + day + '/' + (month < 10 ? '0' : '') + month + '/' + d.getFullYear();
                $j("#txtFromDate").val(currentDate);
                $j("#txtToDate").val(currentDate);
                $j("#txtFromDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });
                $j("#txtToDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });

                $j("#btnShow").click(function () {

                    var mCompany = "";//$j("#ddlMotherCompany").val();
                    var company = "";//$j("#ddlOwnCompany").val();

                    var fDate = $j("#txtFromDate").val();
                    var tDate = $j("#txtToDate").val();


                    /*if (mCompany == "-1") {
                        alert('Select Company');
                        return;
                    }
                    if (company == "-1") {
                        alert('Select Own Company');
                        return;
                    }*/
                    //else
                    if (fDate == "") {
                        alert('Enter From Date');
                        return;
                    }
                    else if (tDate == "") {
                        alert('Enter To Date');
                        return;
                    }

                    $j("#tblData").html("");
                    $j("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='Nimages/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                    var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'>";
                    var thead = "<thead><tr><th>OC Number</th><th>SR Name</th><th>Route Name</th><th>Outlet Name</th><th>Item Name</th><th>Carton/Box</th><th>Piece</th><th>Price</th><th>Total Order Amount</th><th>Total pmdashboard Amount</th></tr></thead>";
                    var row = "";

                    var fdate = $j("#txtFromDate").val();
                    var tdate = $j("#txtToDate").val();
                    var count = "0";

                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetDeliveryReport",
                        data: "{company:'" + company + "',fdate:'" + fdate + "',tdate:'" + tdate + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {
                            var pmdashboardData = response.d.split(';');
                            for (var i = 1; i < pmdashboardData.length; i = i + 10) {

                                var TRAN_ID = pmdashboardData[i];
                                var SR_NAME = pmdashboardData[i + 1];
                                var ROUTE_NAME = pmdashboardData[i + 2];
                                var OUTLET_NAME = pmdashboardData[i + 3];
                                var ITEM_NAME = pmdashboardData[i + 4];
                                var DELIVERY_CTN = pmdashboardData[i + 5];
                                var DELIVERY_PCS = pmdashboardData[i + 6];
                                var OUT_PRICE = pmdashboardData[i + 7];
                                var TOTAL_DELIVERY_AMT = pmdashboardData[i + 8];
                                var TOTAL_ORDER_AMT = pmdashboardData[i + 9];

                                row = row + "<tr style='text-align:left'><td>" + TRAN_ID + "</td><td>" + SR_NAME + "</td><td>" + ROUTE_NAME + "</td><td>" + OUTLET_NAME + "</td><td>" + ITEM_NAME + "</td><td>" + DELIVERY_CTN + "</td><td>" + DELIVERY_PCS + "</td><td>" + OUT_PRICE + "</td><td>" + TOTAL_ORDER_AMT + "</td><td>" + TOTAL_DELIVERY_AMT + "</td></tr>";
                            }

                            tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";

                            $j("#loader").css("display", "none");
                            $j("#spPercentage").css("display", "none");
                            $j("#tblData").html("");
                            $j("#tblData").html(tbl);

                            var table = $j('#example').DataTable({
                                lengthChange: true,
                                "scrollX": true,
                                buttons: true
                            });

                            table.buttons().container().insertBefore('#example_filter');

                        },
                        failure: function (response) {
                            $j("#spTotalAmt").text(response.d);
                        }
                    });

                });

            });


            //--order vs delivery report------------------------------------------------
            $j("#lnkOrderVSDeliveryReport").on('click', function (e) {
                e.preventDefault();
                $j("#dvSalesContent").css("display", "none");
                $j("#dvSalesSRItemContent").css("display", "none");
                $j("#tblData").html("");
                $j('#dvMiddleContent').html('');
                $j('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>Order VS pmdashboard Report</span></div>" +
                                   "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'>" +
                                      "<table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +

                                        //"<tr><td>Mother Company :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlMotherCompany' name='ddlMotherCompany'><option value='-1'>...Select...</option><option value='PRAN'>PRAN</option><option value='RFL'>RFL</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                        //"<tr><td>Company Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlOwnCompany' name='ddlOwnCompany'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        "<tr><td>From Date :</td><td><input type='text' id='txtFromDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +
                                        "<tr><td>To Date :</td><td><input type='text' id='txtToDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +

                                        "<tr><td></td><td style='text-align:right;'> <button type='button' id='btnShow' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Show</button> </td></tr>" +
                                      "</table>" +
                                    "</div>");
                var d = new Date();
                var month = d.getMonth() + 1;
                var day = d.getDate();
                var currentDate = (day < 10 ? '0' : '') + day + '/' + (month < 10 ? '0' : '') + month + '/' + d.getFullYear();
                $j("#txtFromDate").val(currentDate);
                $j("#txtToDate").val(currentDate);
                $j("#txtFromDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });
                $j("#txtToDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });

                $j("#btnShow").click(function () {

                    var mCompany = "";//$j("#ddlMotherCompany").val();
                    var company = "";//$j("#ddlOwnCompany").val();

                    var fDate = $j("#txtFromDate").val();
                    var tDate = $j("#txtToDate").val();


                    /*if (mCompany == "-1") {
                        alert('Select Company');
                        return;
                    }
                    if (company == "-1") {
                        alert('Select Own Company');
                        return;
                    }*/
                    //else
                    if (fDate == "") {
                        alert('Enter From Date');
                        return;
                    }
                    else if (tDate == "") {
                        alert('Enter To Date');
                        return;
                    }

                    $j("#tblData").html("");
                    $j("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='Nimages/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                    var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'>";
                    var thead = "<thead><tr><th>Group Name</th><th>Order Amount</th><th>pmdashboard Amount</th></tr></thead>";
                    var row = "";

                    var fdate = $j("#txtFromDate").val();
                    var tdate = $j("#txtToDate").val();
                    var count = "0";

                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetOrderVSDeliveryReport",
                        data: "{fdate:'" + fdate + "',tdate:'" + tdate + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {
                            var pmdashboardData = response.d.split(';');
                            for (var i = 1; i < pmdashboardData.length; i = i + 3) {

                                var ITEM_GROUP_NAME = pmdashboardData[i];
                                var TOTAL_ORDER_AMT = pmdashboardData[i + 1];
                                var TOTAL_DELIVERY_AMT = pmdashboardData[i + 2];


                                row = row + "<tr style='text-align:left'><td>" + ITEM_GROUP_NAME + "</td><td>" + TOTAL_ORDER_AMT + "</td><td>" + TOTAL_DELIVERY_AMT + "</td></tr>";
                            }

                            tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";

                            $j("#loader").css("display", "none");
                            $j("#spPercentage").css("display", "none");
                            $j("#tblData").html("");
                            $j("#tblData").html(tbl);

                            var table = $j('#example').DataTable({
                                lengthChange: true,
                                "scrollX": true,
                                buttons: true
                            });

                            table.buttons().container().insertBefore('#example_filter');

                        },
                        failure: function (response) {
                            $j("#spTotalAmt").text(response.d);
                        }
                    });

                });

            });


            //--stock report------------------------------------------------
            $j("#lnkStockReport").on('click', function (e) {
                e.preventDefault();
                $j("#dvSalesContent").css("display", "none");
                $j("#dvSalesSRItemContent").css("display", "none");
                $j("#tblData").html("");
                $j('#dvMiddleContent').html('');
                $j('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>Depot Stock Report</span></div>" +
                                   "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'>" +
                                      "<table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +

                                        //"<tr><td>Mother Company :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlMotherCompany' name='ddlMotherCompany'><option value='-1'>...Select...</option><option value='PRAN'>PRAN</option><option value='RFL'>RFL</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                        "<tr><td>Depot Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDepot' name='ddlDepot'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        //"<tr><td>From Date :</td><td><input type='text' id='txtFromDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +
                                        //"<tr><td>To Date :</td><td><input type='text' id='txtToDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +

                                        "<tr><td></td><td style='text-align:right;'> <button type='button' id='btnShow' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Show</button> </td></tr>" +
                                      "</table>" +
                                    "</div>");


                //$j("#ddlMotherCompany").change(function (e) {
                var motherCompany = "";//$j("#ddlMotherCompany option:selected").text();
                $j.ajax({
                    type: "POST",
                    url: "pmdashboard.aspx/GetCountrywiseDepot",
                    data: "{motherCompany:'" + motherCompany + "'}",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    async: false,
                    success: function (response) {

                        var companyInfo = response.d.split(';');
                        var opt = "<option value='-1'>...Select...</option>";
                        opt = opt + "<option value='All'>All Depot</option>";
                        for (var i = 1; i < companyInfo.length; i = i + 2) {
                            var comId = companyInfo[i];
                            var comName = companyInfo[i + 1];
                            opt = opt + "<option value='" + comId + "'>" + comName + "</option>";
                        }
                        $j("#ddlDepot").html('');
                        $j("#ddlDepot").append(opt);

                    },
                    failure: function (response) {
                        alert(response.d);
                    }
                });
                //});


                /*var d = new Date();
                var month = d.getMonth() + 1;
                var day = d.getDate();
                var currentDate = (day < 10 ? '0' : '') + day + '/' + (month < 10 ? '0' : '') + month + '/' + d.getFullYear();
                $j("#txtFromDate").val(currentDate);
                $j("#txtToDate").val(currentDate);
                $j("#txtFromDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });
                $j("#txtToDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });*/

                $j("#btnShow").click(function () {

                    var depotId = $j("#ddlDepot").val();


                    if (depotId == "-1") {
                        alert('Select Depot');
                        return;
                    }

                    $j("#tblData").html("");
                    $j("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='Nimages/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                    var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'>";
                    var thead = "<thead><tr><th>Depot Name</th><th>Item ID</th><th>Item Name</th><th>Group Name</th><th>Carton/Box Qty</th><th>Piece Qty</th></tr></thead>";
                    var row = "";

                    var fdate = $j("#txtFromDate").val();
                    var tdate = $j("#txtToDate").val();
                    var count = "0";

                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetStockReport",
                        data: "{depotId:'" + depotId + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {
                            var pmdashboardData = response.d.split(';');
                            for (var i = 1; i < pmdashboardData.length; i = i + 6) {

                                var DEPOT_NAME = pmdashboardData[i];
                                var ITEM_ID = pmdashboardData[i + 1];
                                var ITEM_NAME = pmdashboardData[i + 2];
                                var GROUP_NAME = pmdashboardData[i + 3];
                                var CARTON_QTY = pmdashboardData[i + 4];
                                var PCS_QTY = pmdashboardData[i + 5];

                                row = row + "<tr style='text-align:left'><td>" + DEPOT_NAME + "</td><td>" + ITEM_ID + "</td><td>" + ITEM_NAME + "</td><td>" + GROUP_NAME + "</td><td>" + CARTON_QTY + "</td><td>" + PCS_QTY + "</td></tr>";
                            }

                            tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";

                            $j("#loader").css("display", "none");
                            $j("#spPercentage").css("display", "none");
                            $j("#tblData").html("");
                            $j("#tblData").html(tbl);

                            var table = $j('#example').DataTable({
                                lengthChange: true,
                                "scrollX": true,
                                buttons: true
                            });

                            table.buttons().container().insertBefore('#example_filter');

                        },
                        failure: function (response) {
                            $j("#spTotalAmt").text(response.d);
                        }
                    });

                });

            });


            $j("#lnkDamageSummary").on('click', function (e) {
                e.preventDefault();
                $j("#dvSalesContent").css("display", "none");
                $j("#dvSalesSRItemContent").css("display", "none");
                $j("#tblData").html("");
                $j('#dvMiddleContent').html('');
                $j('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>Damage Summary Report</span></div>" +
                                   "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'>" +
                                      "<table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +

                                        //"<tr><td>Mother Company :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlMotherCompany' name='ddlMotherCompany'><option value='-1'>...Select...</option><option value='PRAN'>PRAN</option><option value='RFL'>RFL</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                        //"<tr><td>Depot Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDepot' name='ddlDepot'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        "<tr><td>From Date :</td><td><input type='text' id='txtFromDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +
                                        "<tr><td>To Date :</td><td><input type='text' id='txtToDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +

                                        "<tr><td></td><td style='text-align:right;'> <button type='button' id='btnShow' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Show</button> </td></tr>" +
                                      "</table>" +
                                    "</div>");


                var d = new Date();
                var month = d.getMonth() + 1;
                var day = d.getDate();
                var currentDate = (day < 10 ? '0' : '') + day + '/' + (month < 10 ? '0' : '') + month + '/' + d.getFullYear();
                $j("#txtFromDate").val(currentDate);
                $j("#txtToDate").val(currentDate);
                $j("#txtFromDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });
                $j("#txtToDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });

                $j("#btnShow").click(function () {

                    var fromDate = $j("#txtFromDate").val();
                    var toDate = $j("#txtToDate").val();

                    if (fromDate == "") {
                        alert('Enter From Date');
                        return;
                    }
                    else if (toDate == "") {
                        alert('Enter To Date');
                        return;
                    }

                    $j("#tblData").html("");
                    $j("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='Nimages/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                    var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'>";
                    var thead = "<thead><tr><th>Item Group</th><th>Item ID</th><th>Item Name</th><th>Carton</th><th>Piece</th><th>Reason</th></tr></thead>";
                    var row = "";

                    var fdate = $j("#txtFromDate").val();
                    var tdate = $j("#txtToDate").val();


                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetDamageSummaryReport",
                        data: "{fdate:'" + fdate + "',tdate:'" + tdate + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {
                            var pmdashboardData = response.d.split(';');
                            for (var i = 1; i < pmdashboardData.length; i = i + 6) {

                                var ITEM_ID = pmdashboardData[i];
                                var ITEM_NAME = pmdashboardData[i + 1];
                                var CARTON_QTY = pmdashboardData[i + 2];
                                var PCS_QTY = pmdashboardData[i + 3];
                                var REASON = pmdashboardData[i + 4];
                                var group = pmdashboardData[i + 5];

                                row = row + "<tr style='text-align:left'><td>" + group + "</td><td>" + ITEM_ID + "</td><td>" + ITEM_NAME + "</td><td>" + CARTON_QTY + "</td><td>" + PCS_QTY + "</td><td>" + REASON + "</td></tr>";
                            }

                            tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";

                            $j("#loader").css("display", "none");
                            $j("#spPercentage").css("display", "none");
                            $j("#tblData").html("");
                            $j("#tblData").html(tbl);

                            var table = $j('#example').DataTable({
                                lengthChange: true,
                                "scrollX": true,
                                buttons: true
                            });

                            table.buttons().container().insertBefore('#example_filter');

                        },
                        failure: function (response) {
                            $j("#spTotalAmt").text(response.d);
                        }
                    });

                });

            });


            $j("#lnkDamageDetails").on('click', function (e) {
                e.preventDefault();
                $j("#dvSalesContent").css("display", "none");
                $j("#dvSalesSRItemContent").css("display", "none");
                $j("#tblData").html("");
                $j('#dvMiddleContent').html('');
                $j('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>Damage Details Report</span></div>" +
                                   "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'>" +
                                      "<table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +

                                        //"<tr><td>Mother Company :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlMotherCompany' name='ddlMotherCompany'><option value='-1'>...Select...</option><option value='PRAN'>PRAN</option><option value='RFL'>RFL</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                        //"<tr><td>Depot Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDepot' name='ddlDepot'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        "<tr><td>From Date :</td><td><input type='text' id='txtFromDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +
                                        "<tr><td>To Date :</td><td><input type='text' id='txtToDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +

                                        "<tr><td></td><td style='text-align:right;'> <button type='button' id='btnShow' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Show</button> </td></tr>" +
                                      "</table>" +
                                    "</div>");


                var d = new Date();
                var month = d.getMonth() + 1;
                var day = d.getDate();
                var currentDate = (day < 10 ? '0' : '') + day + '/' + (month < 10 ? '0' : '') + month + '/' + d.getFullYear();
                $j("#txtFromDate").val(currentDate);
                $j("#txtToDate").val(currentDate);
                $j("#txtFromDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });
                $j("#txtToDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });

                $j("#btnShow").click(function () {

                    var fromDate = $j("#txtFromDate").val();
                    var toDate = $j("#txtToDate").val();

                    if (fromDate == "") {
                        alert('Enter From Date');
                        return;
                    }
                    else if (toDate == "") {
                        alert('Enter To Date');
                        return;
                    }

                    $j("#tblData").html("");
                    $j("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='Nimages/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                    var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'>";
                    var thead = "<thead><tr><th>Item Group</th><th>Item ID</th><th>Item Name</th><th>Carton</th><th>Piece</th><th>Reason</th><th>Outlet Name</th><th>Route Name</th><th>Zone Name</th><th>Division Name</th></tr></thead>";
                    var row = "";

                    var fdate = $j("#txtFromDate").val();
                    var tdate = $j("#txtToDate").val();


                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetDamageDetailsReport",
                        data: "{fdate:'" + fdate + "',tdate:'" + tdate + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {
                            var pmdashboardData = response.d.split(';');
                            for (var i = 1; i < pmdashboardData.length; i = i + 10) {

                                var ITEM_ID = pmdashboardData[i];
                                var ITEM_NAME = pmdashboardData[i + 1];
                                var CARTON_QTY = pmdashboardData[i + 2];
                                var PCS_QTY = pmdashboardData[i + 3];
                                var REASON = pmdashboardData[i + 4];
                                var OUTLET_NAME = pmdashboardData[i + 5];
                                var ROUTE_NAME = pmdashboardData[i + 6];
                                var ZONE_NAME = pmdashboardData[i + 7];
                                var DIVISION_NAME = pmdashboardData[i + 8];
                                var group = pmdashboardData[i + 9];

                                row = row + "<tr style='text-align:left'><td>" + group + "</td><td>" + ITEM_ID + "</td><td>" + ITEM_NAME + "</td><td>" + CARTON_QTY + "</td><td>" + PCS_QTY + "</td><td>" + REASON + "</td><td>" + OUTLET_NAME + "</td><td>" + ROUTE_NAME + "</td><td>" + ZONE_NAME + "</td><td>" + DIVISION_NAME + "</td></tr>";
                            }

                            tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";

                            $j("#loader").css("display", "none");
                            $j("#spPercentage").css("display", "none");
                            $j("#tblData").html("");
                            $j("#tblData").html(tbl);

                            var table = $j('#example').DataTable({
                                lengthChange: true,
                                "scrollX": true,
                                buttons: true
                            });

                            table.buttons().container().insertBefore('#example_filter');

                        },
                        failure: function (response) {
                            $j("#spTotalAmt").text(response.d);
                        }
                    });

                });

            });


            //--coo wise report----------------------------------------------------           
            $j("#lnkCOOReport").on('click', function (e) {
                e.preventDefault();
                $j("#dvSalesContent").css("display", "none");
                $j("#dvSalesSRItemContent").css("display", "none");
                $j("#tblData").html("");
                $j('#dvMiddleContent').html('');
                $j('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>Company/COO Wise Report</span></div>" +
                                   "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'>" +
                                      "<table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +

                                        //"<tr><td>Mother Company :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlMotherCompany' name='ddlMotherCompany'><option value='-1'>...Select...</option><option value='PRAN'>PRAN</option><option value='RFL'>RFL</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                        //"<tr><td>Company Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlOwnCompany' name='ddlOwnCompany'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        "<tr><td>From Date :</td><td><input type='text' id='txtFromDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +
                                        "<tr><td>To Date :</td><td><input type='text' id='txtToDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +

                                        "<tr><td></td><td style='text-align:right;'> <button type='button' id='btnShow' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Show</button> </td></tr>" +
                                      "</table>" +
                                    "</div>");


                /*$j("#ddlMotherCompany").change(function (e) {
                    var motherCompany = $j("#ddlMotherCompany option:selected").text();
                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetCompany",
                        data: "{motherCompany:'" + motherCompany + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {

                            var companyInfo = response.d.split(';');
                            var opt = "<option value='-1'>...Select...</option>";
                            opt = opt + "<option value='All'>All Company</option>";
                            for (var i = 1; i < companyInfo.length; i = i + 2) {
                                var comId = companyInfo[i];
                                var comName = companyInfo[i + 1];
                                opt = opt + "<option value='" + comId + "'>" + comName + "</option>";
                            }
                            $j("#ddlOwnCompany").html('');
                            $j("#ddlOwnCompany").append(opt);

                        },
                        failure: function (response) {
                            alert(response.d);
                        }
                    });
                });*/


                var d = new Date();
                var month = d.getMonth() + 1;
                var day = d.getDate();
                var currentDate = (day < 10 ? '0' : '') + day + '/' + (month < 10 ? '0' : '') + month + '/' + d.getFullYear();
                $j("#txtFromDate").val(currentDate);
                $j("#txtToDate").val(currentDate);
                $j("#txtFromDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });
                $j("#txtToDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });

                $j("#btnShow").click(function () {

                    var mCompany = "";//$j("#ddlMotherCompany").val();
                    var company = "";//$j("#ddlOwnCompany").val();

                    var fDate = $j("#txtFromDate").val();
                    var tDate = $j("#txtToDate").val();


                    /*if (mCompany == "-1") {
                        alert('Select Company');
                        return;
                    }
                    if (company == "-1") {
                        alert('Select Own Company');
                        return;
                    }*/
                    //else
                    if (fDate == "") {
                        alert('Enter From Date');
                        return;
                    }
                    else if (tDate == "") {
                        alert('Enter To Date');
                        return;
                    }

                    $j("#tblData").html("");
                    $j("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='Nimages/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                    var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'>";
                    var thead = "<thead><tr><th>Company</th><th>Group Name</th><th>Total SR</th><th>Active SR</th><th>Active SR(%)</th><th>Inactive SR</th><th>Inactive SR(%)</th><th>Total Outlet</th><th>Visited Outlet</th><th>Visited(%)</th><th>Pending Outlet</th><th>Pending(%)</th><th>Avg. Vist. Outlet</th><th>Memo(%)</th><th>Successful Call</th><th>Non Successful Call</th><th>LPC</th><th>Total Order</th><th>Avg.Order</th><th>Avg.Work Time</th></tr></thead>";
                    var row = "";

                    var fdate = $j("#txtFromDate").val();
                    var tdate = $j("#txtToDate").val();
                    var count = "0";

                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetCOOWiseReport",
                        data: "{company:'" + company + "',fdate:'" + fdate + "',tdate:'" + tdate + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {
                            var pmdashboardData = response.d.split(';');
                            for (var i = 1; i < pmdashboardData.length; i = i + 19) {
                                var groupName = pmdashboardData[i];
                                var totalOutlet = pmdashboardData[i + 1];
                                var visitedOutlet = pmdashboardData[i + 2];
                                var pendingOutlet = pmdashboardData[i + 3];
                                var successCall = pmdashboardData[i + 4];
                                var nonSuccessCall = pmdashboardData[i + 5];
                                var company = pmdashboardData[i + 6];
                                var tSR = pmdashboardData[i + 7];
                                var actSR = pmdashboardData[i + 8];
                                var actPrcnt = pmdashboardData[i + 9];
                                var inacSR = pmdashboardData[i + 10];
                                var inactPrcnt = pmdashboardData[i + 11];
                                var vstOltPrcnt = pmdashboardData[i + 12];
                                var memoPrcnt = pmdashboardData[i + 13];
                                var lpc = pmdashboardData[i + 14];
                                var totalOrd = pmdashboardData[i + 15];
                                var avgOrd = pmdashboardData[i + 16];
                                var avgOlt = pmdashboardData[i + 17];
                                var penOlt = pmdashboardData[i + 18];
                                var avgOrk = "7 Hour";
                                row = row + "<tr style='text-align:left'><td>" + company + "</td><td>" + groupName + "</td><td>" + tSR + "</td><td>" + actSR + "</td><td>" + actPrcnt + "</td><td>" + inacSR + "</td><td>" + inactPrcnt + "</td><td>" + totalOutlet + "</td><td>" + visitedOutlet + "</td><td>" + vstOltPrcnt + "</td><td>" + pendingOutlet + "</td><td>" + penOlt + "</td><td>" + avgOlt + "</td><td>" + memoPrcnt + "</td><td>" + successCall + "</td><td>" + nonSuccessCall + "</td><td>" + lpc + "</td><td>" + totalOrd + "</td><td>" + avgOrd + "</td><td>" + avgOrk + "</td></tr>";
                            }

                            tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";

                            $j("#loader").css("display", "none");
                            $j("#spPercentage").css("display", "none");
                            $j("#tblData").html("");
                            $j("#tblData").html(tbl);

                            var table = $j('#example').DataTable({
                                lengthChange: true,
                                "scrollX": true,
                                buttons: true
                            });

                            table.buttons().container().insertBefore('#example_filter');

                        },
                        failure: function (response) {
                            $j("#spTotalAmt").text(response.d);
                        }
                    });

                });

            });


            $j("#lnkTopToLowOrderProduct").on('click', function (e) {

                e.preventDefault();
                $j("#dvSalesContent").css("display", "none");
                $j("#dvSalesSRItemContent").css("display", "none");
                $j("#tblData").html("");
                $j('#dvMiddleContent').html('');
                $j('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>Top to Low Ordered Item Report</span></div>" +
                                   "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'>" +
                                      "<table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +

                                        //"<tr><td>Mother Company :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlMotherCompany' name='ddlMotherCompany'><option value='-1'>...Select...</option><option value='PRAN'>PRAN</option><option value='RFL'>RFL</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                        "<tr><td>Group Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlGroup' name='ddlGroup'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        "<tr><td>From Date :</td><td><input type='text' id='txtFromDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +
                                        "<tr><td>To Date :</td><td><input type='text' id='txtToDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +

                                        "<tr><td></td><td style='text-align:right;'> <button type='button' id='btnShow' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Show</button> </td></tr>" +
                                      "</table>" +
                                    "</div>");


                var ownCompany = "";//$j("#ddlOwnCompany").val();
                $j.ajax({
                    type: "POST",
                    url: "pmdashboard.aspx/GetCompanyGroup",
                    data: "{ownCompany:'" + ownCompany + "'}",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    async: false,
                    success: function (response) {

                        var companyInfo = response.d.split(';');
                        var opt = "<option value='-1'>...Select...</option>";
                        opt = opt + "<option value='All'>All Group</option>";
                        for (var i = 1; i < companyInfo.length; i = i + 2) {
                            var comId = companyInfo[i];
                            var comName = companyInfo[i + 1];
                            opt = opt + "<option value='" + comId + "'>" + comName + "</option>";
                        }
                        $j("#ddlGroup").html('');
                        $j("#ddlGroup").append(opt);

                    },
                    failure: function (response) {
                        alert(response.d);
                    }
                });

                var d = new Date();
                var month = d.getMonth() + 1;
                var day = d.getDate();
                var currentDate = (day < 10 ? '0' : '') + day + '/' + (month < 10 ? '0' : '') + month + '/' + d.getFullYear();
                $j("#txtFromDate").val(currentDate);
                $j("#txtToDate").val(currentDate);
                $j("#txtFromDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });
                $j("#txtToDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });

                $j("#btnShow").click(function () {

                    var mCompany = "";//$j("#ddlMotherCompany").val();
                    var company = "";//$j("#ddlOwnCompany").val();
                    var group = $j("#ddlGroup").val();
                    var fDate = $j("#txtFromDate").val();
                    var tDate = $j("#txtToDate").val();

                    if (group == "-1") {
                        alert('Select Group');
                        return;
                    }
                    else if (fDate == "") {
                        alert('Enter From Date');
                        return;
                    }
                    else if (tDate == "") {
                        alert('Enter To Date');
                        return;
                    }

                    $j("#tblData").html("");
                    $j("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='Nimages/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                    var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'>";
                    var thead = "<thead><tr><th>Group Name</th><th>Item ID</th><th>Item Name</th><th>Out Price</th><th>Carton</th><th>Piece</th></tr></thead>";
                    var row = "";

                    var fdate = $j("#txtFromDate").val();
                    var tdate = $j("#txtToDate").val();
                    var count = "0";

                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetTopLowOrderedProduct",
                        data: "{group:'" + group + "',fdate:'" + fdate + "',tdate:'" + tdate + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {
                            var pmdashboardData = response.d.split(';');
                            for (var i = 1; i < pmdashboardData.length; i = i + 6) {
                                var itemId = pmdashboardData[i];
                                var itemName = pmdashboardData[i + 1];
                                var price = pmdashboardData[i + 2];
                                var carton = pmdashboardData[i + 3];
                                var piece = pmdashboardData[i + 4];
                                var groupName = pmdashboardData[i + 5];

                                row = row + "<tr style='text-align:left'><td>" + groupName + "</td><td>" + itemId + "</td><td>" + itemName + "</td><td>" + price + "</td><td>" + carton + "</td><td>" + piece + "</td></tr>";
                            }

                            tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";

                            $j("#loader").css("display", "none");
                            $j("#spPercentage").css("display", "none");
                            $j("#tblData").html("");
                            $j("#tblData").html(tbl);

                            var table = $j('#example').DataTable({
                                lengthChange: true,
                                "scrollX": true,
                                buttons: true
                            });

                            table.buttons().container().insertBefore('#example_filter');

                        },
                        failure: function (response) {
                            $j("#spTotalAmt").text(response.d);
                        }
                    });

                });

            });

            $j("#lnkNoOrderProduct").on('click', function (e) {

                e.preventDefault();
                $j("#dvSalesContent").css("display", "none");
                $j("#dvSalesSRItemContent").css("display", "none");
                $j("#tblData").html("");
                $j('#dvMiddleContent').html('');
                $j('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>No Ordered Item Report</span></div>" +
                                   "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'>" +
                                      "<table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +

                                        //"<tr><td>Mother Company :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlMotherCompany' name='ddlMotherCompany'><option value='-1'>...Select...</option><option value='PRAN'>PRAN</option><option value='RFL'>RFL</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                        "<tr><td>Group Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlGroup' name='ddlGroup'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                        "<tr><td>From Date :</td><td><input type='text' id='txtFromDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +
                                        "<tr><td>To Date :</td><td><input type='text' id='txtToDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +

                                        "<tr><td></td><td style='text-align:right;'> <button type='button' id='btnShow' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Show</button> </td></tr>" +
                                      "</table>" +
                                    "</div>");


                var ownCompany = "";//$j("#ddlOwnCompany").val();
                $j.ajax({
                    type: "POST",
                    url: "pmdashboard.aspx/GetCompanyGroup",
                    data: "{ownCompany:'" + ownCompany + "'}",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    async: false,
                    success: function (response) {

                        var companyInfo = response.d.split(';');
                        var opt = "<option value='-1'>...Select...</option>";
                        opt = opt + "<option value='All'>All Group</option>";
                        for (var i = 1; i < companyInfo.length; i = i + 2) {
                            var comId = companyInfo[i];
                            var comName = companyInfo[i + 1];
                            opt = opt + "<option value='" + comId + "'>" + comName + "</option>";
                        }
                        $j("#ddlGroup").html('');
                        $j("#ddlGroup").append(opt);

                    },
                    failure: function (response) {
                        alert(response.d);
                    }
                });

                var d = new Date();
                var month = d.getMonth() + 1;
                var day = d.getDate();
                var currentDate = (day < 10 ? '0' : '') + day + '/' + (month < 10 ? '0' : '') + month + '/' + d.getFullYear();
                $j("#txtFromDate").val(currentDate);
                $j("#txtToDate").val(currentDate);
                $j("#txtFromDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });
                $j("#txtToDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });

                $j("#btnShow").click(function () {

                    var mCompany = "";//$j("#ddlMotherCompany").val();
                    var company = "";//$j("#ddlOwnCompany").val();
                    var group = $j("#ddlGroup").val();
                    var fDate = $j("#txtFromDate").val();
                    var tDate = $j("#txtToDate").val();

                    if (group == "-1") {
                        alert('Select Group');
                        return;
                    }
                    else if (fDate == "") {
                        alert('Enter From Date');
                        return;
                    }
                    else if (tDate == "") {
                        alert('Enter To Date');
                        return;
                    }

                    $j("#tblData").html("");
                    $j("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='Nimages/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                    var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'>";
                    var thead = "<thead><tr><th>Group Name</th><th>Item ID</th><th>Item Name</th><th>Class Name</th><th>Factor</th><th>Factor Category</th></tr></thead>";
                    var row = "";

                    var fdate = $j("#txtFromDate").val();
                    var tdate = $j("#txtToDate").val();
                    var count = "0";

                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetNoOrderedProduct",
                        data: "{group:'" + group + "',fdate:'" + fdate + "',tdate:'" + tdate + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {
                            var pmdashboardData = response.d.split(';');
                            for (var i = 1; i < pmdashboardData.length; i = i + 6) {
                                var itemId = pmdashboardData[i];
                                var itemName = pmdashboardData[i + 1];
                                var className = pmdashboardData[i + 2];
                                var factor = pmdashboardData[i + 3];
                                var factorCategory = pmdashboardData[i + 4];
                                var groupName = pmdashboardData[i + 5];

                                row = row + "<tr style='text-align:left'><td>" + groupName + "</td><td>" + itemId + "</td><td>" + itemName + "</td><td>" + className + "</td><td>" + factor + "</td><td>" + factorCategory + "</td></tr>";
                            }

                            tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";

                            $j("#loader").css("display", "none");
                            $j("#spPercentage").css("display", "none");
                            $j("#tblData").html("");
                            $j("#tblData").html(tbl);

                            var table = $j('#example').DataTable({
                                lengthChange: true,
                                "scrollX": true,
                                buttons: true
                            });

                            table.buttons().container().insertBefore('#example_filter');

                        },
                        failure: function (response) {
                            $j("#spTotalAmt").text(response.d);
                        }
                    });

                });

            });


            $j("#lnkDashboardtree").on('click', function (e) {

                e.preventDefault();
                $j("#dvSalesContent").css("display", "none");
                $j("#dvSalesSRItemContent").css("display", "none");
                $j("#tblData").html("");
                $j('#dvMiddleContent').html('');
                $j('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>Dashboard Tree</span></div>" +
                                   "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'>" +
                                      "<table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +

                                        "<tr><td>Order Date :</td><td><input type='text' id='txtFromDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +

                                        "<tr><td></td><td style='text-align:right;'> <button type='button' id='btnShow' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Show</button> </td></tr>" +
                                      "</table>" +
                                    "</div>");


                var d = new Date();
                var month = d.getMonth() + 1;
                var day = d.getDate();
                var currentDate = (day < 10 ? '0' : '') + day + '/' + (month < 10 ? '0' : '') + month + '/' + d.getFullYear();
                $j("#txtFromDate").val(currentDate);
                $j("#txtFromDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });


                $j("#btnShow").click(function () {

                    var fDate = $j("#txtFromDate").val();

                    if (fDate == "") {
                        alert('Enter Order Date');
                        return;
                    }
                    else {
                        //window.location = "NestedRptGroupWiseSRDetails.aspx?currentdate=" + fDate;
                        window.open('NestedRptGroupWiseSRDetails.aspx?currentdate=' + fDate + '', '_blank');
                    }

                });

            });


            $j("#lnkOrderedItem").on('click', function (e) {

                e.preventDefault();
                $j("#dvSalesContent").css("display", "none");
                $j("#dvSalesSRItemContent").css("display", "none");
                $j("#tblData").html("");
                $j('#dvMiddleContent').html('');
                $j('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>Ordered Item List</span></div>" +
                                   "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'>" +
                                      "<table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +

                                        "<tr><td>Order Date :</td><td><input type='text' id='txtFromDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +

                                        "<tr><td></td><td style='text-align:right;'> <button type='button' id='btnShow' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Show</button> </td></tr>" +
                                      "</table>" +
                                    "</div>");




                var d = new Date();
                var month = d.getMonth() + 1;
                var day = d.getDate();
                var currentDate = (day < 10 ? '0' : '') + day + '/' + (month < 10 ? '0' : '') + month + '/' + d.getFullYear();
                $j("#txtFromDate").val(currentDate);
                $j("#txtFromDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });

                $j("#btnShow").click(function () {

                    var fDate = $j("#txtFromDate").val();

                    if (fDate == "") {
                        alert('Enter Order Date');
                        return;
                    }

                    $j("#tblData").html("");
                    $j("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='Nimages/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                    var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'>";
                    var thead = "<thead><tr><th>Item ID</th><th>Carton/Box etc</th><th>Piece</th></tr></thead>";
                    var row = "";

                    var fdate = $j("#txtFromDate").val();

                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetOrderedProduct",
                        data: "{fdate:'" + fdate + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {
                            var pmdashboardData = response.d.split(';');
                            for (var i = 1; i < pmdashboardData.length; i = i + 3) {
                                var itemId = pmdashboardData[i];
                                var carton = pmdashboardData[i + 1];
                                var piece = pmdashboardData[i + 2];

                                row = row + "<tr style='text-align:left'><td>" + itemId + "</td><td>" + carton + "</td><td>" + piece + "</td></tr>";
                            }

                            tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";

                            $j("#tblData").html("");
                            $j("#tblData").html(tbl);

                            var table = $j('#example').DataTable({
                                lengthChange: true,
                                "scrollX": true,
                                buttons: true
                            });

                            table.buttons().container().insertBefore('#example_filter');

                        },
                        failure: function (response) {
                            $j("#spTotalAmt").text(response.d);
                        }
                    });

                });

            });


            $j("#lnkOrderedItemDetails").on('click', function (e) {

                e.preventDefault();
                $j("#dvSalesContent").css("display", "none");
                $j("#dvSalesSRItemContent").css("display", "none");
                $j("#tblData").html("");
                $j('#dvMiddleContent').html('');
                $j('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>Ordered Item Details</span></div>" +
                                   "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'>" +
                                      "<table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +

                                        "<tr><td>Order Date :</td><td><input type='text' id='txtFromDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +

                                        "<tr><td></td><td style='text-align:right;'> <button type='button' id='btnShow' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Show</button> </td></tr>" +
                                      "</table>" +
                                    "</div>");




                var d = new Date();
                var month = d.getMonth() + 1;
                var day = d.getDate();
                var currentDate = (day < 10 ? '0' : '') + day + '/' + (month < 10 ? '0' : '') + month + '/' + d.getFullYear();
                $j("#txtFromDate").val(currentDate);
                $j("#txtFromDate").datepicker({ showAnim: "fold", dateFormat: "dd/mm/yy" });


                $j("#btnShow").click(function () {

                    var fDate = $j("#txtFromDate").val();

                    if (fDate == "") {
                        alert('Enter Order Date');
                        return;
                    }

                    $j("#tblData").html("");
                    $j("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='Nimages/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                    var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'>";
                    var thead = "<thead><tr><th>Item ID</th><th>Carton/Box etc</th><th>Piece</th><th>SR ID</th><th>SR Name</th><th>Outlet Name</th></tr></thead>";
                    var row = "";

                    var fdate = $j("#txtFromDate").val();

                    $j.ajax({
                        type: "POST",
                        url: "pmdashboard.aspx/GetOrderedProductDetails",
                        data: "{fdate:'" + fdate + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {
                            var pmdashboardData = response.d.split(';');
                            for (var i = 1; i < pmdashboardData.length; i = i + 6) {
                                var itemId = pmdashboardData[i];
                                var carton = pmdashboardData[i + 1];
                                var piece = pmdashboardData[i + 2];

                                var srId = pmdashboardData[i + 3];
                                var srName = pmdashboardData[i + 4];
                                var outletName = pmdashboardData[i + 5];

                                row = row + "<tr style='text-align:left'><td>" + itemId + "</td><td>" + carton + "</td><td>" + piece + "</td><td>" + srId + "</td><td>" + srName + "</td><td>" + outletName + "</td></tr>";
                            }

                            tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";

                            $j("#tblData").html("");
                            $j("#tblData").html(tbl);

                            var table = $j('#example').DataTable({
                                lengthChange: true,
                                "scrollX": true,
                                buttons: true
                            });

                            table.buttons().container().insertBefore('#example_filter');

                        },
                        failure: function (response) {
                            $j("#spTotalAmt").text(response.d);
                        }
                    });

                });

            });

                       

        });


    </script>

    <asp:ContentPlaceHolder ID="HeadContent" runat="server">
    </asp:ContentPlaceHolder>
</head>
<body>
 <form runat="server">
     
 <div id="bodywrapper">
   <div id="header">
      <div><img src="images/pran-logo.png" alt="logo" width="80" height="25" title="pmdashboard Mate"/></div>
    
   </div>
   <div style="background:#8dc060; height:49px;">
    
        <ul>
          <li><a class="active" href="login.aspx" id="lnkHome">Home</a></li>
          <li><a href="#">About Us</a></li>
          <li><a href="#">Policies</a></li>
          <li><a href="dashboard.aspx">Dashboard</a></li>
          <li><a id="lnkOrderedItem" href="#">Ordered Item</a></li>
          <li><a id="lnkOrderedItemDetails" href="#">Ordered Item Details</a></li>
          <li><a id="lnkDashboardtree" href="#" target="_blank">Dashboard Tree</a></li> 
          <li style="float:right;"><a href="#" id="lnkLogout">Log Out</a></li>
          <li style="float:right;color:#ff9800;"><a href="#"><span id="logeduser" style="color:#ff9800;"></span></a></li>
        </ul>
   </div>
   <div id="contentwrapper">
       <div style="background:rgba(0,0,0,0.12);width:100%; height:auto;">
          <div style="border:1px solid #f06292;width:12%; height:auto;float:left;">
              <section id="content">		                 
		                 <ul class="rmRootGroup rmVertical">
                         <li class="rmItem rmFirst active border-bottom" style="width:100%;"><a class="rmLink rmRootLink" href="#"><span class="rmText">Main Menu</span></a></li>
                            <li class="rmItem border-bottom" style="width:100%;"><a id="lnkAllSR" class="rmLink rmRootLink" href="#"style="text-align: left;"><span class="rmText">All SR Info</span></a></li>
                            <li class="rmItem border-bottom" style="width:100%;"><a id="lnkActiveSR" class="rmLink rmRootLink" href="#"style="text-align: left;"><span class="rmText">All Active SR</span></a></li>
                            <li class="rmItem border-bottom" style="width:100%;"><a id="lnkInActiveSR" class="rmLink rmRootLink" href="#"style="text-align: left;"><span class="rmText">All Inactive SR</span></a></li>
                            <li class="rmItem border-bottom" style="width:100%;"><a id="lnkSRLocation" class="rmLink rmRootLink" href="#"style="text-align: left;"><span class="rmText">SR Tracking</span></a></li>
                            <li class="rmItem border-bottom" style="width:100%;"><a id="lnkSRLeave" class="rmLink rmRootLink" href="#"style="text-align: left;"><span class="rmText">SR On Leave</span></a></li>
                            <li class="rmItem border-bottom" style="width:100%;"><a id="lnkSRTodaysMemo" class="rmLink rmRootLink" href="#"style="text-align: left;"><span class="rmText">SR's Today's Memo</span></a></li>
                            <li class="rmItem border-bottom" style="width:100%;"><a id="lnkSRAttendance" class="rmLink rmRootLink" href="#"style="text-align: left;"><span class="rmText">SR Attendance</span></a></li>
                            <li class="rmItem border-bottom" style="width:100%;"><a id="lnkSampleReport" class="rmLink rmRootLink" href="#"style="text-align: left;"><span class="rmText">Sample Report</span></a></li>
                            <li class="rmItem border-bottom" style="width:100%;"><a id="lnkProductivityReport" class="rmLink rmRootLink" href="#"style="text-align: left;"><span class="rmText">Productivity Report</span></a></li> 
                            <li class="rmItem border-bottom" style="width:100%;"><a id="lnkNonProductivityReport" class="rmLink rmRootLink" href="#"style="text-align: left;"><span class="rmText">Non Productive Call</span></a></li>
                            <li class="rmItem border-bottom" style="width:100%;"><a id="lnkCOOReport" class="rmLink rmRootLink" href="#"style="text-align: left;"><span class="rmText">Company/COO wise status Report</span></a></li>  
                            <li class="rmItem border-bottom" style="width:100%;"><a id="lnkOutletwisesoldproducts" class="rmLink rmRootLink" href="#"style="text-align: left;"><span class="rmText">Product & Outlet & Route wise SR Contribution</span></a></li>                             
                            <li class="rmItem border-bottom" style="width:100%;"><a id="lnkOutletWiseSKU" class="rmLink rmRootLink" href="#"style="text-align: left;"><span class="rmText">Outlet wise SKU Report</span></a></li>
                            <li class="rmItem border-bottom" style="width:100%;"><a id="lnkDeliveryReport" class="rmLink rmRootLink" href="#"style="text-align: left;"><span class="rmText">Delivery Report</span></a></li>
                            <li class="rmItem border-bottom" style="width:100%;"><a id="lnkOrderVSDeliveryReport" class="rmLink rmRootLink" href="#"style="text-align: left;"><span class="rmText">Order VS pmdashboard Report</span></a></li>
                            <li class="rmItem border-bottom" style="width:100%;"><a id="lnkStockReport" class="rmLink rmRootLink" href="#"style="text-align: left;"><span class="rmText">Stock Report</span></a></li>
                            <li class="rmItem border-bottom" style="width:100%;"><a id="lnkDamageSummary" class="rmLink rmRootLink" href="#"style="text-align: left;"><span class="rmText">Damage Summary Report</span></a></li> 
                            <li class="rmItem border-bottom" style="width:100%;"><a id="lnkDamageDetails" class="rmLink rmRootLink" href="#"style="text-align: left;"><span class="rmText">Damage Details Report</span></a></li>    
                            <li class="rmItem border-bottom" style="width:100%;"><a id="lnkTopToLowOrderProduct" class="rmLink rmRootLink" href="#" style="text-align: left;"><span class="rmText">Top to Low Ordered Products</span></a></li>
                            <li class="rmItem border-bottom" style="width:100%;"><a id="lnkNoOrderProduct" class="rmLink rmRootLink" href="#"style="text-align: left;"><span class="rmText">No Order Products</span></a></li>
                            <li class="rmItem border-bottom" style="width:100%;"><a id="lnkOutletList" class="rmLink rmRootLink" href="#"style="text-align: left;"><span class="rmText">Outlet List</span></a></li>
                            <li class="rmItem border-bottom" style="width:100%;"><a id="lnkUserLog" class="rmLink rmRootLink" href="#" style="text-align: left;"><span class="rmText">User Log Report</span></a></li>
                            <li class="rmItem border-bottom" style="width:100%;"><a id="lnkSROutlet" class="rmLink rmRootLink" href="#"style="text-align: left;"><span class="rmText">SR Wise Outlet</span></a></li>
                            <li class="rmItem border-bottom" style="width:100%;"><a id="lnkUserLogdddd" class="rmLink rmRootLink" href="#" style="text-align: left;"><span class="rmText">pmdashboard Theory</span></a></li>
                            <li class="rmItem rmLast" style="width:100%;"><a id="lnkSROutletsss" class="rmLink rmRootLink" href="#" style="text-align: left;"><span class="rmText">Contribution</span></a></li>
                             
		                 </ul>
	                </section>
          </div>
           <div style="width:87%; height:auto;float:right;margin-left:5px;">
           <div style="width:99%; height:auto;float:left;">
               <div id="dvMiddleContent" style="border:1px solid #8dc060;width:99.2%; height:auto;float:left;padding-bottom:15px;margin-bottom:10px;">
                   <img src="images/sc.jpeg" width="97%" height="500" style="margin-left:20px;margin-top:10px;"/>
               </div>
               <div id="tblData" style='padding-top:10px;padding-right:6px;'>
               </div> 
           </div>
               </div>
           <div id="dvSalesContent" style="width:85.5%; height:536px;float:left;margin-left:16px;">
             <div style="width:62%; height:536px;float:left;">
                   <aside id="sidebar" style="border:1px solid #eceeef;width:46%; height:536px;float:left;">
                       <div style="width:100%;height:36px;background-color:#8dc060;text-align:center;color:#fff;font-size:18px;padding-top:10px;margin-top:0px;">
                           <span class="rmText">Top to Low Rated National Status</span>
                       </div>
                       <div style="width:100%;height:465px;text-align:center;color:#00b3e9;font-size:11px;padding-top:10px;margin-top:0px;overflow-y: scroll;">
		                <span id="mrqTopRatedDivision" style="height:465px">pmdashboardman recruitment going on!</span>  
                       </div>                
                     </aside>

                   <aside id="sidebar" style="border:1px solid #eceeef;width:50%; height:536px;float:right;">
                       <div style="width:100%;height:36px;background-color:#8dc060;text-align:center;color:#fff;font-size:18px;padding-top:10px;margin-top:0px;">
                           <span class="rmText">Top to Low Rated Divisional Status</span>
                       </div>
                       <div style="width:100%;height:465px;text-align:center;color:#00b3e9;font-size:11px;padding-top:10px;margin-top:0px;overflow-y: scroll;">
		                <span id="mrqTopRatedZone" style="height:465px">pmdashboardman recruitment going on!</span>  
                       </div>     
                     </aside>
               </div>

               <div style="width:37%; height:536px;float:right;">
                   <aside id="sidebar" style="border:1px solid #eceeef;width:98%; height:536px;float:left;">
                       <div style="width:100%;height:36px;background-color:#8dc060;text-align:center;color:#fff;font-size:18px;padding-top:10px;margin-top:0px;">
                           <span class="rmText">Top to Low Territory Status</span>
                       </div>
                       <div style="width:100%;height:465px;text-align:center;color:#00b3e9;font-size:11px;padding-top:10px;margin-top:0px;overflow-y: scroll;">
		                <span id="mrqTopRatedTSM" style="height:465px">pmdashboardman recruitment going on!</span>  
                       </div>                
                     </aside>                    
               </div>
                              
           </div>
           <div id="dvSalesSRItemContent" style="width:85.5%; height:536px;float:left;margin-left:16px;margin-top:20px">
             <div style="width:62%; height:536px;float:left;">
                   <aside id="sidebar" style="border:1px solid #eceeef;width:99.5%; height:536px;float:left;">
                       <div style="width:100%;height:36px;background-color:#8dc060;text-align:center;color:#fff;font-size:18px;padding-top:10px;margin-top:0px;">
                           <span class="rmText">Low to Top Rated SR</span>
                       </div>
                       <div style="width:100%;height:465px;text-align:center;color:#00b3e9;font-size:11px;padding-top:10px;margin-top:0px;overflow-y: scroll;">
		                <span id="mrqTopRatedSR" style="height:465px">pmdashboardman recruitment going on!</span>  
                       </div>                
                     </aside>                    
               </div>
               <div style="width:37%; height:536px;float:right;">
                   <aside id="sidebar" style="border:1px solid #eceeef;width:98%; height:536px;float:left;">
                       <div style="width:100%;height:36px;background-color:#8dc060;text-align:center;color:#fff;font-size:18px;padding-top:10px;margin-top:0px;">
                           <span class="rmText">Low to Top Sold Products</span>
                       </div>
                       <div style="width:100%;height:465px;text-align:center;color:#00b3e9;font-size:11px;padding-top:10px;margin-top:0px;overflow-y: scroll;">
		                <span id="mrqTopSoldProducts" style="height:465px">pmdashboardman recruitment going on!</span>  
                       </div>                
                     </aside>                    
               </div>
                
           </div>
       </div> 
          <div style="clear:both"></div>
         <div style="line-height:14px; margin-top:15px;">
         </div>
      </div>
   </div>

<div id="footerwrapper">
   <div id="footer">
      <a href="login.aspx" style="color:white; text-decoration:none;">Home | </a><a href="" style="color:white; text-decoration:none;"> About us | </a><a href="" style="color:white; text-decoration:none;">Contact us </a>
      <p>Telephone: (0088) 01924602673&nbsp;&nbsp;&nbsp;&nbsp;Any time: 01710649448<br />
      Copyright &copy; 2016 Website: www.pranrflgroup.com Email: info@pranrflgroup.com   
        <div style="text-align:right; margin-top:-14px;"><a href="http://www.pranrflgroup.com" target=_new style="color:white; text-decoration:none;">Design & Developed by Rathindra Nath</a></div>
   </div>
</div>
    </form>
</body>
</html>
</html>
