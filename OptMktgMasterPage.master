<%@ Master Language="C#" AutoEventWireup="true" CodeFile="OptMktgMasterPage.master.cs" Inherits="OptMktgMasterPage" %>

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title>Sales-Mate</title>
    <link rel="shortcut icon" href="Nimages/logopran.gif" />
    <link href="Ncss/jquery-ui.css" rel="stylesheet" />    
   <%-- <link href="Ncss/bootstrap-min2.css" rel="stylesheet" type="text/css"/>--%>



    <link rel="stylesheet" type="text/css" href="CSS/basic.css" />
    <link rel="stylesheet" type="text/css" href="CSS/lightbox.css" />
    <link rel="stylesheet" type="text/css" href="CSS/Format.css" />
    <link rel="stylesheet" type="text/css" href="CSS/styles.css" />
    <link rel="stylesheet" type="text/css" href="CSS/demo.css" />
    <link rel="stylesheet" type="text/css" href="CSS/sidemenu.css" />
    
    <script src="NScripts/jquery-2.1.4.min.js" type="text/javascript"></script>
    <script src="NScripts/bootstrap.min.js" type="text/javascript"></script>
    <script src="NJavaScript/jquery.min.js" type="text/javascript"></script>
    <script src="NJavaScript/jquery-1.10.2.js" type="text/javascript"></script>
    <script src="NJavaScript/jquery-ui.js" type="text/javascript"></script>
    <script src="NScripts/script.js" type="text/javascript"></script>    
  
    <!-- jQuery -->
    <script type="text/javascript" src="JS/slide-show-google-api.js"></script>



    <link href="NgridCss/dataTables.jqueryui.min.css" rel="stylesheet" />    
    <link href="NgridCss/buttons.jqueryui.min.css" rel="stylesheet" />
  
    <script src="NgridJs/jquery-1.12.0.min.js" type="text/javascript"></script>  
    <script src="NgridJs/jquery.dataTables.min.js" type="text/javascript"></script>  
    <script src="NgridJs/dataTables.jqueryui.min.js" type="text/javascript"></script>     
    <script src="NgridJs/dataTables.buttons.min.js" type="text/javascript"></script>     
    <script src="NgridJs/buttons.jqueryui.min.js" type="text/javascript"></script>    
    <script src="NgridJs/jszip.min.js" type="text/javascript"></script>    
    <script src="NgridJs/pdfmake.min.js" type="text/javascript"></script>
    <script src="NgridJs/vfs_fonts.js" type="text/javascript"></script>    
    <script src="NgridJs/buttons.html5.min.js" type="text/javascript"></script>    
    <script src="NgridJs/buttons.print.min.js" type="text/javascript"></script>



    <!-- FlexSlider -->    
    <script type="text/javascript" src="JS/jquery.flexslider-min.js"></script>
    <script type="text/javascript" src="JS/prototype.js"></script>
    <script type="text/javascript" src="JS/lightbox.js"></script>  
    
   
   
   
    <style type="text/css">
        
        .plc::-webkit-input-placeholder
        {
            color:#b2cde0;
        }
        
        .btn-success {
            background-color: #5cb85c;
            border-color: #4cae4c;
            color: #fff;
            
        }
        .boxbg5
        {
            background-color: #FFF;
            padding: 1px;
            height: 50px;
            color: #ffffff;
            text-align: center;
            font-size: 14px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
            border-radius: 5px;
            margin-top: -30px;
        }
        .btn {
            -moz-user-select: none;
            background-image: none;
            border: 1px solid transparent;
            border-radius: 4px;
            cursor: pointer;
            display: inline-block;
            font-size: 14px;
            font-weight: 400;
            line-height: 1.42857;
            margin-bottom: 0;
            padding: 6px 12px;
            text-align: center;
            vertical-align: middle;
            white-space: nowrap;
        }
        ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #607d8b;
        }

        ul li {
            float: left;
            border-right:1px solid #bbb;
        }

        ul li:last-child {
            border-right: none;
        }

        ul li a {
            display: block;
            color: white;
            text-align: center;
            padding: 14px 16px;
            font-size: 14px;
            text-decoration: none;
        }

        ul li a:hover:not(.active) {
            background-color: #8dc060;
        }

        .active {
            background-color: #8dc060;
        }
        
        #content {
	        float: left;
            padding-top: 10px;
            padding-left: 5px;
            width: 95.5%;
        }

        #middle {
	        width: 580px; /* Account for margins + border values */
	        float: left;
	        padding: 5px;	        
        }

        #sidebar {
	        width: 97%;
	        padding-top: 10px;
	        float: right;
            padding-right: 5px;
        }
        #pagewrap {
	        padding-top: 5px;
	        width: 1135px;
	        margin: -14px auto;
        }
        
        .border-bottom
        {
            border-bottom: 1px solid #bbb;
        }
        
        .title{
            display: inline-block;
            height: 25px;
        }
        
        .txtColor
        {
            border:1px solid #5cb85c;       
            height:23px;      
        }
        
     </style>

     <script type="text/javascript" charset="utf-8">
         var $ = jQuery.noConflict();



         $(document).ready(function () {
             $('.flexslider').flexslider({
                 animation: "fade"
             });

             $(function () {
                 $('.show_menu').click(function () {
                     $('.menu').fadeIn();
                     $('.show_menu').fadeOut();
                     $('.hide_menu').fadeIn();
                 });
                 $('.hide_menu').click(function () {
                     $('.menu').fadeOut();
                     $('.show_menu').fadeIn();
                     $('.hide_menu').fadeOut();
                 });

                 $('marquee').mouseover(function () {
                     $(this).attr('scrollamount', 0);
                 }).mouseout(function () {
                     $(this).attr('scrollamount', 5);
                 });
             });

             $("#lnkLogout").click(function (e) {
                 e.preventDefault();
                 window.location = "login.aspx";
             });


             $("#lnkAddGroup").click(function (e) {
                 e.preventDefault();

                 $.getScript("JS/mktgGroupInfo.js");

                 //$("html, body").animate({ scrollTop: $(document).height() - 20 }, "slow");
                 $('#dvMiddleContent').html('');
                 $('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>Group Informaiton Entry panel</span></div>" +
                                    "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'>" +
                                    "<table style='padding-top:10px;padding-bottom: 10px;padding-left:22%'>" +
                                    "<tr><td>Group ID :</td><td><input type='text' id='txtGroupId' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Group Name :</td><td><input type='text' id='txtGroupName' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Active :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlComActive' name='ddlComActive'><option value='-1'>...Select...</option><option value='Y'>Yes</option><option value='N'>No</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td></td><td style='text-align:right;'> <button type='button' id='btnSave' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Save</button></td></tr></table></div>");

                 $("#txtGroupId").focus();
                 //$("#txtGroupId").attr("disabled", "disabled");

                 $("#btnSave").click(function () {


                     var groupId = $("#txtGroupId").val();
                     var groupName = $("#txtGroupName").val();
                     var status = $("#ddlComActive").val();

                     if (groupId == "") {
                         alert('Enter Group Id');
                         return;
                     }
                     else if (groupName == "") {
                         alert('Enter Group Name');
                         return;
                     }
                     else if (status == "-1") {
                         alert('Select Activeness');
                         return;
                     }

                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/AddGroupInfo",
                         data: "{groupId:'" + groupId + "',groupName:'" + groupName + "',status:'" + status + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {
                             var msg = response.d;

                             alert(msg);
                             $("#txtGroupName").val('');

                             $.getScript("JS/mktgGroupInfo.js");

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });

                 });
             });


             $("#lnkAddProduct").click(function (e) {
                 e.preventDefault();

                 $("#tblData").html("");
                 $.getScript("JS/loadMktgItem.js");

                 //$("html, body").animate({ scrollTop: $(document).height() - 20 }, "slow");
                 $('#dvMiddleContent').html('');
                 $('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>Product Item Informaiton Entry panel</span></div>" +
                                    "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'><table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +
                                    "<tr><td>Item Code :</td><td><input type='text' id='txtItemCode' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Item Name :</td><td><input type='text' id='txtItemName' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Item Price :</td><td><input type='text' id='txtItemPrice' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                    "<tr><td>Group Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlGroupName' name='ddlGroupName'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                    "<tr><td>Company Name :</td><td><input type='text' id='txtCompanyName' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Active :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlActive' name='ddlActive'><option value='-1'>...Select...</option><option value='Y'>Yes</option><option value='N'>No</option></select></td><td></td></tr>" +
                                    "<tr><td></td><td style='text-align:right;'> <button type='button' id='btnSave' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Save</button></td></tr></table></div>");

                 $("#txtItemCode").focus();
                 $.getScript("JS/loadMKTGallGroup.js");

                 $("#btnSave").click(function () {

                     var itemCode = $("#txtItemCode").val();
                     var itemName = $("#txtItemName").val();
                     var itemPrice = $("#txtItemPrice").val();
                     var groupId = $("#ddlGroupName").val();
                     var groupName = $("#ddlGroupName option:selected").text();
                     var companyName = $("#txtCompanyName").val();
                     var activeness = $("#ddlActive").val();

                     if (itemCode == "") {
                         alert('Enter Item Code');
                         return;
                     }
                     else if (itemName == "") {
                         alert('Enter Item Name');
                         return;
                     }
                     else if (itemPrice == "") {
                         alert('Enter Item Price');
                         return;
                     }
                     else if (activeness == "...Select...") {
                         alert('Select Activeness');
                         return;
                     }

                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/AddNewItemInfo",
                         data: "{itemCode:'" + itemCode + "',itemName:'" + itemName + "',itemPrice:'" + itemPrice + "',groupId:'" + groupId + "',groupName:'" + groupName + "',companyName:'" + companyName + "',activeness:'" + activeness + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {
                             var msg = response.d;

                             alert(msg);
                             $("#txtItemCode").val('');
                             $("#txtItemName").val('');
                             $("#txtItemPrice").val('');
                             $("#txtCompanyName").val('');


                             $.getScript("JS/loadMktgItem.js");

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });


                 });
             });


             $("#lnkAddNewHOS").click(function (e) {
                 e.preventDefault();

                 $("#tblData").html("");
                 loadHOSinfo();

                 //$("html, body").animate({ scrollTop: $(document).height() - 20 }, "slow");
                 $('#dvMiddleContent').html('');
                 $('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>Head of Sales Information Entry panel</span></div>" +
                                    "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'><table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'><tr><td>HOS Id :</td><td><input type='text' id='txtId' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>HOS Name :</td><td><input type='text' id='txtName' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Password :</td><td><input type='text' id='txtPwd' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Mobile Number :</td><td><input type='text' id='txtPhone' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Email Address :</td><td><input type='text' id='txtEmail' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Mother Company :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlMotherCompany' name='ddlMotherCompany'><option value='-1'>...Select...</option><option value='PRAN'>PRAN</option><option value='RFL'>RFL</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Item Company :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlOwnCompany' name='ddlOwnCompany'></select></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Item Group :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlItemGroup' name='ddlItemGroup'></select></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Working Area :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlWorkingArea' name='ddlWorkingArea'><option value='-1'>...Select...</option><option value='National'>National</option><option value='International'>International</option><option value='Both'>Both</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Active :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlHosActive' name='ddlHosActive'><option value='-1'>...Select...</option><option value='Y'>Yes</option><option value='N'>No</option></select></td><td></td></tr><tr><td></td><td style='text-align:right;'> <button type='button' id='btnSave' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Save</button></td></tr></table></div>");

                 $("#txtId").focus();

                 $("#ddlMotherCompany").change(function (e) {
                     var motherCompany = $("#ddlMotherCompany option:selected").text();
                     $.ajax({
                         type: "POST",
                         url: "operation.aspx/GetCompany",
                         data: "{motherCompany:'" + motherCompany + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {

                             var companyInfo = response.d.split(';');
                             var opt = "<option value='-1'>...Select...</option>";
                             for (var i = 1; i < companyInfo.length; i = i + 2) {
                                 var comId = companyInfo[i];
                                 var comName = companyInfo[i + 1];
                                 opt = opt + "<option value='" + comId + "'>" + comName + "</option>";
                             }
                             $("#ddlOwnCompany").html('');
                             $("#ddlOwnCompany").append(opt);

                             $("#ddlOwnCompany").change(function (e) {
                                 var ownCompany = $("#ddlOwnCompany").val();
                                 $.ajax({
                                     type: "POST",
                                     url: "operation.aspx/GetItemGroup",
                                     data: "{ownCompany:'" + ownCompany + "'}",
                                     contentType: "application/json; charset=utf-8",
                                     dataType: "json",
                                     async: false,
                                     success: function (response) {

                                         var companyInfo = response.d.split(';');
                                         var opt = "<option value='-1'>...Select...</option>";
                                         for (var i = 1; i < companyInfo.length; i = i + 2) {
                                             var groupId = companyInfo[i];
                                             var groupName = companyInfo[i + 1];
                                             opt = opt + "<option value='" + groupId + "'>" + groupName + "</option>";
                                         }
                                         $("#ddlItemGroup").html('');
                                         $("#ddlItemGroup").append(opt);

                                     },
                                     failure: function (response) {
                                         alert(response.d);
                                     }
                                 });
                             });

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });
                 });

                 $("#btnSave").click(function () {

                     var hosId = $("#txtId").val();
                     var hosName = $("#txtName").val();
                     var Pwd = $("#txtPwd").val();
                     var Phone = $("#txtPhone").val();
                     var emailAddress = $("#txtEmail").val();
                     var motherCompany = $("#ddlMotherCompany option:selected").text();
                     var ownCompany = $("#ddlOwnCompany option:selected").text();
                     var itemGroup = $("#ddlItemGroup option:selected").text();
                     var workingArea = $("#ddlWorkingArea option:selected").text();
                     var status = $("#ddlHosActive").val();

                     if (hosId == "") {
                         alert('Enter HOS Id');
                         return;
                     }
                     else if (hosName == "") {
                         alert('Enter HOS Name');
                         return;
                     }
                     else if (Pwd == "") {
                         alert('Enter Password');
                         return;
                     }
                     else if (Phone == "") {
                         alert('Enter Mobile Number');
                         return;
                     }
                     else if (emailAddress == "") {
                         alert('Enter Email Address');
                         return;
                     }
                     else if (motherCompany == "...Select...") {
                         alert('Select Mother Company');
                         return;
                     }
                     else if (ownCompany == "...Select...") {
                         alert('Select Own Company');
                         return;
                     }
                     else if (itemGroup == "...Select...") {
                         alert('Select Group Name');
                         return;
                     }
                     else if (workingArea == "...Select...") {
                         alert('Select Working area');
                         return;
                     }
                     else if (status == "-1") {
                         alert('Select Status');
                         return;
                     }

                     $.ajax({
                         type: "POST",
                         url: "operation.aspx/AddHOSInfo",
                         data: "{hosId:'" + hosId + "',hosName:'" + hosName + "',Pwd:'" + Pwd + "',Phone:'" + Phone + "',emailAddress:'" + emailAddress + "',motherCompany:'" + motherCompany + "',ownCompany:'" + ownCompany + "',itemGroup:'" + itemGroup + "',workingArea:'" + workingArea + "',status:'" + status + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {
                             var msg = response.d;

                             alert(msg);
                             $("#txtId").val('');
                             $("#txtName").val('');
                             $("#txtPwd").val('');
                             $("#txtPhone").val('');
                             $("#txtEmail").val('');

                             loadHOSinfo();

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });


                 });
             });


             $("#lnkInAddDivision").click(function (e) {
                 e.preventDefault();

                 $("#tblData").html("");
                 loadDivistionInfo();

                 //$("html, body").animate({ scrollTop: $(document).height() - 20 }, "slow");
                 $('#dvMiddleContent').html('');
                 $('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>Division Informaiton Entry panel</span></div>" +
                                    "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'><table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +
                                    "<tr><td>Group Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlGroupName' name='ddlGroupName'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Division Id :</td><td><input type='text' id='txtDivisionId' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Division Name :</td><td><input type='text' id='txtDivisionName' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Country Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlCountry' name='ddlCountry'><option value='-1'>...Select...</option><option value='Bangladesh'>Bangladesh</option><option value='India'>India</option><option value='Nepal'>Nepal</option><option value='Malaysia'>Malaysia</option><option value='Oman'>Oman</option><option value='UAE'>UAE</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Active :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDivisionActive' name='ddlDivisionActive'><option value='-1'>...Select...</option><option value='Y'>Yes</option><option value='N'>No</option></select></td><td></td></tr><tr><td></td><td style='text-align:right;'> <button type='button' id='btnSave' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Save</button> </td></tr></table></div>");

                 $("#txtDivisionId").focus();
                 $.getScript("JS/loadMKTGallGroup.js");

                 $("#btnSave").click(function () {

                     var groupId = $("#ddlGroupName").val();
                     var groupName = $("#ddlGroupName option:selected").text();

                     var divisionId = $("#txtDivisionId").val();
                     var divisionName = $("#txtDivisionName").val();
                     var country = $("#ddlCountry option:selected").text();
                     var status = $("#ddlDivisionActive").val();

                     if (groupName == "-1") {
                         alert('Select Group');
                         return;
                     }
                     else if (divisionId == "") {
                         alert('Enter Division Id');
                         return;
                     }
                     else if (divisionName == "") {
                         alert('Enter Division Name');
                         return;
                     }
                     else if (country == "...Select...") {
                         alert('Select Country');
                         return;
                     }
                     else if (status == "-1") {
                         alert('Select Activeness');
                         return;
                     }

                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/AddDivisionInfo",
                         data: "{groupId:'" + groupId + "',groupName:'" + groupName + "',divisionId:'" + divisionId + "',divisionName:'" + divisionName + "',country:'" + country + "',status:'" + status + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {
                             var msg = response.d;

                             alert(msg);
                             $("#txtDivisionId").val('');
                             $("#txtDivisionName").val('');

                             loadDivistionInfo();

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });


                 });
             });


             function loadDivistionInfo() {
                 //--Load grid view---------------------
                 $("#tblData").html("");
                 $("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='images/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                 var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'style='padding-top:10px;'>";
                 var thead = "<thead><tr><th>Division ID</th><th>Division Name</th><th>Group Name</th><th>Country Name</th><th>Status</th><th>Operaton</th></tr></thead>";

                 var row = "";
                 var division = "division";
                 $.ajax({
                     type: "POST",
                     url: "trademktg.aspx/GetDivisionInfo",
                     data: "{division:'" + division + "'}",
                     contentType: "application/json; charset=utf-8",
                     dataType: "json",
                     async: false,
                     success: function (response) {
                         var divisionInfo = response.d.split(';');

                         for (var i = 1; i < divisionInfo.length; i = i + 6) {
                             var divId = divisionInfo[i];
                             var divName = divisionInfo[i + 1];
                             var country = divisionInfo[i + 2];
                             var status = divisionInfo[i + 3];
                             var groupId = divisionInfo[i + 4];
                             var groupName = divisionInfo[i + 5];

                             row = row + "<tr style='text-align:left'><td>" + divId + "</td><td>" + divName + "</td><td>" + groupName + "</td><td>" + country + "</td><td>" + status + "</td><td><div style='float:right;'><button type='button' style='float: right; margin-top: 0px;' class='btn btn-xs btn-success editdivid' id='" + divId + "'><span class ='glyphicon glyphicon-edit'></span>Edit</button></div></td></tr>";
                         }

                         tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";

                         //$("#loader").css("display", "none");
                         $("#tblData").html("");
                         $("#tblData").html(tbl);

                         var table = $('#example').DataTable({
                             lengthChange: true,
                             "scrollX": true,
                             buttons: true
                         });

                         table.buttons().container().insertBefore('#example_filter');


                     },
                     failure: function (response) {
                         alert(response.d);
                     }
                 });


                 $('#tblData').on('click', '.editdivid', function () {

                     var division = this.id;
                     //alert(srID);

                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetDivisionInfo",
                         data: "{division:'" + division + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {
                             var divisionInfo = response.d.split(';');

                             var divId = divisionInfo[1];
                             var divName = divisionInfo[2];
                             var country = divisionInfo[3];
                             var status = divisionInfo[4];
                             var groupId = divisionInfo[5];
                             var groupName = divisionInfo[6];

                             $("#ddlGroupName").val(groupId);
                             $("#txtDivisionId").val(divId);
                             $("#txtDivisionName").val(divName);
                             $("#ddlCountry").val(country);
                             $("#ddlDivisionActive").val(status);

                             //var table = $('#example').DataTable({
                             //    lengthChange: true,
                             //    "scrollX": true,
                             //    buttons: true
                             //});

                             //table.buttons().container().insertBefore('#example_filter');


                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });

                 });

                 //--end grid view panel---------------------------------------------------
             }


             $("#lnkAddRegion").click(function (e) {

                 e.preventDefault();
                 $("#tblData").html("");
                 loadRegionInfo();

                 $('#dvMiddleContent').html('');
                 $('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>Region Informaiton Entry panel</span></div>" +
                                    "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'><table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +
                                    "<tr><td>Group Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlGroupName' name='ddlGroupName'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Region Id :</td><td><input type='text' id='txtRegionId' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Region Name :</td><td><input type='text' id='txtRegionName' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Country Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlCountry' name='ddlCountry'><option value='-1'>...Select...</option><option value='Bangladesh'>Bangladesh</option><option value='India'>India</option><option value='Nepal'>Nepal</option><option value='Malaysia'>Malaysia</option><option value='Oman'>Oman</option><option value='UAE'>UAE</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                    "<tr><td>Division Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDivision' name='ddlDivision'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Active :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlRegionActive' name='ddlRegionActive'><option value='-1'>...Select...</option><option value='Y'>Yes</option><option value='N'>No</option></select></td><td></td></tr>" +

                                    "<tr><td></td><td style='text-align:right;'> <button type='button' id='btnSave' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Save</button> </td></tr></table></div>");

                 $("#txtRegionId").focus();
                 $.getScript("JS/loadMKTGallGroup.js");
                 $.getScript("JS/loadMktgDivision.js");


                 $("#btnSave").click(function () {

                     var groupId = $("#ddlGroupName").val();
                     var groupName = $("#ddlGroupName option:selected").text();

                     var regionId = $("#txtRegionId").val();
                     var regionName = $("#txtRegionName").val();

                     var divisionId = $("#ddlDivision").val();
                     var divisionName = $("#ddlDivision option:selected").text();

                     var country = $("#ddlCountry option:selected").text();
                     var status = $("#ddlRegionActive").val();

                     if (groupName == "-1") {
                         alert('Select Group');
                         return;
                     }
                     else if (regionId == "") {
                         alert('Enter Region Id');
                         return;
                     }
                     else if (regionName == "") {
                         alert('Enter Region Name');
                         return;
                     }
                     else if (country == "...Select...") {
                         alert('Select Country');
                         return;
                     }
                     else if (status == "-1") {
                         alert('Select Activeness');
                         return;
                     }

                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/AddRegionInfo",
                         data: "{groupId:'" + groupId + "',groupName:'" + groupName + "',regionId:'" + regionId + "',regionName:'" + regionName + "',divisionId:'" + divisionId + "',divisionName:'" + divisionName + "',country:'" + country + "',status:'" + status + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {
                             var msg = response.d;

                             alert(msg);
                             $("#txtRegionId").val('');
                             $("#txtRegionName").val('');

                             loadRegionInfo();

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });


                 });



             });


             function loadRegionInfo() {
                 //--Load grid view---------------------
                 $("#tblData").html("");
                 $("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='images/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                 var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'style='padding-top:10px;'>";
                 var thead = "<thead><tr><th>Group Name</th><th>Region ID</th><th>Region Name</th><th>Division Name</th><th>Country Name</th><th>Status</th><th>Operaton</th></tr></thead>";

                 var row = "";
                 var regionId = "regionId";
                 $.ajax({
                     type: "POST",
                     url: "trademktg.aspx/GetRegionInfo",
                     data: "{regionId:'" + regionId + "'}",
                     contentType: "application/json; charset=utf-8",
                     dataType: "json",
                     async: false,
                     success: function (response) {
                         var divisionInfo = response.d.split(';');

                         for (var i = 1; i < divisionInfo.length; i = i + 8) {
                             var groupId = divisionInfo[i];
                             var groupName = divisionInfo[i + 1];
                             var regionId = divisionInfo[i + 2];
                             var regionName = divisionInfo[i + 3];
                             var country = divisionInfo[i + 4];
                             var status = divisionInfo[i + 5];
                             var divisionId = divisionInfo[i + 6];
                             var divisionName = divisionInfo[i + 7];

                             row = row + "<tr style='text-align:left'><td>" + groupName + "</td><td>" + regionId + "</td><td>" + regionName + "</td><td>" + divisionName + "</td><td>" + country + "</td><td>" + status + "</td><td><div style='float:right;'><button type='button' style='float: right; margin-top: 0px;' class='btn btn-xs btn-success editregionid' id='" + regionId + "'><span class ='glyphicon glyphicon-edit'></span>Edit</button></div></td></tr>";
                         }

                         tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";

                         //$("#loader").css("display", "none");
                         $("#tblData").html("");
                         $("#tblData").html(tbl);

                         var table = $('#example').DataTable({
                             lengthChange: true,
                             "scrollX": true,
                             buttons: true
                         });

                         table.buttons().container().insertBefore('#example_filter');


                     },
                     failure: function (response) {
                         alert(response.d);
                     }
                 });


                 $('#tblData').on('click', '.editregionid', function () {

                     var regionId = this.id;
                     //alert(srID);

                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetRegionInfo",
                         data: "{regionId:'" + regionId + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {
                             var divisionInfo = response.d.split(';');

                             var groupId = divisionInfo[1];
                             var groupName = divisionInfo[2];
                             var regionId = divisionInfo[3];
                             var regionName = divisionInfo[4];
                             var country = divisionInfo[5];
                             var status = divisionInfo[6];
                             var divisionId = divisionInfo[7];
                             var divisionName = divisionInfo[8];

                             $("#ddlGroupName").val(groupId);
                             $("#txtRegionId").val(regionId);
                             $("#txtRegionName").val(regionName);
                             $("#ddlCountry").val(country);
                             $("#ddlRegionActive").val(status);



                             $.ajax({
                                 type: "POST",
                                 url: "trademktg.aspx/GetDivision",
                                 data: "{countryName:'" + country + "',group:'" + groupId + "'}",
                                 contentType: "application/json; charset=utf-8",
                                 dataType: "json",
                                 async: false,
                                 success: function (response) {

                                     var companyInfo = response.d.split(';');
                                     var opt = "<option value='-1'>...Select...</option>";
                                     for (var i = 1; i < companyInfo.length; i = i + 2) {
                                         var groupId = companyInfo[i];
                                         var groupName = companyInfo[i + 1];
                                         opt = opt + "<option value='" + groupId + "'>" + groupName + "</option>";
                                     }
                                     $("#ddlDivision").html('');
                                     $("#ddlDivision").append(opt);

                                 },
                                 failure: function (response) {
                                     alert(response.d);
                                 }
                             });

                             $("#ddlDivision").val(divisionId);

                             //var table = $('#example').DataTable({
                             //    lengthChange: true,
                             //    "scrollX": true,
                             //    buttons: true
                             //});

                             //table.buttons().container().insertBefore('#example_filter');


                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });

                 });

                 //--end grid view panel---------------------------------------------------
             }


             $("#lnkAddZone").click(function (e) {
                 e.preventDefault();
                 $("#tblData").html("");
                 //loadZoneInfo();
                 //$.getScript("JS/zoneInfo.js");
                 loadZoneInfo();
                 //$("html, body").animate({ scrollTop: $(document).height() - 20 }, "slow");
                 $('#dvMiddleContent').html('');
                 $('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>Zone Informaiton Entry panel</span></div>" +
                                    "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'><table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +
                                    "<tr><td>Group Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlGroupName' name='ddlGroupName'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Zone Id :</td><td><input type='text' id='txtZoneId' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Zone Name :</td><td><input type='text' id='txtZoneName' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Country Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlCountry' name='ddlCountry'><option value='-1'>...Select...</option><option value='Bangladesh'>Bangladesh</option><option value='India'>India</option><option value='Nepal'>Nepal</option><option value='Malaysia'>Malaysia</option><option value='Oman'>Oman</option><option value='UAE'>UAE</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                    "<tr><td>Division Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDivision' name='ddlDivision'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Region Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlRegion' name='ddlRegion'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +


                                    "<tr><td>Active :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlZoneActive' name='ddlZoneActive'><option value='-1'>...Select...</option><option value='Y'>Yes</option><option value='N'>No</option></select></td><td></td></tr><tr><td></td><td style='text-align:right;'> <button type='button' id='btnSave' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Save</button> </td></tr></table>" +
                                     "</div>");


                 $("#txtZoneId").focus();

                 $.getScript("JS/loadMKTGallGroup.js");
                 //loadDivision();
                 $.getScript("JS/loadMktgDivision.js");

                 $("#ddlDivision").change(function () {
                     $.getScript("JS/loadMKTGregionByDivision.js");
                 });

                 $("#btnSave").click(function () {

                     var groupId = $("#ddlGroupName").val();
                     var groupName = $("#ddlGroupName option:selected").text();

                     var zoneId = $("#txtZoneId").val();
                     var zoneName = $("#txtZoneName").val();
                     var country = $("#ddlCountry option:selected").text();
                     var division = $("#ddlDivision").val();
                     var regionId = $("#ddlRegion").val();
                     var regionName = $("#ddlRegion option:selected").text();
                     var status = $("#ddlZoneActive").val();

                     if (zoneId == "") {
                         //$('input').addClass('plc');
                         alert('Enter Zone Id');
                         return;
                     }
                     else if (zoneName == "") {
                         alert('Enter Zone Name');
                         return;
                     }
                     else if (country == "...Select...") {
                         alert('Select Country');
                         return;
                     }
                     else if (division == "...Select...") {
                         alert('Select Division');
                         return;
                     }
                     else if (regionId == "-1") {
                         alert('Select Region');
                         return;
                     }
                     else if (status == "-1") {
                         alert('Select Activeness');
                         return;
                     }

                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/AddZoneInfo",
                         data: "{zoneId:'" + zoneId + "',zoneName:'" + zoneName + "',division:'" + division + "',country:'" + country + "',status:'" + status + "',regionId:'" + regionId + "',regionName:'" + regionName + "',groupId:'" + groupId + "',groupName:'" + groupName + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {
                             var msg = response.d;

                             alert(msg);
                             $("#txtZoneId").val('');
                             $("#txtZoneName").val('');

                             loadZoneInfo();

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });


                 });
             });



             function loadZoneInfo() {
                 //--Load grid view---------------------
                 $("#tblData").html("");
                 $("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='images/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                 var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'style='padding-top:10px;'>";
                 var thead = "<thead><tr><th>Group Name</th><th>Zone ID</th><th>Zone Name</th><th>Region Name</th><th>Division ID</th><th>Division Name</th><th>Country Name</th><th>Status</th><th>Operaton</th></tr></thead>";

                 var row = "";
                 var zoneId = "zoneId";
                 $.ajax({
                     type: "POST",
                     url: "trademktg.aspx/GetZone",
                     data: "{zoneId:'" + zoneId + "'}",
                     contentType: "application/json; charset=utf-8",
                     dataType: "json",
                     async: false,
                     success: function (response) {
                         var divisionInfo = response.d.split(';');

                         for (var i = 1; i < divisionInfo.length; i = i + 10) {
                             var zoneId = divisionInfo[i];
                             var zoneName = divisionInfo[i + 1];
                             var divisionId = divisionInfo[i + 2];
                             var divisionName = divisionInfo[i + 3];
                             var country = divisionInfo[i + 4];
                             var status = divisionInfo[i + 5];
                             var regionId = divisionInfo[i + 6];
                             var regionName = divisionInfo[i + 7];
                             var groupId = divisionInfo[i + 8];
                             var groupName = divisionInfo[i + 9];

                             row = row + "<tr style='text-align:left'><td>" + groupName + "</td><td>" + zoneId + "</td><td>" + zoneName + "</td><td>" + regionName + "</td><td>" + divisionId + "</td><td>" + divisionName + "</td><td>" + country + "</td><td>" + status + "</td><td><div style='float:right;'><button type='button' style='float: right; margin-top: 0px;' class='btn btn-xs btn-success editzoneid' id='" + zoneId + "'><span class ='glyphicon glyphicon-edit'></span>Edit</button></div></td></tr>";
                         }

                         tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";

                         //$("#loader").css("display", "none");
                         $("#tblData").html("");
                         $("#tblData").html(tbl);

                         var table = $('#example').DataTable({
                             lengthChange: true,
                             "scrollX": true,
                             buttons: true
                         });

                         table.buttons().container().insertBefore('#example_filter');


                     },
                     failure: function (response) {
                         alert(response.d);
                     }
                 });


                 $('#tblData').on('click', '.editzoneid', function () {

                     var zoneId = this.id;
                     //alert(srID);

                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetZone",
                         data: "{zoneId:'" + zoneId + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {
                             var divisionInfo = response.d.split(';');

                             var zoneId = divisionInfo[1];
                             var zoneName = divisionInfo[2];
                             var divisionId = divisionInfo[3];
                             var divisionName = divisionInfo[4];
                             var country = divisionInfo[5];
                             var status = divisionInfo[6];
                             var regionId = divisionInfo[7];
                             var regionName = divisionInfo[8];
                             var groupId = divisionInfo[9];
                             var groupName = divisionInfo[10];

                             $("#ddlGroupName").val(groupId);
                             $("#txtZoneId").val(zoneId);
                             $("#txtZoneName").val(zoneName);
                             $("#ddlCountry").val(country);

                             $("#ddlZoneActive").val(status);

                             var countryName = $("#ddlCountry option:selected").text();
                             $.ajax({
                                 type: "POST",
                                 url: "trademktg.aspx/GetDivision",
                                 data: "{countryName:'" + country + "',group:'" + groupId + "'}",
                                 contentType: "application/json; charset=utf-8",
                                 dataType: "json",
                                 async: false,
                                 success: function (response) {

                                     var companyInfo = response.d.split(';');
                                     var opt = "<option value='-1'>...Select...</option>";
                                     for (var i = 1; i < companyInfo.length; i = i + 2) {
                                         var groupId = companyInfo[i];
                                         var groupName = companyInfo[i + 1];
                                         opt = opt + "<option value='" + groupId + "'>" + groupName + "</option>";
                                     }
                                     $("#ddlDivision").html('');
                                     $("#ddlDivision").append(opt);

                                 },
                                 failure: function (response) {
                                     alert(response.d);
                                 }
                             });

                             $("#ddlDivision").val(divisionId);

                             //.getScript("JS/loadMKTGregionByDivision.js");
                             $.ajax({
                                 type: "POST",
                                 url: "trademktg.aspx/GetRegionByDivision",
                                 data: "{divisionId:'" + divisionId + "'}",
                                 contentType: "application/json; charset=utf-8",
                                 dataType: "json",
                                 async: false,
                                 success: function (response) {

                                     var companyInfo = response.d.split(';');
                                     var opt = "<option value='-1'>...Select...</option>";
                                     //opt = opt + "<option value='AllDivision'>All Division</option>";
                                     for (var i = 1; i < companyInfo.length; i = i + 2) {
                                         var groupId = companyInfo[i];
                                         var groupName = companyInfo[i + 1];
                                         opt = opt + "<option value='" + groupId + "'>" + groupName + "</option>";
                                     }
                                     $("#ddlRegion").html('');
                                     $("#ddlRegion").append(opt);

                                 },
                                 failure: function (response) {
                                     alert(response.d);
                                 }
                             });
                             $("#ddlRegion").val(regionId);


                             //var table = $('#example').DataTable({
                             //    lengthChange: true,
                             //    "scrollX": true,
                             //    buttons: true
                             //});

                             //table.buttons().container().insertBefore('#example_filter');


                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });

                 });

                 //--end grid view panel---------------------------------------------------
             }



             $("#lnkAddNewOperationMngr").click(function (e) {
                 e.preventDefault();

                 $("#tblData").html("");
                 loadOperationMngrInfo();

                 //$("html, body").animate({ scrollTop: $(document).height() - 20 }, "slow");
                 $('#dvMiddleContent').html('');
                 $('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>Operation Mngr. Information Entry panel</span></div>" +
                                    "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'><table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'><tr><td>Group Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlGroupName' name='ddlGroupName'></select></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Operatoin Mngr. Id :</td><td><input type='text' id='txtId' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Name :</td><td><input type='text' id='txtName' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Password :</td><td><input type='text' id='txtPwd' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Mobile Number :</td><td><input type='text' id='txtPhone' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Email Address :</td><td><input type='text' id='txtEmail' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Country Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlCountry' name='ddlCountry'><option value='-1'>...Select...</option><option value='Bangladesh'>Bangladesh</option><option value='India'>India</option><option value='Nepal'>Nepal</option><option value='Malaysia'>Malaysia</option><option value='Oman'>Oman</option><option value='UAE'>UAE</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Division Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDivision' name='ddlDivision'></select></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Active :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlRMActive' name='ddlRMActive'><option value='-1'>...Select...</option><option value='Y'>Yes</option><option value='N'>No</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td></td><td style='text-align:right;'> <button type='button' id='btnSave' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Save</button></td></tr></table></div>");

                 $("#txtId").focus();

                 //loadDivision();                
                 $.getScript("JS/loadMktgDivision.js");


                 $.getScript("JS/loadMKTGallGroup.js");


                 $("#btnSave").click(function () {

                     var rmId = $("#txtId").val();
                     var rmName = $("#txtName").val();
                     var Pwd = $("#txtPwd").val();
                     var Phone = $("#txtPhone").val();
                     var emailAddress = $("#txtEmail").val();

                     var country = $("#ddlCountry option:selected").text();
                     var division = $("#ddlDivision").val();

                     var groupId = $("#ddlGroupName").val();
                     var group = $("#ddlGroupName option:selected").text();

                     var status = $("#ddlRMActive").val();


                     if (rmId == "") {
                         alert('Enter RM Id');
                         return;
                     }
                     else if (rmName == "") {
                         alert('Enter RM Name');
                         return;
                     }
                     else if (Pwd == "") {
                         alert('Enter Password');
                         return;
                     }
                     else if (Phone == "") {
                         alert('Enter Mobile Number');
                         return;
                     }
                     else if (emailAddress == "") {
                         alert('Enter Email Address');
                         return;
                     }
                     else if (country == "...Select...") {
                         alert('Select Country');
                         return;
                     }
                     else if (division == "-1") {
                         alert('Select Division');
                         return;
                     }
                     else if (group == "...Select...") {
                         alert('Select Group Name');
                         return;
                     }
                     else if (status == "-1") {
                         alert('Select Activeness');
                         return;
                     }

                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/AddOperationMngrInfo",
                         data: "{rmId:'" + rmId + "',rmName:'" + rmName + "',Pwd:'" + Pwd + "',Phone:'" + Phone + "',emailAddress:'" + emailAddress + "',country:'" + country + "',division:'" + division + "',group:'" + group + "',groupId:'" + groupId + "',status:'" + status + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {
                             var msg = response.d;

                             alert(msg);

                             $("#txtId").val('');
                             $("#txtName").val('');
                             $("#txtPwd").val('');
                             $("#txtPhone").val('');
                             $("#txtEmail").val('');

                             loadOperationMngrInfo();

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });

                 });
             });


             function loadOperationMngrInfo() {
                 //--Load grid view---------------------
                 $("#tblData").html("");
                 $("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='images/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                 var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'style='padding-top:10px;'>";
                 var thead = "<thead><tr><th>Operation Mngr. ID</th><th>Name</th><th>Password</th><th>Mobile No</th><th>Email Address</th><th>Country</th><th>Division</th><th>Group</th><th>Status</th><th>Operaton</th></tr></thead>";

                 var row = "";
                 var rm = "rm";
                 $.ajax({
                     type: "POST",
                     url: "trademktg.aspx/GetOperationMngrInfo",
                     data: "{rm:'" + rm + "'}",
                     contentType: "application/json; charset=utf-8",
                     dataType: "json",
                     async: false,
                     success: function (response) {
                         var rmInfo = response.d.split(';');

                         for (var i = 1; i < rmInfo.length; i = i + 11) {
                             var rmId = rmInfo[i];
                             var rmName = rmInfo[i + 1];
                             var pass = rmInfo[i + 2];
                             var phone = rmInfo[i + 3];
                             var email = rmInfo[i + 4];
                             var country = rmInfo[i + 5];
                             var divisionID = rmInfo[i + 6];
                             var divisionName = rmInfo[i + 7];
                             var group = rmInfo[i + 8];
                             var status = rmInfo[i + 9];
                             var groupId = rmInfo[i + 10];

                             row = row + "<tr style='text-align:left'><td>" + rmId + "</td><td>" + rmName + "</td><td>" + pass + "</td><td>" + phone + "</td><td>" + email + "</td><td>" + country + "</td><td>" + divisionName + "</td><td>" + group + "</td><td>" + status + "</td><td><div style='float:right;'><button type='button' style='float: right; margin-top: 0px;' class='btn btn-xs btn-success editrmid' id='" + rmId + "'><span class ='glyphicon glyphicon-edit'></span>Edit</button></div></td></tr>";
                         }

                         tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";

                         //$("#loader").css("display", "none");
                         $("#tblData").html("");
                         $("#tblData").html(tbl);

                         var table = $('#example').DataTable({
                             lengthChange: true,
                             "scrollX": true,
                             buttons: true
                         });

                         table.buttons().container().insertBefore('#example_filter');


                     },
                     failure: function (response) {
                         alert(response.d);
                     }
                 });


                 $('#tblData').on('click', '.editrmid', function () {

                     var rmId = this.id;

                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetOperationMngrInfo",
                         data: "{rm:'" + rmId + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {
                             var rmInfo = response.d.split(';');

                             var rmId = rmInfo[1];
                             var rmName = rmInfo[2];
                             var pass = rmInfo[3];
                             var phone = rmInfo[4];
                             var email = rmInfo[5];
                             var country = rmInfo[6];
                             var divisionID = rmInfo[7];
                             var divisionName = rmInfo[8];
                             var group = rmInfo[9];
                             var status = rmInfo[10];
                             var groupId = rmInfo[i + 11];

                             //var countryName = $("#ddlCountry option:selected").text();

                             $.ajax({
                                 type: "POST",
                                 url: "trademktg.aspx/GetDivision",
                                 data: "{countryName:'" + country + "',group:'" + groupId + "'}",
                                 contentType: "application/json; charset=utf-8",
                                 dataType: "json",
                                 async: false,
                                 success: function (response) {

                                     var companyInfo = response.d.split(';');
                                     var opt = "<option value='-1'>...Select...</option>";
                                     //opt = opt + "<option value='AllDivision'>All Division</option>";
                                     for (var i = 1; i < companyInfo.length; i = i + 2) {
                                         var groupId = companyInfo[i];
                                         var groupName = companyInfo[i + 1];
                                         opt = opt + "<option value='" + groupId + "'>" + groupName + "</option>";
                                     }
                                     $("#ddlDivision").html('');
                                     $("#ddlDivision").append(opt);

                                 },
                                 failure: function (response) {
                                     alert(response.d);
                                 }
                             });

                             $("#ddlDivision").val(divisionID);


                             $("#txtId").val(rmId);
                             $("#txtName").val(rmName);
                             $("#txtPwd").val(pass);
                             $("#txtPhone").val(phone);
                             $("#txtEmail").val(email);

                             $("#ddlCountry").val(country);

                             $("#ddlGroupName").val(groupId);
                             $("#ddlRMActive").val(status);

                             //var table = $('#example').DataTable({
                             //    lengthChange: true,
                             //    "scrollX": true,
                             //    buttons: true
                             //});

                             //table.buttons().container().insertBefore('#example_filter');


                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });

                 });

                 //--end grid view panel---------------------------------------------------
             }



             $("#lnkAddNewAGMRM").click(function (e) {
                 e.preventDefault();

                 $("#tblData").html("");
                 divisionManagerInfo();

                 //$("html, body").animate({ scrollTop: $(document).height() - 20 }, "slow");
                 $('#dvMiddleContent').html('');
                 $('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>Divisional Mngr. Information Entry panel</span></div>" +
                                    "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'><table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +
                                    "<tr><td>Group Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlGroupName' name='ddlGroupName'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Operation Mngr. :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlOperationMngr' name='ddlOperationMngr'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Divisional Mngr. Id :</td><td><input type='text' id='txtId' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Name :</td><td><input type='text' id='txtName' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Password :</td><td><input type='text' id='txtPwd' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Mobile Number :</td><td><input type='text' id='txtPhone' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Email Address :</td><td><input type='text' id='txtEmail' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Country Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlCountry' name='ddlCountry'><option value='-1'>...Select...</option><option value='Bangladesh'>Bangladesh</option><option value='India'>India</option><option value='Nepal'>Nepal</option><option value='Malaysia'>Malaysia</option><option value='Oman'>Oman</option><option value='UAE'>UAE</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Division Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDivision' name='ddlDivision'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    //"<tr><td>Zone Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlZone' name='ddlZone'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Active :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlRMActive' name='ddlRMActive'><option value='-1'>...Select...</option><option value='Y'>Yes</option><option value='N'>No</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td></td><td style='text-align:right;'> <button type='button' id='btnSave' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Save</button></td></tr></table></div>");

                 $("#txtId").focus();

                 //loadDivision();                
                 $.getScript("JS/loadMktgDivision.js");

                 //$.getScript("JS/loadMktgZone.js");

                 $.getScript("JS/loadMktgOperationMngr.js");

                 $("#ddlGroupName").change(function () {
                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetOperationManager",
                         data: "{groupId:'" + $("#ddlGroupName").val() + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {

                             var companyInfo = response.d.split(';');
                             var opt = "<option value='-1'>...Select...</option>";
                             for (var i = 1; i < companyInfo.length; i = i + 2) {
                                 var mngrId = companyInfo[i];
                                 var mngrName = companyInfo[i + 1];
                                 opt = opt + "<option value='" + mngrId + "'>" + mngrId + " - " + mngrName + "</option>";
                             }
                             $("#ddlOperationMngr").html('');
                             $("#ddlOperationMngr").append(opt);

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });
                 });

                 $.getScript("JS/loadMKTGallGroup.js");

                 $("#btnSave").click(function () {

                     var rmId = $("#txtId").val();
                     var rmName = $("#txtName").val();
                     var Pwd = $("#txtPwd").val();
                     var Phone = $("#txtPhone").val();
                     var emailAddress = $("#txtEmail").val();

                     var country = $("#ddlCountry option:selected").text();
                     var division = $("#ddlDivision").val();

                     var zone = "No";//$("#ddlZone").val();
                     var groupId = $("#ddlGroupName").val();
                     var group = $("#ddlGroupName option:selected").text();
                     var opm = $("#ddlOperationMngr").val();
                     var opmName = $("#ddlOperationMngr option:selected").text();

                     var status = $("#ddlRMActive").val();


                     if (rmId == "") {
                         alert('Enter RM Id');
                         return;
                     }
                     else if (rmName == "") {
                         alert('Enter RM Name');
                         return;
                     }
                     else if (Pwd == "") {
                         alert('Enter Password');
                         return;
                     }
                     else if (Phone == "") {
                         alert('Enter Mobile Number');
                         return;
                     }
                     else if (emailAddress == "") {
                         alert('Enter Email Address');
                         return;
                     }
                     else if (country == "...Select...") {
                         alert('Select Country');
                         return;
                     }
                     else if (division == "-1") {
                         alert('Select Division');
                         return;
                     }
                     else if (zone == "-1") {
                         alert('Select Zone');
                         return;
                     }
                     else if (group == "-1") {
                         alert('Select Group Name');
                         return;
                     }
                     else if (opm == "-1") {
                         alert('Select Operation Mngr.');
                         return;
                     }
                     else if (status == "-1") {
                         alert('Select Activeness');
                         return;
                     }

                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/AddRMInfo",
                         data: "{rmId:'" + rmId + "',rmName:'" + rmName + "',Pwd:'" + Pwd + "',Phone:'" + Phone + "',emailAddress:'" + emailAddress + "',country:'" + country + "',division:'" + division + "',zone:'" + zone + "',groupId:'" + groupId + "',group:'" + group + "',status:'" + status + "',opm:'" + opm + "',opmName:'" + opmName + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {
                             var msg = response.d;

                             alert(msg);

                             $("#txtId").val('');
                             $("#txtName").val('');
                             $("#txtPwd").val('');
                             $("#txtPhone").val('');
                             $("#txtEmail").val('');

                             divisionManagerInfo();

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });

                 });
             });


             function divisionManagerInfo() {
                 //--Load grid view---------------------
                 $("#tblData").html("");
                 $("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='images/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                 var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'style='padding-top:10px;'>";
                 var thead = "<thead><tr><th>Divisional Mngr. ID</th><th>Name</th><th>Password</th><th>Mobile No</th><th>Email Address</th><th>Country</th><th>Division</th><th>Group</th><th>Operation Mngr.</th><th>Status</th><th>Operaton</th></tr></thead>";

                 var row = "";
                 var rm = "rm";
                 $.ajax({
                     type: "POST",
                     url: "trademktg.aspx/GetRMInfo",
                     data: "{rm:'" + rm + "'}",
                     contentType: "application/json; charset=utf-8",
                     dataType: "json",
                     async: false,
                     success: function (response) {
                         var rmInfo = response.d.split(';');

                         for (var i = 1; i < rmInfo.length; i = i + 15) {
                             var rmId = rmInfo[i];
                             var rmName = rmInfo[i + 1];
                             var pass = rmInfo[i + 2];
                             var phone = rmInfo[i + 3];
                             var email = rmInfo[i + 4];
                             var country = rmInfo[i + 5];
                             var divisionID = rmInfo[i + 6];
                             var divisionName = rmInfo[i + 7];
                             var zoneId = rmInfo[i + 8];
                             var zoneName = rmInfo[i + 9];
                             var group = rmInfo[i + 10];
                             var status = rmInfo[i + 11];
                             var mnrgId = rmInfo[i + 12];
                             var mngrName = rmInfo[i + 13];
                             var groupId = rmInfo[i + 14];

                             row = row + "<tr style='text-align:left'><td>" + rmId + "</td><td>" + rmName + "</td><td>" + pass + "</td><td>" + phone + "</td><td>" + email + "</td><td>" + country + "</td><td>" + divisionName + "</td><td>" + group + "</td><td>" + mngrName + "</td><td>" + status + "</td><td><div style='float:right;'><button type='button' style='float: right; margin-top: 0px;' class='btn btn-xs btn-success editrmid' id='" + rmId + "'><span class ='glyphicon glyphicon-edit'></span>Edit</button></div></td></tr>";
                         }

                         tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";

                         //$("#loader").css("display", "none");
                         $("#tblData").html("");
                         $("#tblData").html(tbl);

                         var table = $('#example').DataTable({
                             lengthChange: true,
                             "scrollX": true,
                             buttons: true
                         });

                         table.buttons().container().insertBefore('#example_filter');


                     },
                     failure: function (response) {
                         alert(response.d);
                     }
                 });


                 $('#tblData').on('click', '.editrmid', function () {

                     var rmId = this.id;

                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetRMInfo",
                         data: "{rm:'" + rmId + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {
                             var rmInfo = response.d.split(';');

                             var rmId = rmInfo[1];
                             var rmName = rmInfo[2];
                             var pass = rmInfo[3];
                             var phone = rmInfo[4];
                             var email = rmInfo[5];
                             var country = rmInfo[6];
                             var divisionID = rmInfo[7];
                             var divisionName = rmInfo[8];
                             var zoneId = rmInfo[9];
                             var zoneName = rmInfo[10];
                             var group = rmInfo[11];
                             var status = rmInfo[12];
                             var mnrgId = rmInfo[i + 13];
                             var mngrName = rmInfo[i + 14];
                             var groupId = rmInfo[i + 15];

                             //var countryName = $("#ddlCountry option:selected").text();
                             //$.getScript("JS/loadMktgOperationMngr.js");

                             $.ajax({
                                 type: "POST",
                                 url: "trademktg.aspx/GetDivision",
                                 data: "{countryName:'" + country + "',group:'" + groupId + "'}",
                                 contentType: "application/json; charset=utf-8",
                                 dataType: "json",
                                 async: false,
                                 success: function (response) {

                                     var companyInfo = response.d.split(';');
                                     var opt = "<option value='-1'>...Select...</option>";
                                     //opt = opt + "<option value='AllDivision'>All Division</option>";
                                     for (var i = 1; i < companyInfo.length; i = i + 2) {
                                         var groupId = companyInfo[i];
                                         var groupName = companyInfo[i + 1];
                                         opt = opt + "<option value='" + groupId + "'>" + groupName + "</option>";
                                     }
                                     $("#ddlDivision").html('');
                                     $("#ddlDivision").append(opt);

                                 },
                                 failure: function (response) {
                                     alert(response.d);
                                 }
                             });

                             $("#ddlDivision").val(divisionID);

                             var zoneIds = "zoneId";
                             $.ajax({
                                 type: "POST",
                                 url: "trademktg.aspx/GetZoneInfo",
                                 data: "{zoneId:'" + zoneIds + "'}",
                                 contentType: "application/json; charset=utf-8",
                                 dataType: "json",
                                 async: false,
                                 success: function (response) {

                                     var companyInfo = response.d.split(';');
                                     var opt = "<option value='-1'>...Select...</option>";
                                     for (var i = 1; i < companyInfo.length; i = i + 2) {
                                         var groupId = companyInfo[i];
                                         var groupName = companyInfo[i + 1];
                                         opt = opt + "<option value='" + groupId + "'>" + groupName + "</option>";
                                     }
                                     $("#ddlZone").html('');
                                     $("#ddlZone").append(opt);

                                 },
                                 failure: function (response) {
                                     alert(response.d);
                                 }
                             });

                             $("#ddlZone").val(zoneId);


                             $("#txtId").val(rmId);
                             $("#txtName").val(rmName);
                             $("#txtPwd").val(pass);
                             $("#txtPhone").val(phone);
                             $("#txtEmail").val(email);

                             $("#ddlCountry").val(country);

                             $("#ddlGroupName").val(groupId);
                             $("#ddlRMActive").val(status);

                             $.ajax({
                                 type: "POST",
                                 url: "trademktg.aspx/GetOperationManager",
                                 data: "{groupId:'" + groupId + "'}",
                                 contentType: "application/json; charset=utf-8",
                                 dataType: "json",
                                 async: false,
                                 success: function (response) {

                                     var companyInfo = response.d.split(';');
                                     var opt = "<option value='-1'>...Select...</option>";
                                     for (var i = 1; i < companyInfo.length; i = i + 2) {
                                         var mngrId = companyInfo[i];
                                         var mngrName = companyInfo[i + 1];
                                         opt = opt + "<option value='" + mngrId + "'>" + mngrId + " - " + mngrName + "</option>";
                                     }
                                     $("#ddlOperationMngr").html('');
                                     $("#ddlOperationMngr").append(opt);

                                 },
                                 failure: function (response) {
                                     alert(response.d);
                                 }
                             });

                             $("#ddlOperationMngr").val(mnrgId);


                             //var table = $('#example').DataTable({
                             //    lengthChange: true,
                             //    "scrollX": true,
                             //    buttons: true
                             //});

                             //table.buttons().container().insertBefore('#example_filter');


                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });

                 });

                 //--end grid view panel---------------------------------------------------
             }

             function loadAreaMngr() {
                 var mngr = "mngr";

             }

             function loadSupervisor() {
                 var mngr = "mngr";
                 $.ajax({
                     type: "POST",
                     url: "trademktg.aspx/GetSupervisor",
                     data: "{mngr:'" + mngr + "'}",
                     contentType: "application/json; charset=utf-8",
                     dataType: "json",
                     async: false,
                     success: function (response) {

                         var companyInfo = response.d.split(';');
                         var opt = "<option value='-1'>...Select...</option>";
                         for (var i = 1; i < companyInfo.length; i = i + 2) {
                             var mngrId = companyInfo[i];
                             var mngrName = companyInfo[i + 1];
                             opt = opt + "<option value='" + mngrId + "'>" + mngrName + "</option>";
                         }
                         $("#ddlSupervisor").html('');
                         $("#ddlSupervisor").append(opt);

                     },
                     failure: function (response) {
                         alert(response.d);
                     }
                 });
             }
             //--add supervisor--------------

             //--add supervisor--------------

             $("#lnkAddNewSupervisor").click(function (e) {
                 e.preventDefault();

                 $("#tblData").html("");
                 loadSupervisorInfo();

                 //$("html, body").animate({ scrollTop: $(document).height() - 20 }, "slow");
                 $('#dvMiddleContent').html('');
                 $('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>Supervisor Information Entry panel</span></div>" +
                                    "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'><table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +

                                    "<tr><td>Group Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlGroupName' name='ddlGroupName'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Divisional Mngr. :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlAreaMngr' name='ddlAreaMngr'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +


                                    "<tr><td>Supervisor Id :</td><td><input type='text' id='txtId' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Name :</td><td><input type='text' id='txtName' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Password :</td><td><input type='text' id='txtPwd' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Mobile Number :</td><td><input type='text' id='txtPhone' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Email Address :</td><td><input type='text' id='txtEmail' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Country Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlCountry' name='ddlCountry'>" +
                                    "<option value='-1'>...Select...</option><option value='Bangladesh'>Bangladesh</option>" +
                                    "<option value='India'>India</option><option value='Nepal'>Nepal</option>" +
                                    "<option value='Malaysia'>Malaysia</option>" +
                                    "<option value='Oman'>Oman</option>" +
                                    "<option value='UAE'>UAE</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Division Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDivision' name='ddlDivision'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Region Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlRegion' name='ddlRegion'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                    "<tr><td>Active :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlRMActive' name='ddlRMActive'><option value='-1'>...Select...</option><option value='Y'>Yes</option><option value='N'>No</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td></td><td style='text-align:right;'> <button type='button' id='btnSave' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Save</button></td></tr></table></div>");

                 $("#txtId").focus();


                 //loadDivision();                
                 $.getScript("JS/loadMktgDivision.js");

                 $("#ddlDivision").change(function () {
                     $.getScript("JS/loadMKTGregionByDivision.js");
                 });

                 $.getScript("JS/loadMKTGallGroup.js");

                 $("#ddlGroupName").change(function () {
                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetAreaMngr",
                         data: "{mngr:'" + $("#ddlGroupName").val() + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {

                             var companyInfo = response.d.split(';');
                             var opt = "<option value='-1'>...Select...</option>";
                             for (var i = 1; i < companyInfo.length; i = i + 2) {
                                 var mngrId = companyInfo[i];
                                 var mngrName = companyInfo[i + 1];
                                 opt = opt + "<option value='" + mngrId + "'>" + mngrId + " - " + mngrName + "</option>";
                             }
                             $("#ddlAreaMngr").html('');
                             $("#ddlAreaMngr").append(opt);

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });
                 });



                 $("#btnSave").click(function () {

                     var rmId = $("#txtId").val();
                     var rmName = $("#txtName").val();
                     var Pwd = $("#txtPwd").val();
                     var Phone = $("#txtPhone").val();
                     var emailAddress = $("#txtEmail").val();

                     var regionName = $("#ddlRegion option:selected").text();
                     var regionId = $("#ddlRegion").val();

                     var country = $("#ddlCountry option:selected").text();
                     var division = $("#ddlDivision").val();

                     var zone = $("#ddlRegion").val();
                     var groupId = $("#ddlGroupName").val();
                     var group = $("#ddlGroupName option:selected").text();
                     var areaMngr = $("#ddlAreaMngr").val();
                     var status = $("#ddlRMActive").val();


                     if (rmId == "") {
                         alert('Enter RM Id');
                         return;
                     }
                     else if (rmName == "") {
                         alert('Enter RM Name');
                         return;
                     }
                     else if (Pwd == "") {
                         alert('Enter Password');
                         return;
                     }
                     else if (Phone == "") {
                         alert('Enter Mobile Number');
                         return;
                     }
                     else if (emailAddress == "") {
                         alert('Enter Email Address');
                         return;
                     }
                     else if (country == "...Select...") {
                         alert('Select Country');
                         return;
                     }
                     else if (division == "-1") {
                         alert('Select Division');
                         return;
                     }
                     else if (zone == "-1") {
                         alert('Select Zone');
                         return;
                     }
                     else if (group == "...Select...") {
                         alert('Select Group Name');
                         return;
                     }
                     else if (areaMngr == "-1") {
                         alert('Select Area Mngr.');
                         return;
                     }
                     else if (status == "-1") {
                         alert('Select Activeness');
                         return;
                     }

                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/AddSupervisorInfo",
                         data: "{rmId:'" + rmId + "',rmName:'" + rmName + "',Pwd:'" + Pwd + "',Phone:'" + Phone + "',emailAddress:'" + emailAddress + "',country:'" + country + "',division:'" + division + "',zone:'" + zone + "',groupId:'" + groupId + "',group:'" + group + "',status:'" + status + "',areaMngr:'" + areaMngr + "',regionId:'" + regionId + "',regionName:'" + regionName + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {
                             var msg = response.d;

                             alert(msg);

                             $("#txtId").val('');
                             $("#txtName").val('');
                             $("#txtPwd").val('');
                             $("#txtPhone").val('');
                             $("#txtEmail").val('');

                             loadSupervisorInfo();

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });

                 });
             });

             function loadSupervisorInfo() {
                 //--Load grid view---------------------
                 $("#tblData").html("");
                 $("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='images/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                 var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'style='padding-top:10px;'>";
                 var thead = "<thead><tr><th>Supervisor ID</th><th>Name</th><th>Password</th><th>Mobile No</th><th>Email Address</th><th>Country</th><th>Division</th><th>Region Name</th><th>Group</th><th>Divisional Mngr.</th><th>Status</th><th>Operaton</th></tr></thead>";

                 var row = "";
                 var rm = "rm";
                 $.ajax({
                     type: "POST",
                     url: "trademktg.aspx/GetSupervisorInfo",
                     data: "{rm:'" + rm + "'}",
                     contentType: "application/json; charset=utf-8",
                     dataType: "json",
                     async: false,
                     success: function (response) {
                         var rmInfo = response.d.split(';');

                         for (var i = 1; i < rmInfo.length; i = i + 14) {
                             var rmId = rmInfo[i];
                             var rmName = rmInfo[i + 1];
                             var pass = rmInfo[i + 2];
                             var phone = rmInfo[i + 3];
                             var email = rmInfo[i + 4];
                             var country = rmInfo[i + 5];
                             var divisionID = rmInfo[i + 6];
                             var divisionName = rmInfo[i + 7];
                             var regionId = rmInfo[i + 8];
                             var regionName = rmInfo[i + 9];
                             var group = rmInfo[i + 10];
                             var status = rmInfo[i + 11];
                             var mngr = rmInfo[i + 12];
                             var groupId = rmInfo[i + 13];

                             row = row + "<tr style='text-align:left'><td>" + rmId + "</td><td>" + rmName + "</td><td>" + pass + "</td><td>" + phone + "</td><td>" + email + "</td><td>" + country + "</td><td>" + divisionName + "</td><td>" + regionName + "</td><td>" + group + "</td><td>" + mngr + "</td><td>" + status + "</td><td><div style='float:right;'><button type='button' style='float: right; margin-top: 0px;' class='btn btn-xs btn-success editrmid' id='" + rmId + "'><span class ='glyphicon glyphicon-edit'></span>Edit</button></div></td></tr>";
                         }

                         tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";

                         //$("#loader").css("display", "none");
                         $("#tblData").html("");
                         $("#tblData").html(tbl);

                         var table = $('#example').DataTable({
                             lengthChange: true,
                             "scrollX": true,
                             buttons: true
                         });

                         table.buttons().container().insertBefore('#example_filter');


                     },
                     failure: function (response) {
                         alert(response.d);
                     }
                 });


                 $('#tblData').on('click', '.editrmid', function () {

                     var rmId = this.id;

                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetSupervisorInfo",
                         data: "{rm:'" + rmId + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {
                             var rmInfo = response.d.split(';');

                             var rmId = rmInfo[1];
                             var rmName = rmInfo[2];
                             var pass = rmInfo[3];
                             var phone = rmInfo[4];
                             var email = rmInfo[5];
                             var country = rmInfo[6];
                             var divisionID = rmInfo[7];
                             var divisionName = rmInfo[8];
                             var regionId = rmInfo[9];
                             var regionName = rmInfo[10];
                             var group = rmInfo[11];
                             var status = rmInfo[12];
                             var mngr = rmInfo[13];
                             var groupId = rmInfo[i + 14];

                             //var countryName = $("#ddlCountry option:selected").text();

                             $.ajax({
                                 type: "POST",
                                 url: "trademktg.aspx/GetDivisionalManager",
                                 data: "{groupId:'" + groupId + "'}",
                                 contentType: "application/json; charset=utf-8",
                                 dataType: "json",
                                 async: false,
                                 success: function (response) {

                                     var companyInfo = response.d.split(';');
                                     var opt = "<option value='-1'>...Select...</option>";
                                     for (var i = 1; i < companyInfo.length; i = i + 2) {
                                         var mngrId = companyInfo[i];
                                         var mngrName = companyInfo[i + 1];
                                         opt = opt + "<option value='" + mngrId + "'>" + mngrId + " - " + mngrName + "</option>";
                                     }
                                     $("#ddlAreaMngr").html('');
                                     $("#ddlAreaMngr").append(opt);

                                 },
                                 failure: function (response) {
                                     alert(response.d);
                                 }
                             });

                             $("#ddlAreaMngr").val(mngr);


                             $.ajax({
                                 type: "POST",
                                 url: "trademktg.aspx/GetDivision",
                                 data: "{countryName:'" + country + "',group:'" + groupId + "'}",
                                 contentType: "application/json; charset=utf-8",
                                 dataType: "json",
                                 async: false,
                                 success: function (response) {

                                     var companyInfo = response.d.split(';');
                                     var opt = "<option value='-1'>...Select...</option>";
                                     //opt = opt + "<option value='AllDivision'>All Division</option>";
                                     for (var i = 1; i < companyInfo.length; i = i + 2) {
                                         var groupId = companyInfo[i];
                                         var groupName = companyInfo[i + 1];
                                         opt = opt + "<option value='" + groupId + "'>" + groupName + "</option>";
                                     }
                                     $("#ddlDivision").html('');
                                     $("#ddlDivision").append(opt);

                                 },
                                 failure: function (response) {
                                     alert(response.d);
                                 }
                             });

                             $("#ddlDivision").val(divisionID);


                             var divisionId = $("#ddlDivision").val();
                             $.ajax({
                                 type: "POST",
                                 url: "trademktg.aspx/GetRegionByDivision",
                                 data: "{divisionId:'" + divisionId + "'}",
                                 contentType: "application/json; charset=utf-8",
                                 dataType: "json",
                                 async: false,
                                 success: function (response) {

                                     var companyInfo = response.d.split(';');
                                     var opt = "<option value='-1'>...Select...</option>";
                                     //opt = opt + "<option value='AllDivision'>All Division</option>";
                                     for (var i = 1; i < companyInfo.length; i = i + 2) {
                                         var groupId = companyInfo[i];
                                         var groupName = companyInfo[i + 1];
                                         opt = opt + "<option value='" + groupId + "'>" + groupName + "</option>";
                                     }
                                     $("#ddlRegion").html('');
                                     $("#ddlRegion").append(opt);

                                 },
                                 failure: function (response) {
                                     alert(response.d);
                                 }
                             });

                             $("#ddlRegion").val(regionId);

                             loadAreaMngr();

                             $("#txtId").val(rmId);
                             $("#txtName").val(rmName);
                             $("#txtPwd").val(pass);
                             $("#txtPhone").val(phone);
                             $("#txtEmail").val(email);

                             $("#ddlCountry").val(country);

                             $("#ddlGroupName").val(groupId);
                             $("#ddlAreaMngr").val(mngr);
                             $("#ddlRMActive").val(status);

                             //var table = $('#example').DataTable({
                             //    lengthChange: true,
                             //    "scrollX": true,
                             //    buttons: true
                             //});

                             //table.buttons().container().insertBefore('#example_filter');


                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });

                 });

                 //--end grid view panel---------------------------------------------------
             }


             $("#lnkAddNewSR").click(function (e) {
                 e.preventDefault();
                 //$("html, body").animate({ scrollTop: $(document).height() - 20 }, "slow");
                 $("#tblData").html("");
                 loadSRInfo();

                 $('#dvMiddleContent').html('');
                 $('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>SR Information Entry panel</span></div>" +
                                    "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'>" +
                                    "<table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +

                                    "<tr><td>Group Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlGroupName' name='ddlGroupName'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                    "<tr><td>Divisional Mngr. :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlAreaMngr' name='ddlAreaMngr'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Supervisor :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlSupervisor' name='ddlSupervisor'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                    "<tr><td>SR ID :</td><td><input type='text' id='txtId' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>SR Name :</td><td><input type='text' id='txtName' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Password :</td><td><input type='text' id='txtPassword' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Mobile Number :</td><td><input type='text' id='txtPhone' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Email Address :</td><td><input type='text' id='txtEmail' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                    "<tr><td>Country Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlCountry' name='ddlCountry'><option value='-1'>...Select...</option><option value='Bangladesh'>Bangladesh</option><option value='India'>India</option><option value='Nepal'>Nepal</option><option value='Malaysia'>Malaysia</option><option value='Oman'>Oman</option><option value='UAE'>UAE</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Division Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDivision' name='ddlDivision'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Region Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlRegion' name='ddlRegion'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Zone :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlZone' name='ddlZone'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +


                                    "<tr><td>Active :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlSRActive' name='ddlSRActive'><option value='-1'>...Select...</option><option value='Y'>Yes</option><option value='N'>No</option></select></select></td><td></td></tr>" +
                                    "<tr><td></td><td style='text-align:right;'> <button type='button' id='btnSave' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Save</button></td></tr></table></div>");

                 $("#txtId").focus();

                 $.getScript("JS/loadMKTGallGroup.js");

                 $("#ddlDivision").change(function () {
                     $.getScript("JS/loadMKTGregionByDivision.js");
                 });

                 $("#ddlGroupName").change(function () {
                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetAreaMngr",
                         data: "{mngr:'" + $("#ddlGroupName").val() + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {

                             var companyInfo = response.d.split(';');
                             var opt = "<option value='-1'>...Select...</option>";
                             for (var i = 1; i < companyInfo.length; i = i + 2) {
                                 var mngrId = companyInfo[i];
                                 var mngrName = companyInfo[i + 1];
                                 opt = opt + "<option value='" + mngrId + "'>" + mngrId + " - " + mngrName + "</option>";
                             }
                             $("#ddlAreaMngr").html('');
                             $("#ddlAreaMngr").append(opt);

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });
                 });

                 $("#ddlAreaMngr").change(function () {
                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetSupervisorByDivisionalMngr",
                         data: "{mngr:'" + $("#ddlAreaMngr").val() + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {

                             var companyInfo = response.d.split(';');
                             var opt = "<option value='-1'>...Select...</option>";
                             for (var i = 1; i < companyInfo.length; i = i + 2) {
                                 var mngrId = companyInfo[i];
                                 var mngrName = companyInfo[i + 1];
                                 opt = opt + "<option value='" + mngrId + "'>" + mngrId + " - " + mngrName + "</option>";
                             }
                             $("#ddlSupervisor").html('');
                             $("#ddlSupervisor").append(opt);

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });
                 });

                 //loadDivision();
                 $.getScript("JS/loadMktgDivision.js");

                 //$.getScript("JS/loadMktgZone.js");
                 $("#ddlRegion").change(function () {
                     var regionId = $("#ddlRegion").val();
                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetZoneInfoByRegion",
                         data: "{regionId:'" + regionId + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {

                             var companyInfo = response.d.split(';');
                             var opt = "<option value='-1'>...Select...</option>";
                             //opt = opt + "<option value='AllZone'>All Zone</option>";
                             for (var i = 1; i < companyInfo.length; i = i + 2) {
                                 var groupId = companyInfo[i];
                                 var groupName = companyInfo[i + 1];
                                 opt = opt + "<option value='" + groupId + "'>" + groupName + "</option>";
                             }
                             $("#ddlZone").html('');
                             $("#ddlZone").append(opt);

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });
                 });

                 //loadAreaMngr();
                 //loadSupervisor();

                 $("#btnSave").click(function () {

                     var srId = $("#txtId").val();
                     var srName = $("#txtName").val();
                     var pwd = $("#txtPassword").val();

                     var Phone = $("#txtPhone").val();
                     var emailAddress = $("#txtEmail").val();
                     var groupId = $("#ddlGroupName").val();
                     var groupName = $("#ddlGroupName option:selected").text();

                     var country = $("#ddlCountry option:selected").text();
                     var division = $("#ddlDivision").val();
                     var region = $("#ddlRegion").val();
                     var regionName = $("#ddlRegion option:selected").text();
                     var zone = $("#ddlZone").val();

                     var mngr = $("#ddlAreaMngr").val();
                     var supervisor = $("#ddlSupervisor").val();
                     var status = $("#ddlSRActive").val();


                     if (srId == "") {
                         alert('Enter SR ID');
                         return;
                     }
                     else if (srName == "") {
                         alert('Enter SR Name');
                         return;
                     }
                     else if (pwd == "") {
                         alert('Enter Password');
                         return;
                     }
                     else if (Phone == "") {
                         alert('Enter Mobile Number');
                         return;
                     }
                     else if (emailAddress == "") {
                         alert('Enter Email Address');
                         return;
                     }
                     else if (country == "...Select...") {
                         alert('Select Country');
                         return;
                     }
                     else if (division == "-1") {
                         alert('Select Division');
                         return;
                     }
                     else if (region == "-1") {
                         alert('Select Region');
                         return;
                     }
                     else if (zone == "-1") {
                         alert('Select Zone');
                         return;
                     }
                     else if (mngr == "...Select...") {
                         alert('Select Area Mngr');
                         return;
                     }
                     else if (supervisor == "...Select...") {
                         alert('Select Supervisor');
                         return;
                     }
                     else if (groupName == "...Select...") {
                         alert('Select Group Name');
                         return;
                     }
                     else if (status == "-1") {
                         alert('Select Activeness');
                         return;
                     }

                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/AddSRInfo",
                         data: "{srId:'" + srId + "',srName:'" + srName + "',pwd:'" + pwd + "',Phone:'" + Phone + "',emailAddress:'" + emailAddress + "',country:'" + country + "',division:'" + division + "',region:'" + region + "',regionName:'" + regionName + "',zone:'" + zone + "',mngr:'" + mngr + "',supervisor:'" + supervisor + "',groupId:'" + groupId + "',groupName:'" + groupName + "',status:'" + status + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {
                             var msg = response.d;

                             alert(msg);

                             $("#txtId").val('');
                             $("#txtName").val('');
                             $("#txtPassword").val('');
                             $("#txtDistId").val('');
                             $("#txtPhone").val('');
                             $("#txtEmail").val('');

                             loadSRInfo();

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });

                 });
             });


             function loadSRInfo() {
                 //--Load grid view---------------------
                 $("#tblData").html("");
                 $("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='images/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                 var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'style='padding-top:10px;'>";
                 var thead = "<thead><tr><th>SR ID</th><th>SR Name</th><th>Password</th><th>Mobile No</th><th>Email Address</th><th>Country</th><th>Division</th><th>Region</th><th>Zone</th><th>Divisional Mngr.</th><th>Supervisor</th><th>Group</th><th>Status</th><th>Operaton</th></tr></thead>";

                 var row = "";
                 var srId = "sr";
                 $.ajax({
                     type: "POST",
                     url: "trademktg.aspx/GetSRInfo",
                     data: "{srId:'" + srId + "'}",
                     contentType: "application/json; charset=utf-8",
                     dataType: "json",
                     async: false,
                     success: function (response) {
                         var SRInfo = response.d.split(';');

                         for (var i = 1; i < SRInfo.length; i = i + 19) {
                             var SR_ID = SRInfo[i];
                             var SR_NAME = SRInfo[i + 1];
                             var SR_PWD = SRInfo[i + 2];
                             var MOBILE_NO = SRInfo[i + 3];
                             var EMAIL_ADDRESS = SRInfo[i + 4];

                             var COUNTRY_NAME = SRInfo[i + 5];
                             var DIVISION_ID = SRInfo[i + 6];
                             var DIVISION_NAME = SRInfo[i + 7];
                             var ZONE_ID = SRInfo[i + 8];
                             var ZONE_NAME = SRInfo[i + 9];

                             var MNGR_ID = SRInfo[i + 10];
                             var MNGR_NAME = SRInfo[i + 11];
                             var SUPERVISOR_ID = SRInfo[i + 12];
                             var SUPERVISOR_NAME = SRInfo[i + 13];

                             var GROUP_NAME = SRInfo[i + 14];
                             var STATUS = SRInfo[i + 15];
                             var GROUP_ID = SRInfo[i + 16];
                             var REGION_ID = SRInfo[i + 17];
                             var REGION_NAME = SRInfo[i + 18];

                             row = row + "<tr style='text-align:left'><td>" + SR_ID + "</td><td>" + SR_NAME + "</td><td>" + SR_PWD + "</td><td>" + MOBILE_NO + "</td><td>" + EMAIL_ADDRESS + "</td><td>" + COUNTRY_NAME + "</td><td>" + DIVISION_NAME + "</td><td>" + REGION_NAME + "</td><td>" + ZONE_NAME + "</td><td>" + MNGR_NAME + "</td><td>" + SUPERVISOR_NAME + "</td><td>" + GROUP_NAME + "</td><td>" + STATUS + "</td><td><div style='float:right;'><button type='button' style='float: right; margin-top: 0px;' class='btn btn-xs btn-success editsrid' id='" + SR_ID + "'><span class ='glyphicon glyphicon-edit'></span>Edit</button></div></td></tr>";
                         }

                         tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";

                         //$("#loader").css("display", "none");
                         $("#tblData").html("");
                         $("#tblData").html(tbl);

                         var table = $('#example').DataTable({
                             lengthChange: true,
                             "scrollX": true,
                             buttons: true
                         });

                         table.buttons().container().insertBefore('#example_filter');


                     },
                     failure: function (response) {
                         alert(response.d);
                     }
                 });


                 $('#tblData').on('click', '.editsrid', function () {

                     var srID = this.id;
                     //alert(srID);

                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetSRInfo",
                         data: "{srId:'" + srID + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {
                             var SRInfo = response.d.split(';');

                             var SR_ID = SRInfo[1];
                             var SR_NAME = SRInfo[2];
                             var SR_PWD = SRInfo[3];
                             var MOBILE_NO = SRInfo[4];
                             var EMAIL_ADDRESS = SRInfo[5];

                             var COUNTRY_NAME = SRInfo[6];
                             var DIVISION_ID = SRInfo[7];
                             var DIVISION_NAME = SRInfo[8];
                             var ZONE_ID = SRInfo[9];
                             var ZONE_NAME = SRInfo[10];

                             var MNGR_ID = SRInfo[11];
                             var MNGR_NAME = SRInfo[12];
                             var SUPERVISOR_ID = SRInfo[13];
                             var SUPERVISOR_NAME = SRInfo[14];

                             var GROUP_NAME = SRInfo[15];
                             var STATUS = SRInfo[16];
                             var GROUP_ID = SRInfo[17];
                             var REGION_ID = SRInfo[18];
                             var REGION_NAME = SRInfo[19];

                             $.ajax({
                                 type: "POST",
                                 url: "trademktg.aspx/GetDivision",
                                 data: "{countryName:'" + COUNTRY_NAME + "',group:'" + GROUP_ID + "'}",
                                 contentType: "application/json; charset=utf-8",
                                 dataType: "json",
                                 async: false,
                                 success: function (response) {

                                     var companyInfo = response.d.split(';');
                                     var opt = "<option value='-1'>...Select...</option>";
                                     //opt = opt + "<option value='AllDivision'>All Division</option>";
                                     for (var i = 1; i < companyInfo.length; i = i + 2) {
                                         var groupId = companyInfo[i];
                                         var groupName = companyInfo[i + 1];
                                         opt = opt + "<option value='" + groupId + "'>" + groupName + "</option>";
                                     }
                                     $("#ddlDivision").html('');
                                     $("#ddlDivision").append(opt);

                                 },
                                 failure: function (response) {
                                     alert(response.d);
                                 }
                             });


                             $.ajax({
                                 type: "POST",
                                 url: "trademktg.aspx/GetRegionByDivision",
                                 data: "{divisionId:'" + DIVISION_ID + "'}",
                                 contentType: "application/json; charset=utf-8",
                                 dataType: "json",
                                 async: false,
                                 success: function (response) {

                                     var companyInfo = response.d.split(';');
                                     var opt = "<option value='-1'>...Select...</option>";
                                     //opt = opt + "<option value='AllDivision'>All Division</option>";
                                     for (var i = 1; i < companyInfo.length; i = i + 2) {
                                         var groupId = companyInfo[i];
                                         var groupName = companyInfo[i + 1];
                                         opt = opt + "<option value='" + groupId + "'>" + groupName + "</option>";
                                     }
                                     $("#ddlRegion").html('');
                                     $("#ddlRegion").append(opt);

                                 },
                                 failure: function (response) {
                                     alert(response.d);
                                 }
                             });

                             $.ajax({
                                 type: "POST",
                                 url: "trademktg.aspx/GetAllZone",
                                 data: "{regionId:'" + REGION_ID + "'}",
                                 contentType: "application/json; charset=utf-8",
                                 dataType: "json",
                                 async: false,
                                 success: function (response) {

                                     var companyInfo = response.d.split(';');
                                     var opt = "<option value='-1'>...Select...</option>";
                                     for (var i = 1; i < companyInfo.length; i = i + 2) {
                                         var groupId = companyInfo[i];
                                         var groupName = companyInfo[i + 1];
                                         opt = opt + "<option value='" + groupId + "'>" + groupName + "</option>";
                                     }
                                     $("#ddlZone").html('');
                                     $("#ddlZone").append(opt);

                                 },
                                 failure: function (response) {
                                     alert(response.d);
                                 }
                             });


                             var mngr = "mngr";
                             $.ajax({
                                 type: "POST",
                                 url: "trademktg.aspx/GetAreaMngr",
                                 data: "{mngr:'" + mngr + "'}",
                                 contentType: "application/json; charset=utf-8",
                                 dataType: "json",
                                 async: false,
                                 success: function (response) {

                                     var companyInfo = response.d.split(';');
                                     var opt = "<option value='-1'>...Select...</option>";
                                     for (var i = 1; i < companyInfo.length; i = i + 2) {
                                         var mngrId = companyInfo[i];
                                         var mngrName = companyInfo[i + 1];
                                         opt = opt + "<option value='" + mngrId + "'>" + mngrName + "</option>";
                                     }
                                     $("#ddlAreaMngr").html('');
                                     $("#ddlAreaMngr").append(opt);

                                 },
                                 failure: function (response) {
                                     alert(response.d);
                                 }
                             });


                             var mngr = "mngr";
                             $.ajax({
                                 type: "POST",
                                 url: "trademktg.aspx/GetSupervisor",
                                 data: "{mngr:'" + mngr + "'}",
                                 contentType: "application/json; charset=utf-8",
                                 dataType: "json",
                                 async: false,
                                 success: function (response) {

                                     var companyInfo = response.d.split(';');
                                     var opt = "<option value='-1'>...Select...</option>";
                                     for (var i = 1; i < companyInfo.length; i = i + 2) {
                                         var mngrId = companyInfo[i];
                                         var mngrName = companyInfo[i + 1];
                                         opt = opt + "<option value='" + mngrId + "'>" + mngrName + "</option>";
                                     }
                                     $("#ddlSupervisor").html('');
                                     $("#ddlSupervisor").append(opt);

                                 },
                                 failure: function (response) {
                                     alert(response.d);
                                 }
                             });




                             $("#txtId").val(SR_ID);
                             $("#txtName").val(SR_NAME);
                             $("#txtPassword").val(SR_PWD);
                             $("#txtPhone").val(MOBILE_NO);
                             $("#txtEmail").val(EMAIL_ADDRESS);

                             $("#ddlCountry").val(COUNTRY_NAME);
                             $("#ddlDivision").val(DIVISION_ID);
                             $("#ddlRegion").val(REGION_ID);
                             $("#ddlZone").val(ZONE_ID);


                             $("#ddlGroupName").val(GROUP_ID);

                             $("#ddlAreaMngr").val(MNGR_ID);
                             $("#ddlSupervisor").val(SUPERVISOR_ID);


                             $("#ddlSRActive").val(STATUS);

                             //var table = $('#example').DataTable({
                             //    lengthChange: true,
                             //    "scrollX": true,
                             //    buttons: true
                             //});

                             //table.buttons().container().insertBefore('#example_filter');


                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });

                 });

                 //--end grid view panel---------------------------------------------------
             }


             $("#lnkAddRoute").click(function (e) {
                 e.preventDefault();

                 $.getScript("JS/mktgRouteInfo.js");

                 //$("html, body").animate({ scrollTop: $(document).height() - 20 }, "slow");
                 $('#dvMiddleContent').html('');
                 $('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>Route Information Entry panel</span></div><div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'><table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +
                     "<tr><td>Route ID :</td><td><input type='text' id='txtRouteId' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +
                     "<tr><td>Route Name :</td><td><input type='text' id='txtRouteName' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                     "<tr><td>Country Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlCountry' name='ddlCountry'><option value='-1'>...Select...</option><option value='Bangladesh'>Bangladesh</option><option value='India'>India</option><option value='Nepal'>Nepal</option><option value='Malaysia'>Malaysia</option><option value='Oman'>Oman</option><option value='UAE'>UAE</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                     "<tr><td>Division Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDivision' name='ddlCountry'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                     "<tr><td>Region Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlRegion' name='ddlRegion'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                     "<tr><td>Zone :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlZone' name='ddlZone'></select></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Active :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlRouteActive' name='ddlRouteActive'><option value='-1'>...Select...</option><option value='Y'>Yes</option><option value='N'>No</option></select></td><td></td></tr><tr><td></td><td style='text-align:right;'> <button type='button' id='btnSave' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Save</button></td></tr></table></div>");

                 $("#txtRouteName").focus();
                 $("#txtRouteId").attr("disabled", "disabled");

                 //loadDivision();
                 //$.getScript("JS/loadMktgDivision.js");
                 $("#ddlCountry").change(function () {
                     var countryName = $("#ddlCountry option:selected").text();
                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetDivisionByCountry",
                         data: "{countryName:'" + countryName + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {

                             var companyInfo = response.d.split(';');
                             var opt = "<option value='-1'>...Select...</option>";
                             //opt = opt + "<option value='AllDivision'>All Division</option>";
                             for (var i = 1; i < companyInfo.length; i = i + 2) {
                                 var groupId = companyInfo[i];
                                 var groupName = companyInfo[i + 1];
                                 opt = opt + "<option value='" + groupId + "'>" + groupName + "</option>";
                             }
                             $("#ddlDivision").html('');
                             $("#ddlDivision").append(opt);

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });
                 });

                 $("#ddlDivision").change(function () {
                     $.getScript("JS/loadMKTGregionByDivision.js");
                 });

                 //loadZone();
                 //$.getScript("JS/loadMktgZone.js");
                 $("#ddlRegion").change(function () {
                     var regionId = $("#ddlRegion").val();
                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetZoneInfoByRegion",
                         data: "{regionId:'" + regionId + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {

                             var companyInfo = response.d.split(';');
                             var opt = "<option value='-1'>...Select...</option>";
                             //opt = opt + "<option value='AllZone'>All Zone</option>";
                             for (var i = 1; i < companyInfo.length; i = i + 2) {
                                 var groupId = companyInfo[i];
                                 var groupName = companyInfo[i + 1];
                                 opt = opt + "<option value='" + groupId + "'>" + groupName + "</option>";
                             }
                             $("#ddlZone").html('');
                             $("#ddlZone").append(opt);

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });
                 });

                 $("#btnSave").click(function () {
                     var routeId = $("#txtRouteId").val();
                     var rmName = $("#txtRouteName").val();
                     var country = $("#ddlCountry option:selected").text();
                     var division = $("#ddlDivision").val();
                     var regionId = $("#ddlRegion").val();
                     var regionName = $("#ddlRegion option:selected").text();
                     var zone = $("#ddlZone").val();
                     var status = $("#ddlRouteActive").val();

                     if (rmName == "") {
                         alert('Enter Route Name');
                         return;
                     }
                     else if (country == "...Select...") {
                         alert('Select Country');
                         return;
                     }
                     else if (division == "-1") {
                         alert('Select Division');
                         return;
                     } else if (regionId == "-1") {
                         alert('Select Region');
                         return;
                     }
                     else if (zone == "-1") {
                         alert('Select Zone');
                         return;
                     }
                     else if (status == "-1") {
                         alert('Select Activeness');
                         return;
                     }

                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/AddRouteInfo",
                         data: "{routeId:'" + routeId + "',rmName:'" + rmName + "',country:'" + country + "',division:'" + division + "',zone:'" + zone + "',status:'" + status + "',regionId:'" + regionId + "',regionName:'" + regionName + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {
                             var msg = response.d;

                             alert(msg);

                             //$("#txtRouteId").val('');
                             $("#txtRouteName").val('');

                             $.getScript("JS/mktgRouteInfo.js");

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });

                 });
             });

             $("#lnkSRRouteDay").click(function (e) {
                 e.preventDefault();

                 $("#tblData").html("");

                 //$("html, body").animate({ scrollTop: $(document).height() - 20 }, "slow");
                 $('#dvMiddleContent').html('');
                 $('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>SR Route Day Information Entry panel</span></div>" +
                                    "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'><table style='padding-top:10px;padding-bottom: 10px;padding-left:18%'><tr><td>SR ID :</td><td><input type='text' id='txtSRId' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Country Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlCountry' name='ddlCountry'><option value='-1'>...Select...</option><option value='BD'>Bangladesh</option><option value='IND'>India</option><option value='NPL'>Nepal</option><option value='ML'>Malaysia</option><option value='OM'>Oman</option><option value='UAE'>UAE</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Division Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDivision' name='ddlDivision'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Region Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlRegion' name='ddlRegion'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Zone :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlZone' name='ddlZone'></select></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td></td><td style='text-align:right;'> <button type='button' id='btnRouteSearch' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Search</button> </td></tr><tr><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDay1' name='ddlDay1'><option value='-1'>...Select...</option><option value='Saturday'>Saturday</option><option value='Sunday'>Sunday</option><option value='Monday'>Monday</option><option value='Tuesday'>Tuesday</option><option value='Wednesday'>Wednesday</option><option value='Thrusday'>Thrusday</option><option value='Friday'>Friday</option></select></td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlRoute1' name='ddlRoute1'></select></td><td></td></tr><tr><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDay2' name='ddlDay2'><option value='-1'>...Select...</option><option value='Saturday'>Saturday</option><option value='Sunday'>Sunday</option><option value='Monday'>Monday</option><option value='Tuesday'>Tuesday</option><option value='Wednesday'>Wednesday</option><option value='Thrusday'>Thrusday</option><option value='Friday'>Friday</option></select></td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlRoute2' name='ddlRoute2'></select></td><td></td></tr><tr><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDay3' name='ddlDay3'><option value='-1'>...Select...</option><option value='Saturday'>Saturday</option><option value='Sunday'>Sunday</option><option value='Monday'>Monday</option><option value='Tuesday'>Tuesday</option><option value='Wednesday'>Wednesday</option><option value='Thrusday'>Thrusday</option><option value='Friday'>Friday</option></select></td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlRoute3' name='ddlRoute3'></select></td><td></td></tr><tr><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDay4' name='ddlDay4'><option value='-1'>...Select...</option><option value='Saturday'>Saturday</option><option value='Sunday'>Sunday</option><option value='Monday'>Monday</option><option value='Tuesday'>Tuesday</option><option value='Wednesday'>Wednesday</option><option value='Thrusday'>Thrusday</option><option value='Friday'>Friday</option></select></td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlRoute4' name='ddlRoute4'></select></td><td></td></tr><tr><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDay5' name='ddlDay5'><option value='-1'>...Select...</option><option value='Saturday'>Saturday</option><option value='Sunday'>Sunday</option><option value='Monday'>Monday</option><option value='Tuesday'>Tuesday</option><option value='Wednesday'>Wednesday</option><option value='Thrusday'>Thrusday</option><option value='Friday'>Friday</option></select></td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlRoute5' name='ddlRoute5'></select></td><td></td></tr><tr><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDay6' name='ddlDay6'><option value='-1'>...Select...</option><option value='Saturday'>Saturday</option><option value='Sunday'>Sunday</option><option value='Monday'>Monday</option><option value='Tuesday'>Tuesday</option><option value='Wednesday'>Wednesday</option><option value='Thrusday'>Thrusday</option><option value='Friday'>Friday</option></select></td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlRoute6' name='ddlRoute6'></select></td><td></td></tr><tr><td></td><td style='text-align:right;'> <button type='button' id='btnSave' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Save</button> </td></tr></table></div>");

                 $("#txtRouteId").focus();

                 //loadDivision();
                 $("#ddlCountry").change(function () {
                     var countryName = $("#ddlCountry option:selected").text();
                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetDivisionByCountry",
                         data: "{countryName:'" + countryName + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {

                             var companyInfo = response.d.split(';');
                             var opt = "<option value='-1'>...Select...</option>";
                             //opt = opt + "<option value='AllDivision'>All Division</option>";
                             for (var i = 1; i < companyInfo.length; i = i + 2) {
                                 var groupId = companyInfo[i];
                                 var groupName = companyInfo[i + 1];
                                 opt = opt + "<option value='" + groupId + "'>" + groupName + "</option>";
                             }
                             $("#ddlDivision").html('');
                             $("#ddlDivision").append(opt);

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });
                 });


                 $("#ddlDivision").change(function () {
                     $.getScript("JS/loadMKTGregionByDivision.js");
                 });

                 //loadZone();
                 //$.getScript("JS/loadMktgZone.js");
                 $("#ddlRegion").change(function () {
                     var regionId = $("#ddlRegion").val();
                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetZoneInfoByRegion",
                         data: "{regionId:'" + regionId + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {

                             var companyInfo = response.d.split(';');
                             var opt = "<option value='-1'>...Select...</option>";
                             //opt = opt + "<option value='AllZone'>All Zone</option>";
                             for (var i = 1; i < companyInfo.length; i = i + 2) {
                                 var groupId = companyInfo[i];
                                 var groupName = companyInfo[i + 1];
                                 opt = opt + "<option value='" + groupId + "'>" + groupName + "</option>";
                             }
                             $("#ddlZone").html('');
                             $("#ddlZone").append(opt);

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });
                 });

                 $("#ddlZone").change(function () {

                     var srId = $("#txtSRId").val();
                     var country = $("#ddlCountry option:selected").text();
                     var division = $("#ddlDivision").val();
                     var zone = $("#ddlZone").val();

                     if (country == "...Select...") {
                         alert('Select Country');
                         return;
                     }
                     else if (division == "...Select...") {
                         alert('Select Division');
                         return;
                     }
                     else if (zone == "...Select...") {
                         alert('Select Zone');
                         return;
                     }

                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetSRRoute",
                         data: "{country:'" + country + "',division:'" + division + "',zone:'" + zone + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {

                             var routeInfo = response.d.split(';');
                             var opt = "<option value='-1'>...Select...</option>";
                             for (var i = 1; i < routeInfo.length; i = i + 2) {
                                 var routeId = routeInfo[i];
                                 var routeName = routeInfo[i + 1];
                                 opt = opt + "<option value='" + routeId + "'>" + routeName + "</option>";
                             }

                             $("#ddlRoute1").html('');
                             $("#ddlRoute1").append(opt);

                             $("#ddlRoute2").html('');
                             $("#ddlRoute2").append(opt);

                             $("#ddlRoute3").html('');
                             $("#ddlRoute3").append(opt);

                             $("#ddlRoute4").html('');
                             $("#ddlRoute4").append(opt);

                             $("#ddlRoute5").html('');
                             $("#ddlRoute5").append(opt);

                             $("#ddlRoute6").html('');
                             $("#ddlRoute6").append(opt);

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });

                 });

                 $("#btnRouteSearch").click(function () {

                     var srId = $("#txtSRId").val();
                     var country = $("#ddlCountry option:selected").text();
                     var division = $("#ddlDivision").val();
                     var zone = $("#ddlZone").val();

                     if (srId == "") {
                         alert('Enter SR ID');
                         return;
                     }
                     else if (country == "...Select...") {
                         alert('Select Country');
                         return;
                     }
                     else if (division == "...Select...") {
                         alert('Select Division');
                         return;
                     }
                     else if (zone == "...Select...") {
                         alert('Select Zone');
                         return;
                     }

                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetSRAssingedRoute",
                         data: "{srId:'" + srId + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {
                             var id = 1;
                             var routeInfo = response.d.split(';');
                             var opt = "<option value='-1'>...Select...</option>";
                             for (var i = 1; i < routeInfo.length; i = i + 2) {
                                 var dayName = routeInfo[i];
                                 var routeId = routeInfo[i + 1];
                                 $("#ddlDay" + id + "").val(dayName);
                                 $("#ddlRoute" + id + "").val(routeId);
                                 id++;
                             }

                             //var country = $("#ddlDay1 option:selected").text();

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });

                 });


                 $("#btnSave").click(function () {

                     var srId = $("#txtSRId").val();
                     var countryName = $("#ddlCountry option:selected").text();
                     var divisionName = $("#ddlDivision").val();
                     var zoneId = $("#ddlZone").val();

                     var day1 = $("#ddlDay1").val();
                     var day2 = $("#ddlDay2").val();
                     var day3 = $("#ddlDay3").val();
                     var day4 = $("#ddlDay4").val();
                     var day5 = $("#ddlDay5").val();
                     var day6 = $("#ddlDay6").val();

                     var route1 = $("#ddlRoute1 option:selected").text();
                     var route2 = $("#ddlRoute2 option:selected").text();
                     var route3 = $("#ddlRoute3 option:selected").text();
                     var route4 = $("#ddlRoute4 option:selected").text();
                     var route5 = $("#ddlRoute5 option:selected").text();
                     var route6 = $("#ddlRoute6 option:selected").text();

                     var route1Id = $("#ddlRoute1").val();
                     var route2Id = $("#ddlRoute2").val();
                     var route3Id = $("#ddlRoute3").val();
                     var route4Id = $("#ddlRoute4").val();
                     var route5Id = $("#ddlRoute5").val();
                     var route6Id = $("#ddlRoute6").val();

                     if (srId == "") {
                         alert('Enter SR ID');
                         return;
                     }
                     else if (countryName == "...Select...") {
                         alert('Select Country');
                         return;
                     }
                     else if (divisionName == "...Select...") {
                         alert('Select Division');
                         return;
                     }
                     else if (zoneId == "...Select...") {
                         alert('Select Zone');
                         return;
                     }
                     else if (day1 == "...Select...") {
                         alert('Select Day1');
                         return;
                     }
                     else if (day2 == "...Select...") {
                         alert('Select Day2');
                         return;
                     }
                     else if (day3 == "...Select...") {
                         alert('Select Day3');
                         return;
                     }
                     else if (day4 == "...Select...") {
                         alert('Select Day4');
                         return;
                     }
                     else if (day5 == "...Select...") {
                         alert('Select Day5');
                         return;
                     }
                     else if (day6 == "...Select...") {
                         alert('Select Day6');
                         return;
                     }
                     else if (route1 == "...Select...") {
                         alert('Select Route1');
                         return;
                     }
                     else if (route2 == "...Select...") {
                         alert('Select Route2');
                         return;
                     }
                     else if (route3 == "...Select...") {
                         alert('Select Route3');
                         return;
                     }
                     else if (route4 == "...Select...") {
                         alert('Select Route4');
                         return;
                     }
                     else if (route5 == "...Select...") {
                         alert('Select Route5');
                         return;
                     }
                     else if (route6 == "...Select...") {
                         alert('Select Route6');
                         return;
                     }

                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/AddSRRouteDayInfo",
                         data: "{srId:'" + srId + "',country:'" + countryName + "',division:'" + divisionName + "',zone:'" + zoneId + "',day1:'" + day1 + "',day2:'" + day2 + "',day3:'" + day3 + "',day4:'" + day4 + "',day5:'" + day5 + "',day6:'" + day6 + "',route1:'" + route1 + "',route2:'" + route2 + "',route3:'" + route3 + "',route4:'" + route4 + "',route5:'" + route5 + "',route6:'" + route6 + "',route1Id:'" + route1Id + "',route2Id:'" + route2Id + "',route3Id:'" + route3Id + "',route4Id:'" + route4Id + "',route5Id:'" + route5Id + "',route6Id:'" + route6Id + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {
                             var msg = response.d;

                             alert(msg);

                             $("#txtSRId").val('');

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });

                 });
             });


             $("#lnkAddOutlet").click(function (e) {
                 e.preventDefault();

                 $("#tblData").html("");
                 //$.getScript("JS/outletInfo.js");

                 //$("html, body").animate({ scrollTop: $(document).height() - 20 }, "slow");
                 $('#dvMiddleContent').html('');
                 $('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>Outlet Information Entry panel</span></div>" +
                                    "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'><table style='padding-top:10px;padding-bottom: 10px;padding-left:21%'><tr><td>Outlet ID :</td><td><input type='text' id='txtOutletID' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr><tr><td>Outlet Name :</td><td><input type='text' id='txtOutletName' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Outlet Name(Bengali) :</td><td><input type='text' id='txtOutletNameBangla' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Address :</td><td><input type='text' id='txtOutletAddress' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Address(Bengali) :</td><td><input type='text' id='txtOutletAddressBangla' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Propritor Name :</td><td><input type='text' id='txtPropritorName' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Propritor Name(Bengali) :</td><td><input type='text' id='txtPropritorNameBangla' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Mobile Number :</td><td><input type='text' id='txtOutletPhone' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Email Address :</td><td><input type='text' id='txtOutletEmailAddress' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Country Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlCountry' name='ddlCountry'><option value='-1'>...Select...</option><option value='Bangladesh'>Bangladesh</option><option value='India'>India</option><option value='Nepal'>Nepal</option><option value='Malaysia'>Malaysia</option><option value='Oman'>Oman</option><option value='UAE'>UAE</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Division Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDivision' name='ddlDivision'></select></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Region Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlRegion' name='ddlRegion'></select></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Zone :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlZone' name='ddlZone'></select></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Route :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlRoute' name='ddlRoute'></select></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Category :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlCategory' name='ddlCategory'><option value='-1'>...Select...</option><option value='Grocery'>Grocery</option><option value='General Store'>General Store</option><option value='Confectionary'>Confectionary</option><option value='Pharmacy'>Pharmacy</option><option value='Horeca'>Horeca</option><option value='Tong'>Tong</option><option value='Others'>Others</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Grade :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlGrade' name='ddlGrade'><option value='-1'>...Select...</option><option value='A'>A</option><option value='B'>B</option><option value='C'>C</option><option value='D'>D</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Fridge :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlFridge' name='ddlFridge'><option value='-1'>...Select...</option><option value='Yes'>Yes</option><option value='No'>No</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Signboard :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlSignboard' name='ddlSignboard'><option value='-1'>...Select...</option><option value='Yes'>Yes</option><option value='No'>No</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Unit/Rack :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlRack' name='ddlRack'><option value='-1'>...Select...</option><option value='Yes'>Yes</option><option value='No'>No</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Product Name :</td><td><input type='text' id='txtProduct' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td>Status :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlStatus' name='ddlStatus'><option value='-1'>...Select...</option><option value='Y'>Yes</option><option value='N'>No</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr><tr><td></td><td style='text-align:right;'> <button type='button' id='btnSave' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Save</button> </td></tr></table></div>");

                 $("#txtOutletName").focus();
                 $("#txtOutletID").attr("disabled", "disabled");

                 //loadDivision();
                 $("#ddlCountry").change(function () {
                     var countryName = $("#ddlCountry option:selected").text();
                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetDivisionByCountry",
                         data: "{countryName:'" + countryName + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {

                             var companyInfo = response.d.split(';');
                             var opt = "<option value='-1'>...Select...</option>";
                             //opt = opt + "<option value='AllDivision'>All Division</option>";
                             for (var i = 1; i < companyInfo.length; i = i + 2) {
                                 var groupId = companyInfo[i];
                                 var groupName = companyInfo[i + 1];
                                 opt = opt + "<option value='" + groupId + "'>" + groupName + "</option>";
                             }
                             $("#ddlDivision").html('');
                             $("#ddlDivision").append(opt);

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });
                 });

                 $("#ddlDivision").change(function () {
                     $.getScript("JS/loadMKTGregionByDivision.js");
                 });

                 //loadZone();
                 //$.getScript("JS/loadMktgZone.js");
                 $("#ddlRegion").change(function () {
                     var regionId = $("#ddlRegion").val();
                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetZoneInfoByRegion",
                         data: "{regionId:'" + regionId + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {

                             var companyInfo = response.d.split(';');
                             var opt = "<option value='-1'>...Select...</option>";
                             //opt = opt + "<option value='AllZone'>All Zone</option>";
                             for (var i = 1; i < companyInfo.length; i = i + 2) {
                                 var groupId = companyInfo[i];
                                 var groupName = companyInfo[i + 1];
                                 opt = opt + "<option value='" + groupId + "'>" + groupName + "</option>";
                             }
                             $("#ddlZone").html('');
                             $("#ddlZone").append(opt);

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });
                 });

                 $("#ddlZone").change(function () {
                     var zoneId = $("#ddlZone").val();
                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetRoute",
                         data: "{zoneId:'" + zoneId + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {

                             var routeInfo = response.d.split(';');
                             var opt = "<option value='-1'>...Select...</option>";
                             for (var i = 1; i < routeInfo.length; i = i + 2) {
                                 var routeId = routeInfo[i];
                                 var routeName = routeInfo[i + 1];
                                 opt = opt + "<option value='" + routeId + "'>" + routeName + "</option>";
                             }
                             $("#ddlRoute").html('');
                             $("#ddlRoute").append(opt);

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });
                 });


                 $("#ddlRoute").change(function () {
                     loadRouteWiseOutlet();
                 });



                 $("#btnSave").click(function () {

                     var outletId = $("#txtOutletID").val();
                     var outletName = $("#txtOutletName").val();
                     var outletAddress = $("#txtOutletAddress").val();
                     var outletPropritorName = $("#txtPropritorName").val();

                     var outletNameBangla = $("#txtOutletNameBangla").val();
                     var outletAddressBangla = $("#txtOutletAddressBangla").val();
                     var outletPropritorNameBangla = $("#txtPropritorNameBangla").val();

                     var outletPhone = $("#txtOutletPhone").val();
                     var outletEmailAddress = $("#txtOutletEmailAddress").val();

                     var country = $("#ddlCountry").val();
                     var division = $("#ddlDivision").val();
                     var zone = $("#ddlZone").val();
                     var route = $("#ddlRoute").val();

                     var category = $("#ddlCategory").val();
                     var grade = $("#ddlGrade").val();

                     var fridge = $("#ddlFridge").val();
                     var signboard = $("#ddlSignboard").val();
                     var rack = $("#ddlRack").val();
                     var status = $("#ddlStatus").val();

                     if (outletName == "") {
                         alert('Enter Outlet Name');
                         return;
                     }
                     if (outletAddress == "") {
                         alert('Enter Outlet Address');
                         return;
                     }
                     if (outletPropritorName == "") {
                         alert('Enter Outlet Propritor Name');
                         return;
                     }
                     if (outletPhone == "") {
                         alert('Enter Outlet Phone number');
                         return;
                     }
                     else if (country == "...Select...") {
                         alert('Select Country');
                         return;
                     }
                     else if (division == "...Select...") {
                         alert('Select Division');
                         return;
                     }
                     else if (zone == "...Select...") {
                         alert('Select Zone');
                         return;
                     }
                     else if (route == "...Select...") {
                         alert('Select Route');
                         return;
                     }
                     else if (category == "...Select...") {
                         alert('Select Category');
                         return;
                     }
                     else if (grade == "...Select...") {
                         alert('Select Grade');
                         return;
                     }
                     else if (fridge == "...Select...") {
                         alert('Select Fridge Option');
                         return;
                     }
                     else if (signboard == "...Select...") {
                         alert('Select Signboard Option');
                         return;
                     }
                     else if (rack == "...Select...") {
                         alert('Select Rack Option');
                         return;
                     }
                     else if (status == "-1") {
                         alert('Select Status');
                         return;
                     }

                     var product = $("#txtProduct").val();
                     if (rack == "Yes" && product.length < 1) {
                         alert('Enter Product');
                         return;
                     }

                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/AddOutletInfo",
                         data: "{outletId:'" + outletId + "',outletName:'" + outletName + "',outletAddress:'" + outletAddress + "',outletPropritorName:'" + outletPropritorName + "',outletNameBangla:'" + outletNameBangla + "',outletAddressBangla:'" + outletAddressBangla + "',outletPropritorNameBangla:'" + outletPropritorNameBangla + "',outletPhone:'" + outletPhone + "',outletEmailAddress:'" + outletEmailAddress + "',country:'" + country + "',division:'" + division + "',zone:'" + zone + "',route:'" + route + "',fridge:'" + fridge + "',signboard:'" + signboard + "',rack:'" + rack + "',category:'" + category + "',grade:'" + grade + "',status:'" + status + "',product:'" + product + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {
                             var msg = response.d;

                             alert(msg);

                             $("#txtOutletName").val('');
                             $("#txtOutletAddress").val('');
                             $("#txtPropritorName").val('');
                             $("#txtOutletPhone").val('');
                             $("#txtOutletEmailAddress").val('');

                             $("#txtOutletNameBangla").val('');
                             $("#txtOutletAddressBangla").val('');
                             $("#txtPropritorNameBangla").val('');
                             $("#txtProduct").val('');

                             //$.getScript("JS/outletInfo.js");
                             loadRouteWiseOutlet();

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });

                 });
             });


             function loadRouteWiseOutlet() {
                 var routeId = $("#ddlRoute").val();

                 $("#tblData").html("");
                 $("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='images/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                 var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'style='padding-top:10px;'>";
                 var thead = "<thead><tr><th>Outlet ID</th><th>Outlet Name</th><th>Outlet Address</th><th>Propritor Name</th><th>Phone Number</th><th>Email Address</th><th>Country</th><th>Division</th><th>Zone</th><th>Route</th><th>Category</th><th>Grade</th><th>Fridge</th><th>Signboard</th><th>Rack/Unit</th><th>Products</th><th>Status</th><th>Operaton</th></tr></thead>";

                 var row = "";
                 var outlet = "outlet";
                 $.ajax({
                     type: "POST",
                     url: "trademktg.aspx/GetRouteWiseOutlet",
                     data: "{routeId:'" + routeId + "'}",
                     contentType: "application/json; charset=utf-8",
                     dataType: "json",
                     async: false,
                     success: function (response) {
                         var outletInfo = response.d.split(';');

                         for (var i = 1; i < outletInfo.length; i = i + 20) {
                             var outletId = outletInfo[i];
                             var outletName = outletInfo[i + 1];
                             var address = outletInfo[i + 2];
                             var propritorName = outletInfo[i + 3];
                             var phone = outletInfo[i + 4];
                             var email = outletInfo[i + 5];

                             var country = outletInfo[i + 6];
                             var divisionId = outletInfo[i + 7];
                             var divisionName = outletInfo[i + 8];
                             var zoneId = outletInfo[i + 9];
                             var zoneName = outletInfo[i + 10];
                             var routeId = outletInfo[i + 11];
                             var routeName = outletInfo[i + 12];

                             var fride = outletInfo[i + 13];
                             var signboard = outletInfo[i + 14];
                             var rack = outletInfo[i + 15];

                             var category = outletInfo[i + 16];
                             var grade = outletInfo[i + 17];
                             var status = outletInfo[i + 18];
                             var products = outletInfo[i + 19];

                             row = row + "<tr style='text-align:left'><td>" + outletId + "</td><td>" + outletName + "</td><td>" + address + "</td><td>" + propritorName + "</td><td>" + phone + "</td><td>" + email + "</td><td>" + country + "</td><td>" + divisionName + "</td><td>" + zoneName + "</td><td>" + routeName + "</td><td>" + category + "</td><td>" + grade + "</td><td>" + fride + "</td><td>" + signboard + "</td><td>" + rack + "</td><td>" + products + "</td><td>" + status + "</td><td><div style='float:right;'><button type='button' style='float: right; margin-top: 0px;' class='btn btn-xs btn-success editoutletid' id='" + outletId + "'><span class ='glyphicon glyphicon-edit'></span>Edit</button></div></td></tr>";
                         }

                         tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";

                         //$("#loader").css("display", "none");
                         $("#tblData").html("");
                         $("#tblData").html(tbl);

                         var table = $('#example').DataTable({
                             lengthChange: true,
                             "scrollX": true,
                             buttons: true
                         });

                         table.buttons().container().insertBefore('#example_filter');

                         $.getScript("JS/editSpecificMktgOutlet.js");
                     },
                     failure: function (response) {
                         alert(response.d);
                     }
                 });
             }


             $("#lnkTarget").click(function (e) {
                 e.preventDefault();

                 $("#tblData").html("");
                 $.getScript("JS/srMktgTarget.js");

                 //$("html, body").animate({ scrollTop: $(document).height() - 20 }, "slow");
                 $('#dvMiddleContent').html('');
                 $('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>Target Set Entry Panel</span></div>" +
                                    "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'>" +
                                    "<table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +


                                    "<tr><td>Group :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlGroupName' name='ddlGroupName'></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                    "<tr><td>Country Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlCountry' name='ddlCountry'>" +
                                    "<option value='-1'>...Select...</option><option value='Bangladesh'>Bangladesh</option><option value='India'>India</option><option value='Nepal'>Nepal</option><option value='Malaysia'>Malaysia</option><option value='Oman'>Oman</option><option value='UAE'>UAE</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Division Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDivision' name='ddlDivision'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Region :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlRegion' name='ddlRegion'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Zone :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlZone' name='ddlZone'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    
                                    "<tr><td>Operation Mngr. :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlOperationMngr' name='ddlOperationMngr'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Area Mngr. :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlAreaMngr' name='ddlAreaMngr'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Supervisor :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlSupervisor' name='ddlSupervisor'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Merchandiser :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlMerchandiser' name='ddlMerchandiser'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    
                                    "<tr><td>Target Amount :</td><td><input type='text' id='txtTargetAmount' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Operating Cost :</td><td><input type='text' id='txtOperatingCost' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>POP Cost :</td><td><input type='text' id='txtPOPCost' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Promo Cost :</td><td><input type='text' id='txtPromoCost' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                    "<tr><td>Month :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlMonth' name='ddlMonth'><option value='-1'>...Select...</option><option value='January'>January</option><option value='February'>February</option><option value='March'>March</option><option value='April'>April</option><option value='May'>May</option><option value='June'>June</option><option value='July'>July</option><option value='August'>August</option><option value='September'>September</option><option value='October'>October</option><option value='November'>November</option><option value='December'>December</option></select></td><td></td></tr>" +
                                    "<tr><td>Year :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlYear' name='ddlYear'><option value='-1'>...Select...</option><option value='2016'>2016</option><option value='2017'>2017</option><option value='2018'>2018</option><option value='2020'>2020</option><option value='2021'>2021</option><option value='2022'>2022</option><option value='2023'>2023</option><option value='2024'>2024</option><option value='2025'>2025</option><option value='2026'>2026</option><option value='2027'>2027</option><option value='2028'>2028</option><option value='2029'>2029</option><option value='2030'>2030</option></select></td><td></td></tr>" +
                                    "<tr><td></td><td style='text-align:right;'> <button type='button' id='btnSave' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Save</button></td></tr></table></div>");

                

                 $.getScript("JS/loadMKTGallGroup.js");

                 $("#ddlGroupName").change(function () {
                     var groupId = $("#ddlGroupName").val();                     
                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetGroupWiseOperationManager",
                         data: "{groupId:'" + groupId + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {
                             var mngrInfo = response.d.split(';');
                             var opt = "<option value='-1'>...Select...</option>";
                             for (var i = 1; i < mngrInfo.length; i = i + 2) {
                                 var mngrId = mngrInfo[i];
                                 var mngrName = mngrInfo[i + 1];
                                 opt = opt + "<option value='" + mngrId + "'>" + mngrId + "-" + mngrName + "</option>";
                             }
                             $("#ddlOperationMngr").html('');
                             $("#ddlOperationMngr").append(opt);

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });
                 });

                 $("#ddlOperationMngr").change(function () {
                     var opmId = $("#ddlOperationMngr").val();
                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetAreaMngrByOptMngr",
                         data: "{opmId:'" + opmId + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {

                             var mngrInfo = response.d.split(';');
                             var opt = "<option value='-1'>...Select...</option>";
                             for (var i = 1; i < mngrInfo.length; i = i + 2) {
                                 var mngrId = mngrInfo[i];
                                 var mngrName = mngrInfo[i + 1];
                                 opt = opt + "<option value='" + mngrId + "'>" + mngrId + "-" + mngrName + "</option>";
                             }
                             $("#ddlAreaMngr").html('');
                             $("#ddlAreaMngr").append(opt);

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });
                 });

                 $("#ddlAreaMngr").change(function () {
                     var areaMngrId = $("#ddlAreaMngr").val();
                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetSupervisorByAreaMngr",
                         data: "{areaMngrId:'" + areaMngrId + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {

                             var mngrInfo = response.d.split(';');
                             var opt = "<option value='-1'>...Select...</option>";
                             for (var i = 1; i < mngrInfo.length; i = i + 2) {
                                 var mngrId = mngrInfo[i];
                                 var mngrName = mngrInfo[i + 1];
                                 opt = opt + "<option value='" + mngrId + "'>" + mngrId + "-" + mngrName + "</option>";
                             }
                             $("#ddlSupervisor").html('');
                             $("#ddlSupervisor").append(opt);

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });
                 });

                 $("#ddlSupervisor").change(function () {
                     var superId = $("#ddlSupervisor").val();
                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetMarchandiserBySupervisor",
                         data: "{superId:'" + superId + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {

                             var mngrInfo = response.d.split(';');
                             var opt = "<option value='-1'>...Select...</option>";
                             for (var i = 1; i < mngrInfo.length; i = i + 2) {
                                 var mngrId = mngrInfo[i];
                                 var mngrName = mngrInfo[i + 1];
                                 opt = opt + "<option value='" + mngrId + "'>" + mngrId + "-" + mngrName + "</option>";
                             }
                             $("#ddlMerchandiser").html('');
                             $("#ddlMerchandiser").append(opt);

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });
                 });

                 $.getScript("JS/loadMktgDivision.js");


                 $("#ddlDivision").change(function () {
                     $.getScript("JS/loadMKTGregionByDivision.js");
                 });

                 //loadZone();
                 //$.getScript("JS/loadMktgZone.js");
                 $("#ddlRegion").change(function () {
                     var regionId = $("#ddlRegion").val();
                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetZoneInfoByRegion",
                         data: "{regionId:'" + regionId + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {

                             var companyInfo = response.d.split(';');
                             var opt = "<option value='-1'>...Select...</option>";
                             //opt = opt + "<option value='AllZone'>All Zone</option>";
                             for (var i = 1; i < companyInfo.length; i = i + 2) {
                                 var groupId = companyInfo[i];
                                 var groupName = companyInfo[i + 1];
                                 opt = opt + "<option value='" + groupId + "'>" + groupName + "</option>";
                             }
                             $("#ddlZone").html('');
                             $("#ddlZone").append(opt);

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });
                 });

                
                 $("#btnSave").click(function () {

                     
                     var groupId = $("#ddlGroupName").val();
                     var groupName = $("#ddlGroupName option:selected").text();

                     var country = $("#ddlCountry").val();
                     var division = $("#ddlDivision").val();
                     var region = $("#ddlRegion").val();
                     var zone = $("#ddlZone").val();

                     var optId = $("#ddlOperationMngr").val();
                     var optInfo = $("#ddlOperationMngr option:selected").text();
                     var arrOpt = optInfo.split('-');
                     var optName = arrOpt[1];
                    

                     var mngrId = $("#ddlAreaMngr").val();
                     var mngrInfo = $("#ddlAreaMngr option:selected").text();
                     var arrMngr = mngrInfo.split('-');
                     var mngrName = arrMngr[1];

                     var sprId = $("#ddlSupervisor").val();
                     var sprInfo = $("#ddlSupervisor option:selected").text();
                     var arrSpr = sprInfo.split('-');
                     var sprName = arrSpr[1];

                     var srId = $("#ddlMerchandiser").val();
                     var srInfo = $("#ddlMerchandiser option:selected").text();
                     var arr = srInfo.split('-');
                     var srName = arr[1];

                     var targetAmt = $("#txtTargetAmount").val();
                     var operatingCost = $("#txtOperatingCost").val();
                     var popCost = $("#txtPOPCost").val();
                     var promoCost = $("#txtPromoCost").val();

                     var month = $("#ddlMonth").val();
                     var year = $("#ddlYear").val();


                     if (srId == "") {
                         alert('Enter SR ID');
                         return;
                     }
                     else if (targetAmt == "") {
                         alert('Enter Target Amount');
                         return;
                     }
                     else if (operatingCost == "") {
                         alert('Enter Operating Cost');
                         return;
                     }
                     else if (popCost == "") {
                         alert('Enter POP Cost');
                         return;
                     }
                     else if (promoCost == "") {
                         alert('Enter Promo Cost');
                         return;
                     }
                     else if (country == "-1") {
                         alert('Select Country');
                         return;
                     }
                     else if (month == "-1") {
                         alert('Select Month');
                         return;
                     }
                     else if (year == "-1") {
                         alert('Select Year');
                         return;
                     }

                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/AddSRTarget",
                         data: "{srId:'" + srId + "',srName:'" + srName + "',groupId:'" + groupId + "',groupName:'" + groupName + "',country:'" + country + "',division:'" + division + "',region:'" + region + "',zone:'" + zone + "',targetAmt:'" + targetAmt + "',operatingCost:'" + operatingCost + "',popCost:'" + popCost + "',promoCost:'" + promoCost + "',month:'" + month + "',year:'" + year + "',optId:'" + optId + "',optName:'" + optName + "',mngrId:'" + mngrId + "',mngrName:'" + mngrName + "',sprId:'" + sprId + "',sprName:'" + sprName + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {
                             var msg = response.d;

                             alert(msg);

                            
                             $("#txtTargetAmount").val('');
                             $("#txtOperatingCost").val('');
                             $("#txtPOPCost").val('');
                             $("#txtPromoCost").val('');

                             $.getScript("JS/srMktgTarget.js");

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });

                 });
             });


             $("#lnkMonitoringReport").click(function (e) {
                 e.preventDefault();

                 $("#tblData").html("");
                 //$("html, body").animate({ scrollTop: $(document).height() - 20 }, "slow");
                 $('#dvMiddleContent').html('');
                 $('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>HR Monitoring Report</span></div>" +
                                    "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'>" +
                                    "<table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +
                                   "<tr><td>Group :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlGroupName' name='ddlGroupName'></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                    "<tr><td>Country Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlCountry' name='ddlCountry'>" +
                                    "<option value='-1'>...Select...</option><option value='Bangladesh'>Bangladesh</option><option value='India'>India</option><option value='Nepal'>Nepal</option><option value='Malaysia'>Malaysia</option><option value='Oman'>Oman</option><option value='UAE'>UAE</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Division Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDivision' name='ddlDivision'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Region/Zone :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlZone' name='ddlZone'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                   "<tr><td>From Date :</td><td><input type='text' id='txtFromDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +
                                   "<tr><td>To Date :</td><td><input type='text' id='txtToDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +

                                   "<tr><td></td><td style='text-align:right;'> <button type='button' id='btnShow' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Show</button></td></tr></table></div>");

                 $("#txtSRId").focus();

                 var d = new Date();
                 var month = d.getMonth() + 1;
                 var day = d.getDate();
                 var currentDate = (day < 10 ? '0' : '') + day + '/' + (month < 10 ? '0' : '') + month + '/' + d.getFullYear();
                 $("#txtFromDate").val(currentDate);
                 $("#txtToDate").val(currentDate);


                 $.getScript("JS/loadMktgDivision.js");
                 //loadZone();
                 $.getScript("JS/loadMktgZone.js");
                 $.getScript("JS/loadMKTGallGroup.js");

                 $("#btnShow").click(function () {


                     var group = $("#ddlGroupName").val();
                     var groupName = $("#ddlGroupName option:selected").text();

                     var country = $("#ddlCountry").val();
                     var division = $("#ddlDivision").val();
                     var zone = $("#ddlZone").val();

                     var fromDate = $("#txtFromDate").val();
                     var toDate = $("#txtToDate").val();


                     if (country == "-1") {
                         alert('Select Country');
                         return;
                     }
                     else if (division == "-1") {
                         alert('Select Division');
                         return;
                     }
                     else if (zone == "-1") {
                         alert('Select Zone');
                         return;
                     }
                     else if (fromDate == "") {
                         alert('Enter From Date');
                         return;
                     }
                     else if (toDate == "") {
                         alert('Enter To Date');
                         return;
                     }

                     $("#tblData").html("");
                     $("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='Nimages/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                     var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'>";
                     var thead = "<thead><tr><th>SR ID</th><th>SR Name</th><th>Mobile Number</th><th>Route Name</th><th>Group Name</th><th>Visited Outlet</th><th>Total Outlet</th><th>Avg. Visit</th><th>In Time</th><th>Out Time</th></tr></thead>";
                     var row = "";


                     var company = "a";//$("#ddlCompany").val();
                     var count = "0";

                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/ShowHRMonitoringReport",
                         data: "{group:'" + group + "',groupName:'" + groupName + "',country:'" + country + "',division:'" + division + "',zone:'" + zone + "',fromDate:'" + fromDate + "',toDate:'" + toDate + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {
                             var salesData = response.d.split(';');
                             for (var i = 1; i < salesData.length; i = i + 10) {
                                 var srId = salesData[i];
                                 var srName = salesData[i + 1];
                                 var mobile = salesData[i + 2];
                                 var group = salesData[i + 3];
                                 var intime = salesData[i + 4];
                                 var outtime = salesData[i + 5];
                                 var visited = salesData[i + 6];
                                 var total = salesData[i + 7];
                                 var avgVisit = salesData[i + 8];
                                 var routeName = salesData[i + 9];

                                 row = row + "<tr style='text-align:left'><td>" + srId + "</td><td>" + srName + "</td><td>" + mobile + "</td><td>" + routeName + "</td><td>" + group + "</td><td>" + visited + "</td><td>" + total + "</td><td>" + avgVisit + "</td><td>" + intime + "</td><td>" + outtime + "</td></tr>";
                             }

                             tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";


                             $("#tblData").html("");
                             $("#tblData").html(tbl);

                             var table = $('#example').DataTable({
                                 lengthChange: true,
                                 buttons: true
                             });

                             table.buttons().container().insertBefore('#example_filter');

                         },
                         failure: function (response) {
                             $("#spTotalAmt").text(response.d);
                         }
                     });


                 });
             });


             //--product wise summ
             $("#lnkProductWiseSummaryReport").click(function (e) {
                 e.preventDefault();
                 $("#tblData").html("");
                 //$.getScript("JS/srMktgTarget.js");

                 //$("html, body").animate({ scrollTop: $(document).height() - 20 }, "slow");
                 $('#dvMiddleContent').html('');
                 $('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>Product Wise Summary Report</span></div>" +
                                    "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'>" +
                                    "<table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +
                                    "<tr><td>Group :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlGroupName' name='ddlGroupName'></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                    "<tr><td>Country Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlCountry' name='ddlCountry'>" +
                                    "<option value='-1'>...Select...</option><option value='Bangladesh'>Bangladesh</option><option value='India'>India</option><option value='Nepal'>Nepal</option><option value='Malaysia'>Malaysia</option><option value='Oman'>Oman</option><option value='UAE'>UAE</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Division Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDivision' name='ddlDivision'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Region/Zone :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlZone' name='ddlZone'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                   "<tr><td>From Date :</td><td><input type='text' id='txtFromDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +
                                   "<tr><td>To Date :</td><td><input type='text' id='txtToDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +

                                   "<tr><td></td><td style='text-align:right;'> <button type='button' id='btnShow' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Show</button></td></tr></table></div>");

                 $("#txtSRId").focus();

                 var d = new Date();
                 var month = d.getMonth() + 1;
                 var day = d.getDate();
                 var currentDate = (day < 10 ? '0' : '') + day + '/' + (month < 10 ? '0' : '') + month + '/' + d.getFullYear();
                 $("#txtFromDate").val(currentDate);
                 $("#txtToDate").val(currentDate);


                 $.getScript("JS/loadMktgDivision.js");
                 //loadZone();
                 $.getScript("JS/loadMktgZone.js");
                 $.getScript("JS/loadMKTGallGroup.js");


                 $("#btnShow").click(function () {

                     var group = $("#ddlGroupName").val();
                     var groupName = $("#ddlGroupName option:selected").text();

                     var country = $("#ddlCountry").val();
                     var division = $("#ddlDivision").val();
                     var zone = $("#ddlZone").val();

                     var fromDate = $("#txtFromDate").val();
                     var toDate = $("#txtToDate").val();


                     if (country == "-1") {
                         alert('Select Country');
                         return;
                     }
                     else if (division == "-1") {
                         alert('Select Division');
                         return;
                     }
                     else if (zone == "-1") {
                         alert('Select Zone');
                         return;
                     }
                     else if (fromDate == "") {
                         alert('Enter From Date');
                         return;
                     }
                     else if (toDate == "") {
                         alert('Enter To Date');
                         return;
                     }

                     $("#tblData").html("");
                     $("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='Nimages/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                     var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'>";
                     var thead = "<thead><tr><th>Company</th><th>Group</th><th>Division</th><th>Zone</th><th>Area</th><th>Item Name</th><th>Total Block</th><th>Block Size</th><th>Service Cost</th><th>Sales Amount</th></tr></thead>";
                     var row = "";


                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetProductWiseSummMktg",
                         data: "{group:'" + group + "',groupName:'" + groupName + "',fdate:'" + fromDate + "',tdate:'" + toDate + "',country:'" + country + "',division:'" + division + "',zone:'" + zone + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {
                             var salesData = response.d.split(';');
                             for (var i = 1; i < salesData.length; i = i + 10) {
                                 var company = salesData[i];
                                 var groupName = salesData[i + 1];
                                 var division = salesData[i + 2];
                                 var zone = salesData[i + 3];
                                 var routeName = salesData[i + 4];
                                 var itemName = salesData[i + 5];
                                 var totalBlock = salesData[i + 6];
                                 var blockSize = salesData[i + 7];
                                 var serviceCost = salesData[i + 8];
                                 var salesAmt = salesData[i + 9];
                                 row = row + "<tr style='text-align:left'><td>" + company + "</td><td>" + groupName + "</td><td>" + division + "</td><td>" + zone + "</td><td>" + routeName + "</td><td>" + itemName + "</td><td>" + totalBlock + "</td><td>" + blockSize + "</td><td>" + serviceCost + "</td><td>" + salesAmt + "</td></tr>";
                             }

                             tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";


                             $("#tblData").html("");
                             $("#tblData").html(tbl);

                             var table = $('#example').DataTable({
                                 lengthChange: true,
                                 buttons: true
                             });

                             table.buttons().container().insertBefore('#example_filter');

                         },
                         failure: function (response) {
                             $("#spTotalAmt").text(response.d);
                         }
                     });




                 });
             });


             //--outlet wise summ
             $("#lnkOutletSummary").on('click', function (e) {
                 e.preventDefault();
                 $("#tblData").html("");
                 //$.getScript("JS/srMktgTarget.js");

                 //$("html, body").animate({ scrollTop: $(document).height() - 20 }, "slow");
                 $('#dvMiddleContent').html('');
                 $('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>Outlet Wise Summary Report</span></div>" +
                                    "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'>" +
                                    "<table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +
                                    "<tr><td>Group :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlGroupName' name='ddlGroupName'></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                    "<tr><td>Country Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlCountry' name='ddlCountry'>" +
                                    "<option value='-1'>...Select...</option><option value='Bangladesh'>Bangladesh</option><option value='India'>India</option><option value='Nepal'>Nepal</option><option value='Malaysia'>Malaysia</option><option value='Oman'>Oman</option><option value='UAE'>UAE</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Division Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDivision' name='ddlDivision'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Region/Zone :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlZone' name='ddlZone'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                   "<tr><td>From Date :</td><td><input type='text' id='txtFromDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +
                                   "<tr><td>To Date :</td><td><input type='text' id='txtToDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +

                                   "<tr><td></td><td style='text-align:right;'> <button type='button' id='btnShow' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Show</button></td></tr></table></div>");

                 $("#txtSRId").focus();

                 var d = new Date();
                 var month = d.getMonth() + 1;
                 var day = d.getDate();
                 var currentDate = (day < 10 ? '0' : '') + day + '/' + (month < 10 ? '0' : '') + month + '/' + d.getFullYear();
                 $("#txtFromDate").val(currentDate);
                 $("#txtToDate").val(currentDate);


                 $.getScript("JS/loadMktgDivision.js");
                 //loadZone();
                 $.getScript("JS/loadMktgZone.js");
                 $.getScript("JS/loadMKTGallGroup.js");

                 $("#btnShow").click(function () {


                     var group = $("#ddlGroupName").val();
                     var groupName = $("#ddlGroupName option:selected").text();

                     var country = $("#ddlCountry").val();
                     var division = $("#ddlDivision").val();
                     var zone = $("#ddlZone").val();

                     var fromDate = $("#txtFromDate").val();
                     var toDate = $("#txtToDate").val();


                     if (country == "-1") {
                         alert('Select Country');
                         return;
                     }
                     else if (division == "-1") {
                         alert('Select Division');
                         return;
                     }
                     else if (zone == "-1") {
                         alert('Select Zone');
                         return;
                     }
                     else if (fromDate == "") {
                         alert('Enter From Date');
                         return;
                     }
                     else if (toDate == "") {
                         alert('Enter To Date');
                         return;
                     }

                     $("#tblData").html("");
                     $("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='Nimages/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                     var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'>";
                     var thead = "<thead><tr><th>Company</th><th>Group</th><th>Division</th><th>Zone</th><th>Area</th><th>Outlet Name</th><th>Item Name</th><th>Amount</th></tr></thead>";
                     var row = "";
                     var fdate = $("#txtFromDate").val();
                     var tdate = $("#txtToDate").val();


                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetOutletWiseSummMktg",
                         data: "{group:'" + group + "',groupName:'" + groupName + "',fdate:'" + fromDate + "',tdate:'" + toDate + "',country:'" + country + "',division:'" + division + "',zone:'" + zone + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {
                             var salesData = response.d.split(';');
                             for (var i = 1; i < salesData.length; i = i + 8) {
                                 var division = salesData[i];
                                 var region = salesData[i + 1];
                                 var zone = salesData[i + 2];
                                 var outlet = salesData[i + 3];
                                 var item = salesData[i + 4];
                                 var totalAmount = salesData[i + 5];
                                 var company = salesData[i + 6];
                                 var group = salesData[i + 7];
                                 row = row + "<tr style='text-align:left'><td>" + company + "</td><td>" + group + "</td><td>" + division + "</td><td>" + region + "</td><td>" + zone + "</td><td>" + outlet + "</td><td>" + item + "</td><td>" + totalAmount + "</td></tr>";
                             }

                             tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";

                             $("#loader").css("display", "none");
                             $("#spPercentage").css("display", "none");
                             $("#tblData").html("");
                             $("#tblData").html(tbl);

                             var table = $('#example').DataTable({
                                 lengthChange: true,
                                 buttons: true
                             });

                             table.buttons().container().insertBefore('#example_filter');

                         },
                         failure: function (response) {
                             $("#spTotalAmt").text(response.d);
                         }
                     });
                 });
             });


             //--functional report---------------------------------------------
             $("#lnkFunctionalReport").on('click', function (e) {
                 e.preventDefault();
                 $("#tblData").html("");
                 //$.getScript("JS/srMktgTarget.js");

                 //$("html, body").animate({ scrollTop: $(document).height() - 20 }, "slow");
                 $('#dvMiddleContent').html('');
                 $('#dvMiddleContent').html("<div style='width:70%;height:36px;margin-top: 5px;background-color:#8dc060;text-align:center;color:#fff;font-size:25px;padding-top:10px;margin-top:10px;margin-left:15%;'><span>Functional Report</span></div>" +
                                    "<div style='width:69.8%;height:auto;margin-top: 2px;border:1px solid #8dc060;padding-top:10px;margin-left:15%;'>" +
                                    "<table style='padding-top:10px;padding-bottom: 10px;padding-left:25%'>" +
                                    "<tr><td>Group :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlGroupName' name='ddlGroupName'></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                    "<tr><td>Country Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlCountry' name='ddlCountry'>" +
                                    "<option value='-1'>...Select...</option><option value='Bangladesh'>Bangladesh</option><option value='India'>India</option><option value='Nepal'>Nepal</option><option value='Malaysia'>Malaysia</option><option value='Oman'>Oman</option><option value='UAE'>UAE</option></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Division Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlDivision' name='ddlDivision'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Region :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlRegion' name='ddlRegion'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Zone :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlZone' name='ddlZone'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Route :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlRoute' name='ddlRoute'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                    "<tr><td>Operation Mngr. :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlOperationMngr' name='ddlOperationMngr'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Area Mngr. :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlAreaMngr' name='ddlAreaMngr'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Supervisor :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlSupervisor' name='ddlSupervisor'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +
                                    "<tr><td>Merchandiser :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlMerchandiser' name='ddlMerchandiser'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                    "<tr><td>Product Name :</td><td><select style='height:28px;width:204px;border:1px solid #8dc060;' id='ddlProductName' name='ddlProductName'></select></td><td><span style='color:#ec407a;'>*</span></td></tr>" +

                                   "<tr><td>From Date :</td><td><input type='text' id='txtFromDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +
                                   "<tr><td>To Date :</td><td><input type='text' id='txtToDate' placeholder='DD/MM/YYYY' style='border:1px solid #8dc060;width:200px;height:25px;'/></td><td></td></tr>" +

                                   "<tr><td></td><td style='text-align:right;'> <button type='button' id='btnShow' style='background-color: #8dc060;border-color: #4cae4c;color: #fff;-moz-user-select: none;background-image: none;border: 1px solid transparent;border-radius: 4px;cursor: pointer;display: inline-block;font-size: 14px;font-weight: 400;line-height: 1.42857;margin-bottom: 0;padding: 6px 12px;text-align: center;vertical-align: middle;white-space: nowrap;'>Show</button></td></tr></table></div>");

                 $("#txtSRId").focus();

                 var d = new Date();
                 var month = d.getMonth() + 1;
                 var day = d.getDate();
                 var currentDate = (day < 10 ? '0' : '') + day + '/' + (month < 10 ? '0' : '') + month + '/' + d.getFullYear();
                 $("#txtFromDate").val(currentDate);
                 $("#txtToDate").val(currentDate);

                 $.getScript("JS/loadMKTGallGroup.js");

                 $("#ddlGroupName").change(function () {
                     var groupId = $("#ddlGroupName").val();
                     var mngrInfo = "country";
                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetGroupWiseOperationManager",
                         data: "{groupId:'" + groupId + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {
                             var mngrInfo = response.d.split(';');
                             var opt = "<option value='-1'>...Select...</option>";
                             for (var i = 1; i < mngrInfo.length; i = i + 2) {
                                 var mngrId = mngrInfo[i];
                                 var mngrName = mngrInfo[i + 1];
                                 opt = opt + "<option value='" + mngrId + "'>" + mngrId + "-" + mngrName + "</option>";
                             }
                             $("#ddlOperationMngr").html('');
                             $("#ddlOperationMngr").append(opt);

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });


                     var group = $("#ddlGroupName option:selected").text();
                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetGroupWiseItemInfo",
                         data: "{group:'" + group + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {
                             var itemInfo = response.d.split(';');
                             var opt = "<option value='-1'>...Select...</option>";
                             if (itemInfo.length > 1) {
                                 opt = opt + "<option value='AllProduct'>All Product</option>";
                                 for (var i = 1; i < itemInfo.length; i = i + 2) {
                                     var itemId = itemInfo[i];
                                     var itemName = itemInfo[i + 1];
                                     opt = opt + "<option value='" + itemId + "'>" + itemName + "</option>";
                                 }
                             }
                             $("#ddlProductName").html('');
                             $("#ddlProductName").append(opt);
                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });

                 });

                 $("#ddlOperationMngr").change(function () {
                     var opmId = $("#ddlOperationMngr").val();
                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetAreaMngrByOptMngr",
                         data: "{opmId:'" + opmId + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {

                             var mngrInfo = response.d.split(';');
                             var opt = "<option value='-1'>...Select...</option>";
                             for (var i = 1; i < mngrInfo.length; i = i + 2) {
                                 var mngrId = mngrInfo[i];
                                 var mngrName = mngrInfo[i + 1];
                                 opt = opt + "<option value='" + mngrId + "'>" + mngrId + "-" + mngrName + "</option>";
                             }
                             $("#ddlAreaMngr").html('');
                             $("#ddlAreaMngr").append(opt);

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });
                 });

                 $("#ddlAreaMngr").change(function () {
                     var areaMngrId = $("#ddlAreaMngr").val();
                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetSupervisorByAreaMngr",
                         data: "{areaMngrId:'" + areaMngrId + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {

                             var mngrInfo = response.d.split(';');
                             var opt = "<option value='-1'>...Select...</option>";
                             for (var i = 1; i < mngrInfo.length; i = i + 2) {
                                 var mngrId = mngrInfo[i];
                                 var mngrName = mngrInfo[i + 1];
                                 opt = opt + "<option value='" + mngrId + "'>" + mngrId + "-" + mngrName + "</option>";
                             }
                             $("#ddlSupervisor").html('');
                             $("#ddlSupervisor").append(opt);

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });
                 });

                 $("#ddlSupervisor").change(function () {
                     var superId = $("#ddlSupervisor").val();
                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetMarchandiserBySupervisor",
                         data: "{superId:'" + superId + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {

                             var mngrInfo = response.d.split(';');
                             var opt = "<option value='-1'>...Select...</option>";
                             for (var i = 1; i < mngrInfo.length; i = i + 2) {
                                 var mngrId = mngrInfo[i];
                                 var mngrName = mngrInfo[i + 1];
                                 opt = opt + "<option value='" + mngrId + "'>" + mngrId + "-" + mngrName + "</option>";
                             }
                             $("#ddlMerchandiser").html('');
                             $("#ddlMerchandiser").append(opt);

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });
                 });

                 $.getScript("JS/loadMktgDivision.js");


                 $("#ddlDivision").change(function () {
                     $.getScript("JS/loadMKTGregionByDivision.js");
                 });

                 //loadZone();
                 //$.getScript("JS/loadMktgZone.js");
                 $("#ddlRegion").change(function () {
                     var regionId = $("#ddlRegion").val();
                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetZoneInfoByRegion",
                         data: "{regionId:'" + regionId + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {

                             var companyInfo = response.d.split(';');
                             var opt = "<option value='-1'>...Select...</option>";
                             //opt = opt + "<option value='AllZone'>All Zone</option>";
                             for (var i = 1; i < companyInfo.length; i = i + 2) {
                                 var groupId = companyInfo[i];
                                 var groupName = companyInfo[i + 1];
                                 opt = opt + "<option value='" + groupId + "'>" + groupName + "</option>";
                             }
                             $("#ddlZone").html('');
                             $("#ddlZone").append(opt);

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });
                 });

                 $("#ddlZone").change(function () {
                     var zoneId = $("#ddlZone").val();
                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetRoute",
                         data: "{zoneId:'" + zoneId + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {

                             var routeInfo = response.d.split(';');
                             var opt = "<option value='-1'>...Select...</option>";
                             for (var i = 1; i < routeInfo.length; i = i + 2) {
                                 var routeId = routeInfo[i];
                                 var routeName = routeInfo[i + 1];
                                 opt = opt + "<option value='" + routeId + "'>" + routeName + "</option>";
                             }
                             $("#ddlRoute").html('');
                             $("#ddlRoute").append(opt);

                         },
                         failure: function (response) {
                             alert(response.d);
                         }
                     });
                 });

                 //$.getScript("JS/loadMktgOperationMngr.js");

                 //$.getScript("JS/loadMktgGroupWiseItem.js");



                 $("#btnShow").click(function () {


                     var group = $("#ddlGroupName").val();

                     var country = $("#ddlCountry").val();
                     var division = $("#ddlDivision").val();
                     var zone = $("#ddlZone").val();

                     var fromDate = $("#txtFromDate").val();
                     var toDate = $("#txtToDate").val();


                     if (country == "-1") {
                         alert('Select Country');
                         return;
                     }
                     else if (division == "-1") {
                         alert('Select Division');
                         return;
                     }
                     else if (zone == "-1") {
                         alert('Select Zone');
                         return;
                     }
                     else if (fromDate == "") {
                         alert('Enter From Date');
                         return;
                     }
                     else if (toDate == "") {
                         alert('Enter To Date');
                         return;
                     }

                     $("#tblData").html("");
                     $("#tblData").html("<div style='width:545px;'><span id='loader' style='float:left'><img src='Nimages/ajax-loader.gif' alt='Loading...' style='width:300px;height:17px;margin-top:10px; margin-left:40%; display:block;'/></span><span id='spPercentage' style='float:right;color:#2eaccc;display:block;margin-top:10px;'></span></div>");

                     var tbl = "<table id='example' class='display' style='color:#9C27B0' cellspacing='0' width='100%'>";
                     var thead = "<thead><tr><th>Company</th><th>Group</th><th>Division</th><th>Zone</th><th>Area</th><th>Outlet Name</th><th>Item Name</th><th>Amount</th></tr></thead>";
                     var row = "";
                     var fdate = $("#txtFromDate").val();
                     var tdate = $("#txtToDate").val();


                     $.ajax({
                         type: "POST",
                         url: "trademktg.aspx/GetOutletWiseSummMktg",
                         data: "{group:'" + group + "',fdate:'" + fromDate + "',tdate:'" + toDate + "',country:'" + country + "',division:'" + division + "',zone:'" + zone + "'}",
                         contentType: "application/json; charset=utf-8",
                         dataType: "json",
                         async: false,
                         success: function (response) {
                             var salesData = response.d.split(';');
                             for (var i = 1; i < salesData.length; i = i + 8) {
                                 var division = salesData[i];
                                 var region = salesData[i + 1];
                                 var zone = salesData[i + 2];
                                 var outlet = salesData[i + 3];
                                 var item = salesData[i + 4];
                                 var totalAmount = salesData[i + 5];
                                 var company = salesData[i + 6];
                                 var group = salesData[i + 7];
                                 row = row + "<tr style='text-align:left'><td>" + company + "</td><td>" + group + "</td><td>" + division + "</td><td>" + region + "</td><td>" + zone + "</td><td>" + outlet + "</td><td>" + item + "</td><td>" + totalAmount + "</td></tr>";
                             }

                             tbl = tbl + thead + "<tbody>" + row + "</tbody></table>";

                             $("#loader").css("display", "none");
                             $("#spPercentage").css("display", "none");
                             $("#tblData").html("");
                             $("#tblData").html(tbl);

                             var table = $('#example').DataTable({
                                 lengthChange: true,
                                 buttons: true
                             });

                             table.buttons().container().insertBefore('#example_filter');

                         },
                         failure: function (response) {
                             $("#spTotalAmt").text(response.d);
                         }
                     });
                 });
             });


             $("#lnkInformationReports").click(function (e) {
                 e.preventDefault();
                 window.location = "inforeports.aspx";
             });


         });


    </script>

    <asp:ContentPlaceHolder ID="HeadContent" runat="server">
    </asp:ContentPlaceHolder>
</head>
<body>
 <form runat="server">

 <div id="bodywrapper">
   <div id="header">
      <div><img src="images/pran-logo.png" width="80" height="25" title="Upper Sales"/></div>
      <div style="padding-top:0px;width:100%;height:300px;background-color:#eeccff">
           <div class="slider_container">
		<div class="flexslider">
	      <ul class="slides">
          <li>
	    		<a href="http://www.rflbd.com" style="padding:0px;"><img src="images/slider/sales0.gif" height="280" alt="" title=""/></a>
	    		<div class="flex-caption">
                     <div class="caption_title_line"><h2>Clear Understanding</h2><p>Should be know about the Market of PRAN-RFL Products.</p></div>
                </div>
	    	</li>
            <li>
	    		<a href="http://www.rflbd.com" style="padding:0px;"><img src="images/slider/sales2.gif" height="280" alt="" title=""/></a>
	    		<div class="flex-caption">
                     <div class="caption_title_line"><h2>Team Work</h2><p>Must be Setup Mind to Work as a Team Member.</p></div>
                </div>
	    	</li>
            <li>
	    		<a href="http://www.rflbd.com" style="padding:0px;"><img src="images/slider/sales3.gif" height="280" alt="" title=""/></a>
	    		<div class="flex-caption">
                     <div class="caption_title_line"><h2>Sales Growth</h2><p>Need to be acheive continiously Sales Growth.</p></div>
                </div>
	    	</li>
           <li>
	    		<a href="http://www.rflbd.com" style="padding:0px;"><img src="images/slider/sales4.gif" height="280" alt="" title=""/></a>
	    		<div class="flex-caption">
                     <div class="caption_title_line"><h2>Success</h2><p>Success is nothing without Hard Work.</p></div>
                </div>
	    	</li>
	    	<li>
	    		<a href="http://www.rflbd.com" style="padding:0px;"><img src="images/slider/sales5.gif" height="280" alt="" title=""/></a>
	    		<div class="flex-caption">
                     <div class="caption_title_line"><h2>Sales Step</h2><p>Should be follow the Sales Process Step.</p></div>
                </div>
	    	</li>   
	    	 
	    </ul>
	  </div>
   </div>
      </div>
   </div>
   <div style="background:#8dc060; height:49px;">
    
        <ul>
          <li><a class="active" href="login.aspx" id="lnkHome">Home</a></li>
          <li><a href="#news">About Us</a></li>
          <li><a href="#contact">Policies</a></li>           
          <li><a href="OutletReport.aspx" target="_blank">Outlet Pictures</a></li>
          <li style="float:right"><a href="#" id="lnkLogout">Log Out</a></li>
        </ul>
   </div>
   <div id="contentwrapper">
       <div style="background:rgba(0,0,0,0.12);width:100%; height:auto;">
          <div style="border:1px solid #f06292;width:200px; height:auto;float:left;">
              <section id="content">		                 
		                 <ul class="rmRootGroup rmVertical">
                         
		                    <li class="rmItem rmFirst active border-bottom"><a class="rmLink rmRootLink" href="#" style="width: 176px;"><span class="rmText">Main Menu</span></a></li>                            
                            
                             <li class="rmItem border-bottom"><a id="lnkProductWiseSummaryReport" class="rmLink rmRootLink" href="#" style="width: 176px;text-align: left;"><span class="rmText">Product Wise Summary Report</span></a></li>
                             <li class="rmItem border-bottom"><a id="lnkOutletSummary" class="rmLink rmRootLink" href="#" style="width: 176px;text-align: left;"><span class="rmText">Outlet Wise Summary Report</span></a></li>
                             <li class="rmItem border-bottom"><a id="lnkFunctionalReport" class="rmLink rmRootLink" href="#" style="width: 176px;text-align: left;"><span class="rmText">Functional Report</span></a></li>
                             <li class="rmItem border-bottom"><a id="lnkMonitoringReport" class="rmLink rmRootLink" href="#" style="width: 176px;text-align: left;"><span class="rmText">HR Monitoring Report</span></a></li>                            
                              

                             <li class="rmItem border-bottom"><a id="lnkInAddDivision" class="rmLink rmRootLink" href="#" style="width: 176px;text-align: left;"><span class="rmText">Add New Division</span></a></li>
                             <li class="rmItem border-bottom"><a id="lnkAddRegion" class="rmLink rmRootLink" href="#" style="width: 176px;text-align: left;"><span class="rmText">Add New Region</span></a></li>
                             <li class="rmItem border-bottom"><a id="lnkAddZone" class="rmLink rmRootLink" href="#" style="width: 176px;text-align: left;"><span class="rmText">Add New Zone</span></a></li>
                             
                             <li class="rmItem border-bottom"><a id="lnkAddNewAGMRM" class="rmLink rmRootLink" href="#" style="width: 176px;text-align: left;"><span class="rmText">Add New Divisional Mngr.</span></a></li>
                             <li class="rmItem border-bottom"><a id="lnkAddNewSupervisor" class="rmLink rmRootLink" href="#" style="width: 176px;text-align: left;"><span class="rmText">Add New Supervisor</span></a></li>
                             <li class="rmItem border-bottom"><a id="lnkAddNewSR" class="rmLink rmRootLink" href="#" style="width: 176px;text-align: left;"><span class="rmText">Add New Marchandiser</span></a></li>
                           

                             <li class="rmItem border-bottom"><a id="lnkAddRoute" class="rmLink rmRootLink" href="#" style="width: 176px;text-align: left;"><span class="rmText">Add New Route</span></a></li>
                             <li class="rmItem border-bottom"><a id="lnkAddOutlet" class="rmLink rmRootLink" href="#" style="width: 176px;text-align: left;"><span class="rmText">Add New Outlet</span></a></li>
                             
                            <li class="rmItem border-bottom"><a id="lnkSRRouteDay" class="rmLink rmRootLink" href="#" style="width: 176px;text-align: left;"><span class="rmText">Set SR Route & Day</span></a></li>
                             <li class="rmItem border-bottom"><a id="lnkAddProduct" class="rmLink rmRootLink" href="#" style="width: 176px;text-align: left;"><span class="rmText">Add New Product</span></a></li>
                             <li class="rmItem border-bottom"><a id="lnkAddTP" class="rmLink rmRootLink" href="#" style="width: 176px;text-align: left;"><span class="rmText">Setup Trade Program</span></a></li>
                             <li class="rmItem rmLast"><a id="lnkTarget" class="rmLink rmRootLink" href="#" style="width: 176px;text-align: left;"><span class="rmText">Target Setup</span></a></li>
                              
	                    </ul>
	                </section>
          </div>
           <div style="width:935px; height:auto;float:right;">
               <div id="dvMiddleContent" style="border:1px solid #8dc060;width:99.2%; height:auto;float:left;padding-bottom:15px;margin-bottom:10px;">
                   <img src="images/sc.jpeg" width="97%" height="500" style="margin-left:20px;margin-top:10px;"/>
               </div>
               <div id="tblData" style='padding-top:10px;padding-right:6px;'>
               </div> 
           </div>
       </div>
    
          <div style="clear:both"></div>
         <div style="line-height:14px; margin-top:15px;">
         </div>
      </div>
   </div>

<div id="footerwrapper">
   <div id="footer">
      <a href="login.aspx" style="color:white; text-decoration:none;">Home | </a><a href="" style="color:white; text-decoration:none;"> About us | </a><a href="" style="color:white; text-decoration:none;">Contact us </a>
      <p>Telephone: (02) 4961 0777&nbsp;&nbsp;&nbsp;&nbsp;Any time: 01710649448<br />
      Copyright &copy; 2016 Website: www.pranrflgroup.com Email: info@pranrflgroup.com   
        <div style="text-align:right; margin-top:-14px;"><a href="http://www.pranrflgroup.com" target=_new style="color:white; text-decoration:none;">Design & Developed by Rathindra Nath</a></div>
   </div>
</div>
    </form>
</body>
</html>